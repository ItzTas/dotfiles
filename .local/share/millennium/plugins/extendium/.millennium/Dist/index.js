const MILLENNIUM_IS_CLIENT_MODULE=!0,pluginName="extendium";function InitializePlugins(){var e,t;let n;(e=window.PLUGIN_LIST||(window.PLUGIN_LIST={}))[pluginName]||(e[pluginName]={}),(t=window.MILLENNIUM_PLUGIN_SETTINGS_STORE||(window.MILLENNIUM_PLUGIN_SETTINGS_STORE={}))[pluginName]||(t[pluginName]={}),window.MILLENNIUM_SIDEBAR_NAVIGATION_PANELS||(window.MILLENNIUM_SIDEBAR_NAVIGATION_PANELS={}),function(e){e[e.CallServerMethod=0]="CallServerMethod"}(n||(n={}));let r=window.MILLENNIUM_PLUGIN_SETTINGS_STORE[pluginName],o=`Millennium.Internal.IPC.[${pluginName}]`;const i={DropDown:["string","number","boolean"],NumberTextInput:["number"],StringTextInput:["string"],FloatTextInput:["number"],CheckBox:["boolean"],NumberSlider:["number"],FloatSlider:["number"]};function a(e,t,r){return MILLENNIUM_BACKEND_IPC.postMessage(n.CallServerMethod,{pluginName:e,methodName:"__builtins__.__update_settings_value__",argumentList:{name:t,value:r}})}r.ignoreProxyFlag=!1,async function(){for(;"undefined"==typeof MainWindowBrowserManager;)await new Promise(e=>setTimeout(e,0));MainWindowBrowserManager?.m_browser?.on("message",(e,t)=>{if(e!==o)return;const{name:n,value:i}=JSON.parse(t);r.ignoreProxyFlag=!0,r.settingsStore[n]=i,a(pluginName,n,i),r.ignoreProxyFlag=!1})}();const s=e=>new Proxy(e,{set(e,t,n){if(!(t in e))throw new TypeError(`Property ${String(t)} does not exist on plugin settings`);const s=i[e[t].type],l=e[t]?.range;if(s.includes("number")&&"number"==typeof n&&(l&&(n=function(e,t,n){return Math.max(t,Math.min(n,e))}(n,l[0],l[1])),n||(n=0)),!s.includes(typeof n))throw new TypeError(`Expected ${s.join(" or ")}, got ${typeof n}`);return e[t].value=n,((e,t)=>{r.ignoreProxyFlag||(a(pluginName,e,t),"undefined"!=typeof MainWindowBrowserManager&&MainWindowBrowserManager?.m_browser?.PostMessage(o,JSON.stringify({name:e,value:t})))})(String(t),n),!0},get:(e,t)=>"__raw_get_internals__"===t?e:t in e?e[t].value:void 0});r.DefinePluginSetting=s,r.settingsStore=s({})}InitializePlugins();const __call_server_method__=(e,t)=>Millennium.callServerMethod(pluginName,e,t),__wrapped_callable__=e=>MILLENNIUM_API.callable(__call_server_method__,e);let PluginEntryPointMain=function(){var e=function(e,t,n,r){"use strict";class o{listeners=[];addListener(e){this.listeners.push(e)}removeListener(e){this.listeners=this.listeners.filter(t=>t!==e)}hasListener(e){return this.listeners.includes(e)}hasListeners(){return this.listeners.length>0}addRules(...e){console.error("Not implemented",e)}removeRules(...e){console.error("Not implemented",e)}getRules(...e){console.error("Not implemented",e)}getListenersSnapshot(){return[...this.listeners]}emit(...e){for(const t of this.listeners)t(...e)}}let i=class e{extension;iconUrl;iconUrlListeners=[];title;constructor(e){this.extension=e,this.initIconUrl()}getPopupUrl(){return this.extension.getFileUrl(this.extension.manifest.action?.default_popup)}getPopupDir(){return this.extension.getFileDir(this.extension.manifest.action?.default_popup)}static selectBestIconPath(e,t){const n=window.devicePixelRatio,r=t??16*n,o=Object.keys(e).map(Number).filter(e=>!isNaN(e)).sort((e,t)=>e-t);let i=o.find(e=>e>=r);return void 0===i&&o.length>0&&(i=o[o.length-1]),void 0!==i?e[String(i)]:void 0}getIconUrl(){return this.iconUrl}async setIcon(t){if(void 0!==t.path){if("string"==typeof t.path)this.updateIconUrl(t.path);else if("object"==typeof t.path){const n=e.selectBestIconPath(t.path);this.updateIconUrl(n)}return Promise.resolve()}}updateIconUrl(e){this.iconUrl=this.extension.getFileUrl(e),this.notifyIconUrlListeners()}subscribeToIconUrlChange(e){this.iconUrlListeners.push(e)}unsubscribeFromIconUrlChange(e){this.iconUrlListeners=this.iconUrlListeners.filter(t=>t!==e)}notifyIconUrlListeners(){for(const e of this.iconUrlListeners)e()}initIconUrl(){this.iconUrl=this.getDefaultIconUrl()}getDefaultIconUrl(t){const n=this.extension.manifest.icons??this.extension.manifest.action?.default_icon;if(void 0!==n){if("string"==typeof n)return this.extension.getFileUrl(n);if("object"==typeof n){const r=e.selectBestIconPath(n,t);return void 0!==r&&""!==r?this.extension.getFileUrl(r):void 0}}}getTitle(){return this.title??this.extension.getName()}setTitle(e){this.title=e}initTitle(){this.title=this.getDefaultTitle()}getDefaultTitle(){const e=this.extension.manifest.action?.default_title;return void 0!==e?this.extension.tryGetLocaleMessage(e):this.extension.getName()}onClicked=new o};class a{contexts=[];addContext(e,t,n){this.contexts.push({contextId:e.document.title,contextType:t,documentId:"0",documentOrigin:"",documentUrl:n,frameId:0,incognito:!1,tabId:-1,windowId:-1,popupWindow:e})}async getContexts(e){return Promise.resolve(this.contexts.filter(t=>{if(e.contextTypes&&!e.contextTypes.includes(t.contextType))return!1;if(e.documentUrls&&void 0!==t.documentUrl&&!e.documentUrls.includes(t.documentUrl))return!1;if(void 0!==e.incognito||void 0!==e.contextIds||void 0!==e.tabIds||void 0!==e.windowIds||void 0!==e.documentIds||void 0!==e.frameIds||void 0!==e.documentOrigins)throw new Error("Not implemented");return!0}))}}function s(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var s,l=r.kind,c="getter"===l?"get":"setter"===l?"set":"value",d=!t&&e?r.static?e:e.prototype:null,u=t||(d?Object.getOwnPropertyDescriptor(d,r.name):{}),g=!1,p=n.length-1;p>=0;p--){var m={};for(var h in r)m[h]="access"===h?{}:r[h];for(var h in r.access)m.access[h]=r.access[h];m.addInitializer=function(e){if(g)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var f=(0,n[p])("accessor"===l?{get:u.get,set:u.set}:u[c],m);if("accessor"===l){if(void 0===f)continue;if(null===f||"object"!=typeof f)throw new TypeError("Object expected");(s=a(f.get))&&(u.get=s),(s=a(f.set))&&(u.set=s),(s=a(f.init))&&o.unshift(s)}else(s=a(f))&&("field"===l?o.unshift(s):u[c]=s)}d&&Object.defineProperty(d,r.name,u),g=!0}function l(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function c(e){return class extends e{constructor(...e){super(...e),function(e){const t=Object.getPrototypeOf(e),n=function(e){const t=new Set;let n=e;for(;n&&n!==Object.prototype;){const r=Object.getOwnPropertyNames(n);for(const n of r)"function"==typeof e[n]&&"constructor"!==n&&t.add(n);n=Object.getPrototypeOf(n)}return Array.from(t)}(e);for(const r of n)Object.hasOwn(e,r)||Object.defineProperty(e,r,{value:t[r].bind(e),enumerable:!0,writable:!0,configurable:!0})}(this)}}}"function"==typeof SuppressedError&&SuppressedError;let d=(()=>{let e,t,n=[c],r=[];return class{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,e={value:t},n,{kind:"class",name:t.name,metadata:o},null,r),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),l(t,r)}messages;#e;defaultLocale;constructor(e){this.#e=e,this.defaultLocale=this.#e.manifest.default_locale}async initLocale(){if(void 0===this.defaultLocale)return;const e=this.getLocaleLanguage();let t;try{t=await this.fetchLocale(e)}catch{const n=navigator.language.split("-")[0]??"";this.#e.logger.log("Locale",`Locale ${e} not found, falling back to short locale (${n})`);try{t=await this.fetchLocale(n)}catch{this.#e.logger.log("Locale",`Locale ${n} not found, falling back to default locale (${this.defaultLocale})`),t=await this.fetchLocale(this.defaultLocale)}}this.messages=JSON.parse(t)}async fetchLocale(e){const t=await fetch(this.#e.getFileUrl(`/_locales/${e}/messages.json`)??"");if(!t.ok)throw new Error(`Failed to fetch locale ${e}`);return t.text()}getMessage(e,t){const n=this.getPredefinedMessage(e);if(void 0!==n)return n;if(void 0===this.messages)throw new Error(`[${this.#e.url}] Locale not initialized, missing manifest.default_locale?`);"string"==typeof t&&(t=[t]);const r=this.messages[e];if(!r)return e;if(!t)return r.message;let o=r.message;const i=r.placeholders??{};for(const[e,t]of Object.entries(i))o=o.replace(`$${e.toUpperCase()}$`,t.content),o=o.replace(`$${e}$`,t.content);for(let e=1;e<=t.length;e++)o=o.replace(`$${e}`,t[e-1]?.toString()??"");return o}async getAcceptLanguages(){return Promise.resolve([...navigator.languages])}async detectLanguage(){return Promise.resolve({language:this.getUILanguageKey(),isReliable:!0,languages:[{language:this.getUILanguageKey(),percentage:100}]})}getPredefinedMessage(e){switch(e){case"@@extension_id":return"1234";case"@@ui_locale":return this.getUILanguageKey();case"@@bidi_dir":return document.body.dir;case"@@bidi_reversed_dir":return"ltr"===document.body.dir?"rtl":"ltr";case"@@bidi_start_edge":return"ltr"===document.body.dir?"left":"right";case"@@bidi_end_edge":return"ltr"===document.body.dir?"right":"left";default:return}}getMSGKey(e){return e.replaceAll(/__MSG_(.+)__/g,"$1")}getUILanguage(){return navigator.language}getUILanguageKey(){return this.getUILanguage().replaceAll("-","_")}getLocaleLanguage(){let e=navigator.language;return["es-419","pt-BR","pt-PT","zh-CN","zh-TW"].includes(e)||(e=e.split("-")[0]??""),e.replaceAll("-","_")}isReady(){return void 0!==this.messages||void 0===this.defaultLocale}},t})();class u{parent;VERBOSE;context;errors=[];extBadgeStyle="";ctxBadgeStyle;constructor(e,t,n){this.parent=e,this.VERBOSE=t,this.context=n,this.ctxBadgeStyle=u.makeStyleFromStr(this.context),this.parent.locale.isReady()&&this.init()}init(){this.extBadgeStyle=u.makeStyleFromStr(this.parent.getName())}log(e,...t){if(this.VERBOSE){const n=`%c[${this.parent.getName()}]%c[${this.context}]%c[${e}]`;console.debug(n,this.extBadgeStyle,this.ctxBadgeStyle,u.makeStyleFromStr(e),...t)}}error(e,...t){this.silentError(e,...t),this.addError(e,...t),this.parent.logger.addError(e,...t)}silentError(e,...t){const n=`%c[${this.parent.getName()}]%c[${this.context}]%c[${e}]`;console.error(n,this.extBadgeStyle,this.ctxBadgeStyle,u.makeStyleFromStr(e),...t)}addError(e,...t){this.errors.push(`[${this.context}][${e}]: ${t.join(" ")}`)}warn(e,...t){const n=`%c[${this.parent.getName()}]%c[${this.context}]%c[${e}]`;console.warn(n,this.extBadgeStyle,this.ctxBadgeStyle,u.makeStyleFromStr(e),...t)}static globalLog(e,...t){const n=`%c[Extendium]%c[${e}]`,r=u.makeStyleFromStr("Extendium"),o=u.makeStyleFromStr(e);console.debug(n,r,o,...t)}static makeStyleFromStr(e){const t=u.colorFromString(e),n=u.getTextColorForBg(t);return u.makeBadgeStyle(t,n)}static makeBadgeStyle(e,t){return[`background: ${e}`,`color: ${t}`,"padding: 1px 4px","border-radius: 3px","font-weight: 600"].join("; ")}static colorFromString(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<6)-t+e.charCodeAt(n),t|=0;let n="#";for(let e=0;e<3;e++)n+=`00${(t>>8*e&255).toString(16)}`.slice(-2);return n}static getTextColorForBg(e){const{r:t,g:n,b:r}=u.hexToRgb(e);return(299*t+587*n+114*r)/1e3>=128?"#000000":"#ffffff"}static hexToRgb(e){const t=e.replace("#",""),n=parseInt(t,16);return{r:n>>16&255,g:n>>8&255,b:255&n}}}class g{extension;onMessage=new o;timeout=3e4;constructor(e){this.extension=e}async sendMessage(e,t,n){const r={id:"12345",url:n??`chrome-extension://12345/${this.extension.manifest.background?.service_worker}`,tab:{id:1,url:n??`chrome-extension://12345/${this.extension.manifest.background?.service_worker}`}},o=this.onMessage.getListenersSnapshot();let i=!1,a=!1;const s=this.extension,l=new Promise(t=>{function n(e){i?s.logger.warn("Runtime","sendResponse called more than once for the same message. Ignoring subsequent calls."):(i=!0,t(e))}if(0===o.length)return s.logger.warn("Runtime","sendMessage: No listeners found for message.",e),void t(void 0);for(const t of o)try{!0===t(e,r,n)?a=!0:i&&s.logger.log("Runtime","Response sent synchronously.")}catch(e){s.logger.error("Runtime","Error in message listener:",e)}i||a?setTimeout(()=>{i||(s.logger.error("Runtime","No response sent for message, Timed out:",e),t(void 0))},this.timeout):t(void 0)});return"function"==typeof t&&l.then(t).catch(e=>{s.logger.error("Runtime","Error processing response for callback:",e);try{t(void 0)}catch(e){s.logger.error("Runtime","Error in responseCallback itself:",e)}}),l}}class p{extension;constructor(e){this.extension=e}hasOptions(){return void 0!==this.getOptionsPageUrl()}getOptionsPageUrl(){return this.extension.manifest.options_ui?.page??this.extension.manifest.options_page}}class m{manifest;url;folderName;metadata;onInstalled=new o;onStorageChanged=new o;action;runtimeEmulator;contexts;locale;logger;options;constructor(e,t,n,r){this.manifest=e,this.url=t,this.folderName=n,this.metadata=r,this.action=new i(this),this.runtimeEmulator=new g(this),this.contexts=new a,this.locale=new d(this),this.logger=new u(this,!0,"Extension"),this.options=new p(this)}async init(){await this.locale.initLocale(),this.logger.init(),this.action.initTitle()}getFileUrl(e){return void 0===e||e.startsWith(this.url)?e:""===e.trim()?this.url:e.startsWith("/")?`${this.url}${e}`:e.startsWith("./")?`${this.url}${e.slice(1)}`:e.startsWith("../")?`${this.url}${e.slice(2)}`:`${this.url}/${e}`}getFileDir(e){if(void 0===e)return this.url;let t=this.getFileUrl(e.split("/").slice(0,-1).join("/"))??this.url;return t.endsWith("/")||(t+="/"),t}getBackgroundUrl(){return this.getFileUrl(this.manifest.background?.service_worker)}getName(){const e=this.manifest.name;return this.tryGetLocaleMessage(e)}getDescription(){const e=this.manifest.description;return void 0!==e?this.tryGetLocaleMessage(e):e}getVersion(){return this.manifest.version}tryGetLocaleMessage(e){return e.startsWith("__MSG_")?this.locale.getMessage(this.locale.getMSGKey(e)):e}}const h=__wrapped_callable__("GetExtensionsInfos"),f=__wrapped_callable__("UpdateExternalLinks"),C=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>a,subscribe:e=>(n.add(e),()=>n.delete(e))},a=t=e(r,o,i);return i},b=e=>e,v=e=>{const t=(e=>e?C(e):C)(e),r=e=>function(e,t=b){const r=n.useSyncExternalStore(e.subscribe,n.useCallback(()=>t(e.getState()),[e,t]),n.useCallback(()=>t(e.getInitialState()),[e,t]));return n.useDebugValue(r),r}(t,e);return Object.assign(r,t),r},x=e=>v;function A(e,t){let n;try{n=e()}catch(e){return}return{getItem:e=>{var t;const r=e=>null===e?null:JSON.parse(e,void 0),o=null!=(t=n.getItem(e))?t:null;return o instanceof Promise?o.then(r):r(o)},setItem:(e,t)=>n.setItem(e,JSON.stringify(t,void 0)),removeItem:e=>n.removeItem(e)}}const y=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then:e=>y(e)(n),catch(e){return this}}}catch(e){return{then(e){return this},catch:t=>y(t)(e)}}},w=(e,t)=>(n,r,o)=>{let i={storage:A(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...t},a=!1;const s=new Set,l=new Set;let c=i.storage;if(!c)return e((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...e)},r,o);const d=()=>{const e=i.partialize({...r()});return c.setItem(i.name,{state:e,version:i.version})},u=o.setState;o.setState=(e,t)=>(u(e,t),d());const g=e((...e)=>(n(...e),d()),r,o);let p;o.getInitialState=()=>g;const m=()=>{var e,t;if(!c)return;a=!1,s.forEach(e=>{var t;return e(null!=(t=r())?t:g)});const o=(null==(t=i.onRehydrateStorage)?void 0:t.call(i,null!=(e=r())?e:g))||void 0;return y(c.getItem.bind(c))(i.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===i.version)return[!1,e.state];if(i.migrate){const t=i.migrate(e.state,e.version);return t instanceof Promise?t.then(e=>[!0,e]):[!0,t]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var t;const[o,a]=e;if(p=i.merge(a,null!=(t=r())?t:g),n(p,!0),o)return d()}).then(()=>{null==o||o(p,void 0),p=r(),a=!0,l.forEach(e=>e(p))}).catch(e=>{null==o||o(void 0,e)})};return o.persist={setOptions:e=>{i={...i,...e},e.storage&&(c=e.storage)},clearStorage:()=>{null==c||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>m(),hasHydrated:()=>a,onHydrate:e=>(s.add(e),()=>{s.delete(e)}),onFinishHydration:e=>(l.add(e),()=>{l.delete(e)})},i.skipHydration||m(),p||g},E=x()(w(e=>({lastChecked:new Date(0).toJSON(),lastVersions:{},updateAvailable:[],setUpdateStore:t=>{e(e=>({...e,...t}))},addLastVersion:(t,n)=>{e(e=>({...e,lastVersions:{...e.lastVersions,[t]:n}}))}}),{name:"extendium_updateStore"})),S=216e5,k=__wrapped_callable__("CheckForUpdates");async function B(){u.globalLog("Updater","Checking for updates...");const e=E.getState();if(new Date(e.lastChecked).getTime()+S>Date.now())return void u.globalLog("Updater","Last checked within interval, skipping update check.");const t=JSON.parse(await k());u.globalLog("Updater","Available updates:",t),E.setState({updateAvailable:Object.keys(t),lastChecked:(new Date).toJSON()})}var D,N,I,M,R;!function(e){e[e.OK=1]="OK",e[e.Fail=2]="Fail",e[e.NoConnection=3]="NoConnection",e[e.InvalidPassword=5]="InvalidPassword",e[e.LoggedInElsewhere=6]="LoggedInElsewhere",e[e.InvalidProtocolVer=7]="InvalidProtocolVer",e[e.InvalidParam=8]="InvalidParam",e[e.FileNotFound=9]="FileNotFound",e[e.Busy=10]="Busy",e[e.InvalidState=11]="InvalidState",e[e.InvalidName=12]="InvalidName",e[e.InvalidEmail=13]="InvalidEmail",e[e.DuplicateName=14]="DuplicateName",e[e.AccessDenied=15]="AccessDenied",e[e.Timeout=16]="Timeout",e[e.Banned=17]="Banned",e[e.AccountNotFound=18]="AccountNotFound",e[e.InvalidSteamID=19]="InvalidSteamID",e[e.ServiceUnavailable=20]="ServiceUnavailable",e[e.NotLoggedOn=21]="NotLoggedOn",e[e.Pending=22]="Pending",e[e.EncryptionFailure=23]="EncryptionFailure",e[e.InsufficientPrivilege=24]="InsufficientPrivilege",e[e.LimitExceeded=25]="LimitExceeded",e[e.Revoked=26]="Revoked",e[e.Expired=27]="Expired",e[e.AlreadyRedeemed=28]="AlreadyRedeemed",e[e.DuplicateRequest=29]="DuplicateRequest",e[e.AlreadyOwned=30]="AlreadyOwned",e[e.IPNotFound=31]="IPNotFound",e[e.PersistFailed=32]="PersistFailed",e[e.LockingFailed=33]="LockingFailed",e[e.LogonSessionReplaced=34]="LogonSessionReplaced",e[e.ConnectFailed=35]="ConnectFailed",e[e.HandshakeFailed=36]="HandshakeFailed",e[e.IOFailure=37]="IOFailure",e[e.RemoteDisconnect=38]="RemoteDisconnect",e[e.ShoppingCartNotFound=39]="ShoppingCartNotFound",e[e.Blocked=40]="Blocked",e[e.Ignored=41]="Ignored",e[e.NoMatch=42]="NoMatch",e[e.AccountDisabled=43]="AccountDisabled",e[e.ServiceReadOnly=44]="ServiceReadOnly",e[e.AccountNotFeatured=45]="AccountNotFeatured",e[e.AdministratorOK=46]="AdministratorOK",e[e.ContentVersion=47]="ContentVersion",e[e.TryAnotherCM=48]="TryAnotherCM",e[e.PasswordRequiredToKickSession=49]="PasswordRequiredToKickSession",e[e.AlreadyLoggedInElsewhere=50]="AlreadyLoggedInElsewhere",e[e.Suspended=51]="Suspended",e[e.Cancelled=52]="Cancelled",e[e.DataCorruption=53]="DataCorruption",e[e.DiskFull=54]="DiskFull",e[e.RemoteCallFailed=55]="RemoteCallFailed",e[e.PasswordUnset=56]="PasswordUnset",e[e.ExternalAccountUnlinked=57]="ExternalAccountUnlinked",e[e.PSNTicketInvalid=58]="PSNTicketInvalid",e[e.ExternalAccountAlreadyLinked=59]="ExternalAccountAlreadyLinked",e[e.RemoteFileConflict=60]="RemoteFileConflict",e[e.IllegalPassword=61]="IllegalPassword",e[e.SameAsPreviousValue=62]="SameAsPreviousValue",e[e.AccountLogonDenied=63]="AccountLogonDenied",e[e.CannotUseOldPassword=64]="CannotUseOldPassword",e[e.InvalidLoginAuthCode=65]="InvalidLoginAuthCode",e[e.AccountLogonDeniedNoMail=66]="AccountLogonDeniedNoMail",e[e.HardwareNotCapableOfIPT=67]="HardwareNotCapableOfIPT",e[e.IPTInitError=68]="IPTInitError",e[e.ParentalControlRestricted=69]="ParentalControlRestricted",e[e.FacebookQueryError=70]="FacebookQueryError",e[e.ExpiredLoginAuthCode=71]="ExpiredLoginAuthCode",e[e.IPLoginRestrictionFailed=72]="IPLoginRestrictionFailed",e[e.AccountLockedDown=73]="AccountLockedDown",e[e.AccountLogonDeniedVerifiedEmailRequired=74]="AccountLogonDeniedVerifiedEmailRequired",e[e.NoMatchingURL=75]="NoMatchingURL",e[e.BadResponse=76]="BadResponse",e[e.RequirePasswordReEntry=77]="RequirePasswordReEntry",e[e.ValueOutOfRange=78]="ValueOutOfRange",e[e.UnexpectedError=79]="UnexpectedError",e[e.Disabled=80]="Disabled",e[e.InvalidCEGSubmission=81]="InvalidCEGSubmission",e[e.RestrictedDevice=82]="RestrictedDevice",e[e.RegionLocked=83]="RegionLocked",e[e.RateLimitExceeded=84]="RateLimitExceeded",e[e.AccountLoginDeniedNeedTwoFactor=85]="AccountLoginDeniedNeedTwoFactor",e[e.ItemDeleted=86]="ItemDeleted",e[e.AccountLoginDeniedThrottle=87]="AccountLoginDeniedThrottle",e[e.TwoFactorCodeMismatch=88]="TwoFactorCodeMismatch",e[e.TwoFactorActivationCodeMismatch=89]="TwoFactorActivationCodeMismatch",e[e.AccountAssociatedToMultiplePartners=90]="AccountAssociatedToMultiplePartners",e[e.NotModified=91]="NotModified",e[e.NoMobileDevice=92]="NoMobileDevice",e[e.TimeNotSynced=93]="TimeNotSynced",e[e.SmsCodeFailed=94]="SmsCodeFailed",e[e.AccountLimitExceeded=95]="AccountLimitExceeded",e[e.AccountActivityLimitExceeded=96]="AccountActivityLimitExceeded",e[e.PhoneActivityLimitExceeded=97]="PhoneActivityLimitExceeded",e[e.RefundToWallet=98]="RefundToWallet",e[e.EmailSendFailure=99]="EmailSendFailure",e[e.NotSettled=100]="NotSettled",e[e.NeedCaptcha=101]="NeedCaptcha",e[e.GSLTDenied=102]="GSLTDenied",e[e.GSOwnerDenied=103]="GSOwnerDenied",e[e.InvalidItemType=104]="InvalidItemType",e[e.IPBanned=105]="IPBanned",e[e.GSLTExpired=106]="GSLTExpired",e[e.InsufficientFunds=107]="InsufficientFunds",e[e.TooManyPending=108]="TooManyPending",e[e.NoSiteLicensesFound=109]="NoSiteLicensesFound",e[e.WGNetworkSendExceeded=110]="WGNetworkSendExceeded",e[e.AccountNotFriends=111]="AccountNotFriends",e[e.LimitedUserAccount=112]="LimitedUserAccount"}(D||(D={})),function(e){e[e.OffScreen=0]="OffScreen",e[e.OpenVROverlay=1]="OpenVROverlay",e[e.OpenVROverlay_Dashboard=2]="OpenVROverlay_Dashboard",e[e.DirectHWND=3]="DirectHWND",e[e.DirectHWND_Borderless=4]="DirectHWND_Borderless",e[e.DirectHWND_Hidden=5]="DirectHWND_Hidden",e[e.ChildHWNDNative=6]="ChildHWNDNative",e[e.Offscreen_SteamUI=12]="Offscreen_SteamUI",e[e.OpenVROverlay_Subview=13]="OpenVROverlay_Subview"}(N||(N={})),function(e){e[e.Unknown=0]="Unknown",e[e.Global=1]="Global",e[e.China=2]="China"}(I||(I={})),function(e){e[e.Hidden=0]="Hidden",e[e.Notification=1]="Notification",e[e.Overlay=2]="Overlay",e[e.Opaque=3]="Opaque",e[e.OverlayKeyboard=4]="OverlayKeyboard"}(M||(M={})),function(e){e[e.Unknown=-1]="Unknown",e[e.GamePad=4]="GamePad",e[e.Desktop=7]="Desktop"}(R||(R={}));const O=t.findModuleExport(e=>!0===e?.toString?.()?.includes(".popupHeight")&&!0===e?.toString?.()?.includes(".popupWidth")&&!0===e?.toString?.()?.includes(".onlyPopoutIfNeeded"));function P({children:e,...r}){return r={modal:!1,...r},n.createElement(O,{...r},n.createElement(t.ModalRoot,{onCancel:r.onDismiss},e))}const L=x()(e=>({managerPopup:{open:!1,route:null},setManagerPopup:t=>{e(e=>({managerPopup:{...e.managerPopup,...t}}))},settingsPopup:{open:!1,content:null,title:""},setSettingsPopup:t=>{e(e=>({settingsPopup:{...e.settingsPopup,...t}}))}}));function _(){return n.createElement("style",null,".extensions-bar-container{margin-left:auto;margin-right:.5rem;-webkit-app-region:no-drag}.extensions-bar-container *{-webkit-app-region:no-drag}.ModalDialogBody .extensions-bar-container{margin-right:1rem}.extensions-bar-container .extensions-bar{display:flex;gap:2px;border-radius:1rem;border:1px solid rgba(0,0,0,0);transition:border .2s ease}.extensions-bar-container .extensions-bar:hover{border:1px solid gray}.extensions-bar-container .extension-button{background:none;border:none;cursor:pointer;width:31px;min-width:unset !important;height:31px;min-height:unset !important;padding:7px;border-radius:50%;position:relative;transition:background .2s ease}.extensions-bar-container .extension-button:hover{background:hsla(0,0%,100%,.2)}.extensions-bar-container .extension-button img{width:100%;height:100%}.extensions-bar-container .extension-button svg{display:block !important}.extensions-bar-container .extension-button .update-dot{position:absolute;top:3px;right:3px;width:8px;height:8px;border-radius:50%;background:#53e582;border:1px solid rgba(83,229,130,.7);box-shadow:0 0 0 1px rgba(0,0,0,.4);pointer-events:none}.extension-manager-popup{margin-top:3rem;user-select:text}.span-icon{display:flex !important;align-items:center !important;gap:10px !important;justify-content:center !important}.root-buttons{display:grid;gap:12px;grid-template-columns:repeat(auto-fill, 400px)}.root-buttons *{box-sizing:border-box !important}.card-container{display:grid;gap:12px;grid-template-columns:repeat(auto-fill, 400px);max-width:1236px;margin:2rem auto;font-size:13px}.extension-card{border-radius:8px;background-color:#292a2d;background-color:hsla(0,0%,100%,.05);display:flex;flex-direction:column;height:180px}.extension-main{display:flex;padding:16px 20px;flex:1 1 0%;min-height:0px}.extension-main .icon{align-self:flex-start;display:flex;padding:6px;position:relative;flex-direction:column;gap:8px}.extension-main .icon img{height:36px;width:36px}.extension-main .icon svg{margin:auto}.extension-main .icon .update-badge{position:absolute;top:-6px;right:-6px;width:18px;height:18px;border-radius:50%;background:rgba(83,229,130,.15);border:1px solid rgba(83,229,130,.4);display:flex;align-items:center;justify-content:center;cursor:pointer;transition:background .15s ease,transform .1s ease,border-color .15s ease}.extension-main .icon .update-badge svg{color:#53e582;width:14px;height:14px}.extension-main .icon .update-badge:hover{background:rgba(83,229,130,.25);border-color:rgba(83,229,130,.6);transform:translateY(-1px)}.extension-main .icon .update-badge.disabled{opacity:.6;cursor:default;pointer-events:none}.extension-main .content{display:flex;flex-direction:column;margin-left:24px;overflow:hidden}.extension-main .content .name-and-version{color:#fff;margin-bottom:4px;display:flex;align-items:center;gap:6px}.extension-main .content .name-and-version .name{margin-right:8px}.extension-main .content .name-and-version .version{margin-right:4px}.extension-main .content .name-and-version .update-pill{display:inline-flex;align-items:center;height:20px;padding:0 8px;border-radius:6px;background:rgba(83,229,130,.12);color:#c7f5dd;border:1px solid rgba(83,229,130,.3);font-weight:600;font-size:12px;user-select:none;cursor:pointer;box-shadow:inset 0 0 0 1px rgba(0,0,0,.3);transition:background .15s ease,border-color .15s ease,color .15s ease;gap:4px}.extension-main .content .name-and-version .update-pill:hover{background:rgba(83,229,130,.2);border-color:rgba(83,229,130,.5)}.extension-main .content .name-and-version .update-pill.disabled{opacity:.6;cursor:default;pointer-events:none}.extension-main .content .name-and-version .update-pill svg{width:12px}.extension-main .content .name-and-version .warn-pill{display:inline-flex;align-items:center;height:20px;padding:0 8px;border-radius:6px;background:rgba(255,188,66,.12);color:#ffe3b0;border:1px solid rgba(255,188,66,.3);font-weight:600;font-size:12px;user-select:none;cursor:pointer;box-shadow:inset 0 0 0 1px rgba(0,0,0,.3);transition:background .15s ease,border-color .15s ease,color .15s ease;gap:4px}.extension-main .content .name-and-version .warn-pill:hover{background:rgba(255,188,66,.2);border-color:rgba(255,188,66,.5)}.extension-main .content .name-and-version .warn-pill.disabled{opacity:.6;cursor:default;pointer-events:none}.extension-main .content .name-and-version .warn-pill svg{width:12px}.extension-main .content .description{overflow:hidden;text-overflow:ellipsis;height:100%}#errors li{font-size:75%}.layout-horizontal-center{display:flex;flex-direction:row;align-items:center}.secondary-text{font-weight:400;color:#c4c7c5}.extension-buttons{flex-shrink:0;height:48px;padding:8px 20px;display:flex;flex-direction:row;gap:8px}.extension-buttons button{flex:1 1 0%;border-radius:50px}.extension-buttons button::before{box-shadow:none !important}.extension-buttons>:last-child{margin:auto 0;margin-left:60px}.md-button{background:none;border:none;cursor:pointer;display:flex;color:#fff;font-size:20px}.md-button>svg{margin:auto}.md-button{transition:background .2s ease;border-radius:100px;width:32px;height:32px}.md-button:hover{background:hsla(0,0%,100%,.2)}.extension-detail-info{width:680px;box-shadow:0px 0px 10px rgba(0,0,0,.5);margin:auto}.extension-detail-info .page-header{display:flex;align-items:center;height:40px;margin-bottom:12px;padding:8px 12px 0px;color:hsla(0,0%,100%,.9)}.extension-detail-info .page-header>img{margin-inline:16px 12px;height:24px;width:24px}.extension-detail-info .page-header>span{flex-grow:1;overflow:hidden;text-overflow:ellipsis;font-size:107%;font-weight:500}.extension-detail-info .section{padding:12px 20px}.extension-detail-info .section .heading{display:flex;align-items:center;gap:8px}.extension-detail-info .section .content{color:#c4c7c5;display:flex;flex-direction:column}.extension-detail-info ul{margin:0px;padding-inline-start:20px}.extension-detail-info a{color:#a8c7fa}.extension-detail-info .fs-85{font-size:85%}.extension-detail-info .clickable-row{display:flex;justify-content:space-between;align-items:center;cursor:pointer;transition:background .2s ease}.extension-detail-info .clickable-row:hover{background:hsla(0,0%,100%,.2)}.extension-detail-info .clickable-row>button{background:none;border:none;cursor:pointer;display:flex;color:#fff;font-size:20px}.extension-detail-info .clickable-row>button>svg{margin:auto}.hr{border-top:1px solid hsla(0,0%,100%,.1)}.storage-manager{color:hsla(0,0%,100%,.9)}.storage-manager .storage-manager-row{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid hsla(0,0%,100%,.1)}.storage-manager .storage-manager-row button{background:none;border:none;cursor:pointer;display:flex;color:#fff;font-size:20px}.storage-manager .storage-manager-row button>svg{margin:auto}.storage-manager .storage-manager-row button{cursor:pointer;align-self:flex-start;height:34px;width:34px;padding:5px}.storage-manager .storage-manager-item{width:100%;padding:5px 0}.storage-manager .storage-manager-item:not(:has(>details[open])){border-bottom:1px solid hsla(0,0%,100%,.1)}.storage-manager .header{display:flex;align-items:center;gap:1rem;color:#fff}.storage-manager .header h1{margin:0}.styled-input{width:100%;height:100%;padding:6px 8px;border-radius:4px;border:1px solid hsla(0,0%,100%,.15);background:hsla(0,0%,100%,.04);color:inherit;box-sizing:border-box}.styled-input:focus{outline:none;border-color:#5aa9ff;box-shadow:0 0 0 2px rgba(90,169,255,.25)}.ext-links-manager{display:flex;flex-direction:column;gap:8px}.ext-links-manager *{box-sizing:border-box}.ext-links-manager .ext-links-title{font-weight:600}.ext-links-manager .ext-links-list{display:flex;flex-direction:column;gap:6px}.ext-links-manager .ext-links-row{display:grid;grid-template-columns:1fr auto auto;gap:8px;align-items:center}.ext-links-manager .ext-links-toggle{display:inline-flex;align-items:center;gap:8px;padding:6px 8px;border-radius:4px;border:1px solid hsla(0,0%,100%,.15);background:hsla(0,0%,100%,.04);color:inherit;height:100%;cursor:pointer;user-select:none}.ext-links-manager .ext-links-toggle input[type=checkbox]{-webkit-appearance:none;appearance:none;width:16px;height:16px;border:1px solid hsla(0,0%,100%,.25);border-radius:3px;background:hsla(0,0%,100%,.06);display:inline-grid;place-content:center;cursor:pointer}.ext-links-manager .ext-links-toggle input[type=checkbox]::after{content:\"\";width:10px;height:10px;transform:scale(0);transition:transform .12s ease;background:#5aa9ff;border-radius:2px}.ext-links-manager .ext-links-toggle input[type=checkbox]:checked::after{transform:scale(1)}.ext-links-manager .ext-links-toggle span{font-size:12px}.ext-links-manager .ext-links-toggle:hover{background:hsla(0,0%,100%,.08)}.ext-links-manager .ext-links-remove,.ext-links-manager .ext-links-add{padding:6px 10px;border-radius:4px;border:1px solid hsla(0,0%,100%,.15);background:hsla(0,0%,100%,.04);color:inherit;cursor:pointer;height:100%}.ext-links-manager .ext-links-remove:hover,.ext-links-manager .ext-links-add:hover{background:hsla(0,0%,100%,.08)}.ext-links-manager .ext-links-empty{opacity:.7;font-style:italic}.ext-links-manager .ext-links-actions{margin-top:4px}/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22extendium.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAoEA,0BACE,iBACA,mBACA,2BAEA,4BACE,2BAGF,2CACE,kBAGF,0CApEA,aACA,IAoEoB,IAClB,mBACA,+BACA,2BAEA,gDACE,sBAIJ,4CA1EA,gBACA,YACA,eA2EE,WACA,2BACA,YACA,4BACA,YACA,kBACA,kBACA,+BAEA,kDACE,WAxGoB,mBA2GtB,gDACE,WACA,YAGF,gDACE,yBAGF,wDACE,kBACA,QACA,UACA,UACA,WACA,kBACA,mBACA,qCACA,oCACA,oBAcN,yBACE,gBACA,iBAGF,WACE,wBACA,8BACA,oBACA,kCAGF,cACE,aACA,SACA,+CAEA,gBACE,iCAIJ,gBACE,aACA,IA1BY,KA2BZ,+CACA,iBACA,iBACA,eAGF,gBACE,kBACA,yBACA,qCACA,aACA,sBACA,aAGF,gBACE,aACA,kBACA,YACA,eAEA,sBACE,sBACA,aACA,YACA,kBACA,sBACA,QAEA,0BACE,YACA,WAGF,0BACE,YAGF,oCACE,kBACA,SACA,WACA,WACA,YACA,kBACA,gCACA,qCACA,aACA,mBACA,uBACA,eACA,0EAEA,wCACE,cACA,WACA,YAGF,0CACE,gCACA,iCACA,2BAGF,6CACE,WACA,eACA,oBAKN,yBACE,aACA,sBACA,iBACA,gBAEA,2CACE,MAhHO,KAiHP,kBACA,aACA,mBACA,QAEA,iDACE,iBAGF,oDACE,iBAGF,wDAhOJ,oBACA,mBACA,YACA,cACA,kBACA,WA6NQ,qBA5NR,MA6NQ,QA5NR,qCACA,gBACA,eACA,iBACA,eACA,0CACA,uEACA,QAEA,8DACE,WAoNM,oBAnNN,aAoNM,oBAjNR,iEACE,WACA,eACA,oBAGF,4DACE,WA8ME,sDA1OJ,oBACA,mBACA,YACA,cACA,kBACA,WAuOQ,qBAtOR,MAuOQ,QAtOR,qCACA,gBACA,eACA,iBACA,eACA,0CACA,uEACA,QAEA,4DACE,WA8NM,oBA7NN,aA8NM,oBA3NR,+DACE,WACA,eACA,oBAGF,0DACE,WAyNA,sCACE,gBACA,uBACA,YAMJ,WACE,cAIJ,0BACE,aACA,mBACA,mBAGF,gBACE,gBACA,MAxKqB,QA2KvB,mBACE,cACA,YACA,iBACA,aACA,mBACA,QAEA,0BACE,YACA,mBAEA,kCACE,2BAIJ,+BACE,cACA,iBAIJ,WAvTE,gBACA,YACA,eAMA,aACA,WACA,eAEA,eACE,YA0SJ,WAGE,+BACA,oBACA,WACA,YAEA,iBACE,WAjVsB,mBAqV1B,uBACE,YACA,uCACA,YAEA,oCACE,aACA,mBACA,YACA,mBACA,qBACA,MA/ViB,mBAiWjB,wCACE,wBACA,YACA,WAGF,yCACE,YACA,gBACA,uBACA,eACA,gBAIJ,gCACE,kBAEA,yCACE,aACA,mBACA,QAGF,yCACE,MArPiB,QAsPjB,aACA,sBAIJ,0BACE,WACA,0BAGF,yBACE,cAGF,8BACE,cAGF,sCAxYA,aACA,8BACA,mBAwYE,eACA,+BAEA,4CACE,WApZoB,mBAuZtB,6CAtYF,gBACA,YACA,eAMA,aACA,WACA,eAEA,iDACE,YAgYJ,IACE,wCAKF,iBACE,MApamB,mBAqanB,sCAhaA,aACA,8BACA,mBAgaE,2CAEA,6CAzZF,gBACA,YACA,eAMA,aACA,WACA,eAEA,iDACE,YA4YA,6CAEE,eACA,sBACA,YACA,WACA,YAIJ,uCACE,WACA,cAEA,iEACE,2CAIJ,yBACE,aACA,mBACA,SACA,WAEA,4BACE,SAON,cACE,WACA,YACA,gBACA,kBACA,qCACA,WAR+B,oBAS/B,cACA,sBAEA,oBACE,aACA,qBACA,0CAIJ,mBACE,aACA,sBACA,QAEA,qBACE,sBAGF,oCACE,gBAGF,mCACE,aACA,sBACA,QAGF,kCACE,aACA,oCACA,QACA,mBAGF,qCACE,oBACA,mBACA,QACA,gBACA,kBACA,qCACA,WApD6B,oBAqD7B,cACA,YACA,eACA,iBAEA,0DACE,wBACA,gBACA,WACA,YACA,qCACA,kBACA,+BACA,oBACA,qBACA,eAGF,iEACE,WACA,WACA,YACA,mBACA,+BACA,mBACA,kBAGF,yEACE,mBAGF,0CACE,eAGF,2CACE,+BAIJ,uEAEE,iBACA,kBACA,qCACA,WAnG6B,oBAoG7B,cACA,eACA,YAEA,mFACE,+BAIJ,oCACE,WACA,kBAGF,sCACE%22,%22file%22:%22extendium.css%22,%22sourcesContent%22:%5B%22//%20Variables%5Cn$button-hover-background:%20rgba(255,%20255,%20255,%200.2);%5Cn$primary-text-color:%20rgba(255,%20255,%20255,%200.9);%5Cn$secondary-text-color:%20rgba(255,%20255,%20255,%200.6);%5Cn%5Cn//%20Mixins%5Cn@mixin%20flex-between%20%7B%5Cn%20%20display:%20flex;%5Cn%20%20justify-content:%20space-between;%5Cn%20%20align-items:%20center;%5Cn%7D%5Cn%5Cn@mixin%20flex-gap($gap)%20%7B%5Cn%20%20display:%20flex;%5Cn%20%20gap:%20$gap;%5Cn%7D%5Cn%5Cn@mixin%20button%20%7B%5Cn%20%20background:%20none;%5Cn%20%20border:%20none;%5Cn%20%20cursor:%20pointer;%5Cn%7D%5Cn%5Cn@mixin%20icon-button%20%7B%5Cn%20%20@include%20button;%5Cn%5Cn%20%20display:%20flex;%5Cn%20%20color:%20white;%5Cn%20%20font-size:%2020px;%5Cn%5Cn%20%20&%20%3E%20svg%20%7B%5Cn%20%20%20%20margin:%20auto;%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn@mixin%20pill($bg,%20$fg,%20$border,%20$hover-bg,%20$hover-border)%20%7B%5Cn%20%20display:%20inline-flex;%5Cn%20%20align-items:%20center;%5Cn%20%20height:%2020px;%5Cn%20%20padding:%200%208px;%5Cn%20%20border-radius:%206px;%5Cn%20%20background:%20$bg;%5Cn%20%20color:%20$fg;%5Cn%20%20border:%201px%20solid%20$border;%5Cn%20%20font-weight:%20600;%5Cn%20%20font-size:%2012px;%5Cn%20%20user-select:%20none;%5Cn%20%20cursor:%20pointer;%5Cn%20%20box-shadow:%20inset%200%200%200%201px%20rgba(0,%200,%200,%200.3);%5Cn%20%20transition:%20background%200.15s%20ease,%20border-color%200.15s%20ease,%20color%200.15s%20ease;%5Cn%20%20gap:%204px;%5Cn%5Cn%20%20&:hover%20%7B%5Cn%20%20%20%20background:%20$hover-bg;%5Cn%20%20%20%20border-color:%20$hover-border;%5Cn%20%20%7D%5Cn%5Cn%20%20&.disabled%20%7B%5Cn%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%7D%5Cn%5Cn%20%20svg%20%7B%5Cn%20%20%20%20width:%2012px;%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn.extensions-bar-container%20%7B%5Cn%20%20margin-left:%20auto;%5Cn%20%20margin-right:%200.5rem;%5Cn%20%20-webkit-app-region:%20no-drag;%5Cn%5Cn%20%20*%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%7D%5Cn%5Cn%20%20.ModalDialogBody%20&%20%7B%5Cn%20%20%20%20margin-right:%201rem;%5Cn%20%20%7D%5Cn%5Cn%20%20.extensions-bar%20%7B%5Cn%20%20%20%20@include%20flex-gap(2px);%5Cn%20%20%20%20border-radius:%201rem;%5Cn%20%20%20%20border:%201px%20solid%20transparent;%5Cn%20%20%20%20transition:%20border%200.2s%20ease;%5Cn%5Cn%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20border:%201px%20solid%20gray;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20.extension-button%20%7B%5Cn%20%20%20%20@include%20button;%5Cn%5Cn%20%20%20%20width:%2031px;%5Cn%20%20%20%20min-width:%20unset%20!important;%5Cn%20%20%20%20height:%2031px;%5Cn%20%20%20%20min-height:%20unset%20!important;%5Cn%20%20%20%20padding:%207px;%5Cn%20%20%20%20border-radius:%2050%25;%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20transition:%20background%200.2s%20ease;%5Cn%5Cn%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20background:%20$button-hover-background;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20img%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%20%20height:%20100%25;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20svg%20%7B%5Cn%20%20%20%20%20%20display:%20block%20!important;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20.update-dot%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20top:%203px;%5Cn%20%20%20%20%20%20right:%203px;%5Cn%20%20%20%20%20%20width:%208px;%5Cn%20%20%20%20%20%20height:%208px;%5Cn%20%20%20%20%20%20border-radius:%2050%25;%5Cn%20%20%20%20%20%20background:%20%2353e582;%5Cn%20%20%20%20%20%20border:%201px%20solid%20rgba(83,%20229,%20130,%200.7);%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%201px%20rgba(0,%200,%200,%200.4);%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn%5Cn//%23region%20extension-manager%5Cn$text-color:%20white;%5Cn$secondary-text-color:%20rgb(196,%20199,%20197);%5Cn%5Cn$card-width:%20400px;%5Cn$max-columns:%203;%5Cn$grid-gutter:%2012px;%5Cn%5Cn.extension-manager-popup%20%7B%5Cn%20%20margin-top:%203rem;%5Cn%20%20user-select:%20text;%5Cn%7D%5Cn%5Cn.span-icon%20%7B%5Cn%20%20display:%20flex%20!important;%5Cn%20%20align-items:%20center%20!important;%5Cn%20%20gap:%2010px%20!important;%5Cn%20%20justify-content:%20center%20!important;%5Cn%7D%5Cn%5Cn.root-buttons%20%7B%5Cn%20%20display:%20grid;%5Cn%20%20gap:%2012px;%5Cn%20%20grid-template-columns:%20repeat(auto-fill,%20400px);%5Cn%5Cn%20%20*%20%7B%5Cn%20%20%20%20box-sizing:%20border-box%20!important;%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn.card-container%20%7B%5Cn%20%20display:%20grid;%5Cn%20%20gap:%20$grid-gutter;%5Cn%20%20grid-template-columns:%20repeat(auto-fill,%20$card-width);%5Cn%20%20max-width:%20calc($card-width%20*%20$max-columns%20+%20$grid-gutter%20*%20$max-columns);%5Cn%20%20margin:%202rem%20auto;%5Cn%20%20font-size:%2013px;%5Cn%7D%5Cn%5Cn.extension-card%20%7B%5Cn%20%20border-radius:%208px;%5Cn%20%20background-color:%20%23292a2d;%5Cn%20%20background-color:%20hsla(0,%200%25,%20100%25,%200.05);%5Cn%20%20display:%20flex;%5Cn%20%20flex-direction:%20column;%5Cn%20%20height:%20180px;%5Cn%7D%5Cn%5Cn.extension-main%20%7B%5Cn%20%20display:%20flex;%5Cn%20%20padding:%2016px%2020px;%5Cn%20%20flex:%201%201%200%25;%5Cn%20%20min-height:%200px;%5Cn%5Cn%20%20.icon%20%7B%5Cn%20%20%20%20align-self:%20flex-start;%5Cn%20%20%20%20display:%20flex;%5Cn%20%20%20%20padding:%206px;%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20flex-direction:%20column;%5Cn%20%20%20%20gap:%208px;%5Cn%5Cn%20%20%20%20img%20%7B%5Cn%20%20%20%20%20%20height:%2036px;%5Cn%20%20%20%20%20%20width:%2036px;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20svg%20%7B%5Cn%20%20%20%20%20%20margin:%20auto;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20.update-badge%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20top:%20-6px;%5Cn%20%20%20%20%20%20right:%20-6px;%5Cn%20%20%20%20%20%20width:%2018px;%5Cn%20%20%20%20%20%20height:%2018px;%5Cn%20%20%20%20%20%20border-radius:%2050%25;%5Cn%20%20%20%20%20%20background:%20rgba(83,%20229,%20130,%200.15);%5Cn%20%20%20%20%20%20border:%201px%20solid%20rgba(83,%20229,%20130,%200.4);%5Cn%20%20%20%20%20%20display:%20flex;%5Cn%20%20%20%20%20%20align-items:%20center;%5Cn%20%20%20%20%20%20justify-content:%20center;%5Cn%20%20%20%20%20%20cursor:%20pointer;%5Cn%20%20%20%20%20%20transition:%20background%200.15s%20ease,%20transform%200.1s%20ease,%20border-color%200.15s%20ease;%5Cn%5Cn%20%20%20%20%20%20svg%20%7B%5Cn%20%20%20%20%20%20%20%20color:%20%2353e582;%5Cn%20%20%20%20%20%20%20%20width:%2014px;%5Cn%20%20%20%20%20%20%20%20height:%2014px;%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20background:%20rgba(83,%20229,%20130,%200.25);%5Cn%20%20%20%20%20%20%20%20border-color:%20rgba(83,%20229,%20130,%200.6);%5Cn%20%20%20%20%20%20%20%20transform:%20translateY(-1px);%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20&.disabled%20%7B%5Cn%20%20%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%20%20%20%20cursor:%20default;%5Cn%20%20%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20.content%20%7B%5Cn%20%20%20%20display:%20flex;%5Cn%20%20%20%20flex-direction:%20column;%5Cn%20%20%20%20margin-left:%2024px;%5Cn%20%20%20%20overflow:%20hidden;%5Cn%5Cn%20%20%20%20.name-and-version%20%7B%5Cn%20%20%20%20%20%20color:%20$text-color;%5Cn%20%20%20%20%20%20margin-bottom:%204px;%5Cn%20%20%20%20%20%20display:%20flex;%5Cn%20%20%20%20%20%20align-items:%20center;%5Cn%20%20%20%20%20%20gap:%206px;%5Cn%5Cn%20%20%20%20%20%20.name%20%7B%5Cn%20%20%20%20%20%20%20%20margin-right:%208px;%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20.version%20%7B%5Cn%20%20%20%20%20%20%20%20margin-right:%204px;%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20.update-pill%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20pill(%5Cn%20%20%20%20%20%20%20%20%20%20rgba(83,%20229,%20130,%200.12),%5Cn%20%20%20%20%20%20%20%20%20%20%23c7f5dd,%5Cn%20%20%20%20%20%20%20%20%20%20rgba(83,%20229,%20130,%200.3),%5Cn%20%20%20%20%20%20%20%20%20%20rgba(83,%20229,%20130,%200.2),%5Cn%20%20%20%20%20%20%20%20%20%20rgba(83,%20229,%20130,%200.5)%5Cn%20%20%20%20%20%20%20%20);%5Cn%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20.warn-pill%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20pill(%5Cn%20%20%20%20%20%20%20%20%20%20rgba(255,%20188,%2066,%200.12),%5Cn%20%20%20%20%20%20%20%20%20%20%23ffe3b0,%5Cn%20%20%20%20%20%20%20%20%20%20rgba(255,%20188,%2066,%200.3),%5Cn%20%20%20%20%20%20%20%20%20%20rgba(255,%20188,%2066,%200.2),%5Cn%20%20%20%20%20%20%20%20%20%20rgba(255,%20188,%2066,%200.5)%5Cn%20%20%20%20%20%20%20%20);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20.description%20%7B%5Cn%20%20%20%20%20%20overflow:%20hidden;%5Cn%20%20%20%20%20%20text-overflow:%20ellipsis;%5Cn%20%20%20%20%20%20height:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn%23errors%20%7B%5Cn%20%20li%20%7B%5Cn%20%20%20%20font-size:%2075%25;%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn.layout-horizontal-center%20%7B%5Cn%20%20display:%20flex;%5Cn%20%20flex-direction:%20row;%5Cn%20%20align-items:%20center;%5Cn%7D%5Cn%5Cn.secondary-text%20%7B%5Cn%20%20font-weight:%20400;%5Cn%20%20color:%20$secondary-text-color;%5Cn%7D%5Cn%5Cn.extension-buttons%20%7B%5Cn%20%20flex-shrink:%200;%5Cn%20%20height:%2048px;%5Cn%20%20padding:%208px%2020px;%5Cn%20%20display:%20flex;%5Cn%20%20flex-direction:%20row;%5Cn%20%20gap:%208px;%5Cn%5Cn%20%20button%20%7B%5Cn%20%20%20%20flex:%201%201%200%25;%5Cn%20%20%20%20border-radius:%2050px;%5Cn%5Cn%20%20%20%20&::before%20%7B%5Cn%20%20%20%20%20%20box-shadow:%20none%20!important;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&%20%3E:last-child%20%7B%5Cn%20%20%20%20margin:%20auto%200;%5Cn%20%20%20%20margin-left:%2060px;%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn.md-button%20%7B%5Cn%20%20@include%20icon-button;%5Cn%5Cn%20%20transition:%20background%200.2s%20ease;%5Cn%20%20border-radius:%20100px;%5Cn%20%20width:%2032px;%5Cn%20%20height:%2032px;%5Cn%5Cn%20%20&:hover%20%7B%5Cn%20%20%20%20background:%20$button-hover-background;%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn.extension-detail-info%20%7B%5Cn%20%20width:%20680px;%5Cn%20%20box-shadow:%200px%200px%2010px%20rgba(0,%200,%200,%200.5);%5Cn%20%20margin:%20auto;%5Cn%5Cn%20%20.page-header%20%7B%5Cn%20%20%20%20display:%20flex;%5Cn%20%20%20%20align-items:%20center;%5Cn%20%20%20%20height:%2040px;%5Cn%20%20%20%20margin-bottom:%2012px;%5Cn%20%20%20%20padding:%208px%2012px%200px;%5Cn%20%20%20%20color:%20$primary-text-color;%5Cn%5Cn%20%20%20%20&%20%3E%20img%20%7B%5Cn%20%20%20%20%20%20margin-inline:%2016px%2012px;%5Cn%20%20%20%20%20%20height:%2024px;%5Cn%20%20%20%20%20%20width:%2024px;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&%20%3E%20span%20%7B%5Cn%20%20%20%20%20%20flex-grow:%201;%5Cn%20%20%20%20%20%20overflow:%20hidden;%5Cn%20%20%20%20%20%20text-overflow:%20ellipsis;%5Cn%20%20%20%20%20%20font-size:%20107%25;%5Cn%20%20%20%20%20%20font-weight:%20500;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20.section%20%7B%5Cn%20%20%20%20padding:%2012px%2020px;%5Cn%5Cn%20%20%20%20.heading%20%7B%5Cn%20%20%20%20%20%20display:%20flex;%5Cn%20%20%20%20%20%20align-items:%20center;%5Cn%20%20%20%20%20%20gap:%208px;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20.content%20%7B%5Cn%20%20%20%20%20%20color:%20$secondary-text-color;%5Cn%20%20%20%20%20%20display:%20flex;%5Cn%20%20%20%20%20%20flex-direction:%20column;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20ul%20%7B%5Cn%20%20%20%20margin:%200px;%5Cn%20%20%20%20padding-inline-start:%2020px;%5Cn%20%20%7D%5Cn%5Cn%20%20a%20%7B%5Cn%20%20%20%20color:%20rgb(168,%20199,%20250);%5Cn%20%20%7D%5Cn%5Cn%20%20.fs-85%20%7B%5Cn%20%20%20%20font-size:%2085%25;%5Cn%20%20%7D%5Cn%5Cn%20%20.clickable-row%20%7B%5Cn%20%20%20%20@include%20flex-between;%5Cn%20%20%20%20cursor:%20pointer;%5Cn%20%20%20%20transition:%20background%200.2s%20ease;%5Cn%5Cn%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20background:%20$button-hover-background;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&%20%3E%20button%20%7B%5Cn%20%20%20%20%20%20@include%20icon-button;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%7D%5Cn%5Cn.hr%20%7B%5Cn%20%20border-top:%201px%20solid%20rgba(255,%20255,%20255,%200.1);%5Cn%7D%5Cn%5Cn//%23endregion%5Cn%5Cn.storage-manager%20%7B%5Cn%20%20color:%20$primary-text-color;%5Cn%20%20.storage-manager-row%20%7B%5Cn%20%20%20%20@include%20flex-between;%5Cn%20%20%20%20border-bottom:%201px%20solid%20rgba(255,%20255,%20255,%200.1);%5Cn%5Cn%20%20%20%20button%20%7B%5Cn%20%20%20%20%20%20@include%20icon-button;%5Cn%20%20%20%20%20%20cursor:%20pointer;%5Cn%20%20%20%20%20%20align-self:%20flex-start;%5Cn%20%20%20%20%20%20height:%2034px;%5Cn%20%20%20%20%20%20width:%2034px;%5Cn%20%20%20%20%20%20padding:%205px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20.storage-manager-item%20%7B%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20padding:%205px%200;%5Cn%5Cn%20%20%20%20&:not(:has(%3E%20details%5Bopen%5D))%20%7B%5Cn%20%20%20%20%20%20border-bottom:%201px%20solid%20rgba(255,%20255,%20255,%200.1);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20.header%20%7B%5Cn%20%20%20%20display:%20flex;%5Cn%20%20%20%20align-items:%20center;%5Cn%20%20%20%20gap:%201rem;%5Cn%20%20%20%20color:%20white;%5Cn%5Cn%20%20%20%20h1%20%7B%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%7D%5Cn$externalLinksDefaultBackground:%20rgba(255,%20255,%20255,%200.04);%5Cn%5Cn.styled-input%20%7B%5Cn%20%20width:%20100%25;%5Cn%20%20height:%20100%25;%5Cn%20%20padding:%206px%208px;%5Cn%20%20border-radius:%204px;%5Cn%20%20border:%201px%20solid%20rgba(255,%20255,%20255,%200.15);%5Cn%20%20background:%20$externalLinksDefaultBackground;%5Cn%20%20color:%20inherit;%5Cn%20%20box-sizing:%20border-box;%5Cn%5Cn%20%20&:focus%20%7B%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20border-color:%20%235aa9ff;%5Cn%20%20%20%20box-shadow:%200%200%200%202px%20rgba(90,%20169,%20255,%200.25);%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn.ext-links-manager%20%7B%5Cn%20%20display:%20flex;%5Cn%20%20flex-direction:%20column;%5Cn%20%20gap:%208px;%5Cn%5Cn%20%20*%20%7B%5Cn%20%20%20%20box-sizing:%20border-box;%5Cn%20%20%7D%5Cn%5Cn%20%20.ext-links-title%20%7B%5Cn%20%20%20%20font-weight:%20600;%5Cn%20%20%7D%5Cn%5Cn%20%20.ext-links-list%20%7B%5Cn%20%20%20%20display:%20flex;%5Cn%20%20%20%20flex-direction:%20column;%5Cn%20%20%20%20gap:%206px;%5Cn%20%20%7D%5Cn%5Cn%20%20.ext-links-row%20%7B%5Cn%20%20%20%20display:%20grid;%5Cn%20%20%20%20grid-template-columns:%201fr%20auto%20auto;%20//%20input,%20regex%20toggle,%20remove%20button%5Cn%20%20%20%20gap:%208px;%5Cn%20%20%20%20align-items:%20center;%5Cn%20%20%7D%5Cn%5Cn%20%20.ext-links-toggle%20%7B%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%20%20align-items:%20center;%5Cn%20%20%20%20gap:%208px;%5Cn%20%20%20%20padding:%206px%208px;%5Cn%20%20%20%20border-radius:%204px;%5Cn%20%20%20%20border:%201px%20solid%20rgba(255,%20255,%20255,%200.15);%5Cn%20%20%20%20background:%20$externalLinksDefaultBackground;%5Cn%20%20%20%20color:%20inherit;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%20%20cursor:%20pointer;%5Cn%20%20%20%20user-select:%20none;%5Cn%5Cn%20%20%20%20input%5Btype='checkbox'%5D%20%7B%5Cn%20%20%20%20%20%20-webkit-appearance:%20none;%5Cn%20%20%20%20%20%20appearance:%20none;%5Cn%20%20%20%20%20%20width:%2016px;%5Cn%20%20%20%20%20%20height:%2016px;%5Cn%20%20%20%20%20%20border:%201px%20solid%20rgba(255,%20255,%20255,%200.25);%5Cn%20%20%20%20%20%20border-radius:%203px;%5Cn%20%20%20%20%20%20background:%20rgba(255,%20255,%20255,%200.06);%5Cn%20%20%20%20%20%20display:%20inline-grid;%5Cn%20%20%20%20%20%20place-content:%20center;%5Cn%20%20%20%20%20%20cursor:%20pointer;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20input%5Btype='checkbox'%5D::after%20%7B%5Cn%20%20%20%20%20%20content:%20'';%5Cn%20%20%20%20%20%20width:%2010px;%5Cn%20%20%20%20%20%20height:%2010px;%5Cn%20%20%20%20%20%20transform:%20scale(0);%5Cn%20%20%20%20%20%20transition:%20transform%200.12s%20ease;%5Cn%20%20%20%20%20%20background:%20%235aa9ff;%5Cn%20%20%20%20%20%20border-radius:%202px;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20input%5Btype='checkbox'%5D:checked::after%20%7B%5Cn%20%20%20%20%20%20transform:%20scale(1);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20span%20%7B%5Cn%20%20%20%20%20%20font-size:%2012px;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20background:%20rgba(255,%20255,%20255,%200.08);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20.ext-links-remove,%5Cn%20%20.ext-links-add%20%7B%5Cn%20%20%20%20padding:%206px%2010px;%5Cn%20%20%20%20border-radius:%204px;%5Cn%20%20%20%20border:%201px%20solid%20rgba(255,%20255,%20255,%200.15);%5Cn%20%20%20%20background:%20$externalLinksDefaultBackground;%5Cn%20%20%20%20color:%20inherit;%5Cn%20%20%20%20cursor:%20pointer;%5Cn%20%20%20%20height:%20100%25;%5Cn%5Cn%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20background:%20rgba(255,%20255,%20255,%200.08);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20.ext-links-empty%20%7B%5Cn%20%20%20%20opacity:%200.7;%5Cn%20%20%20%20font-style:%20italic;%5Cn%20%20%7D%5Cn%5Cn%20%20.ext-links-actions%20%7B%5Cn%20%20%20%20margin-top:%204px;%5Cn%20%20%7D%5Cn%7D%22%5D%7D */\n")}let T,U,F;async function $(e,n=document){return[...await t.Millennium.findElement(n,e)][0]}async function W(e,t,n,r){return new Promise((o,i)=>{const a=t.createElement("script");if(a.setAttribute("type","text/javascript"),a.setAttribute("src",e),n)for(const e of n)a.setAttribute(e.name,e.value);!0===r&&a.setAttribute("type","module"),a.addEventListener("load",()=>{o()}),a.addEventListener("error",()=>{i(new Error(`Failed to load script "${e}" for document "${t.title}"`))}),t.head.appendChild(a)})}function j(e,t){const n=new XMLHttpRequest;n.open("GET",e,!1),n.send();const r=t.createElement("script");r.textContent=`${n.responseText}\n//# sourceURL=${e}`,t.head.appendChild(r)}var z={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},G=n.createContext&&n.createContext(z),V=["attr","size","title"];function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach(function(t){K(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function K(e,t,n){var r;return(t="symbol"==typeof(r=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t,"string"))?r:r+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function J(e){return e&&e.map((e,t)=>n.createElement(e.tag,q({key:t},e.attr),J(e.child)))}function Q(e){return t=>n.createElement(X,H({attr:q({},e.attr)},t),J(e.child))}function X(e){var t=t=>{var r,{attr:o,size:i,title:a}=e,s=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,V),l=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",H({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,s,{className:r,style:q(q({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&n.createElement("title",null,a),e.children)};return void 0!==G?n.createElement(G.Consumer,null,e=>t(e)):t(z)}function Z(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M8 256C8 119 119 8 256 8s248 111 248 248-111 248-248 248S8 393 8 256zm143.6 28.9l72.4-75.5V392c0 13.3 10.7 24 24 24h16c13.3 0 24-10.7 24-24V209.4l72.4 75.5c9.3 9.7 24.8 9.9 34.3.4l10.9-11c9.4-9.4 9.4-24.6 0-33.9L273 107.7c-9.4-9.4-24.6-9.4-33.9 0L106.3 240.4c-9.4 9.4-9.4 24.6 0 33.9l10.9 11c9.6 9.5 25.1 9.3 34.4-.4z"},child:[]}]})(e)}function ee(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function te(e){return Q({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 73.143v45.714C448 159.143 347.667 192 224 192S0 159.143 0 118.857V73.143C0 32.857 100.333 0 224 0s224 32.857 224 73.143zM448 176v102.857C448 319.143 347.667 352 224 352S0 319.143 0 278.857V176c48.125 33.143 136.208 48.572 224 48.572S399.874 209.143 448 176zm0 160v102.857C448 479.143 347.667 512 224 512S0 479.143 0 438.857V336c48.125 33.143 136.208 48.572 224 48.572S399.874 369.143 448 336z"},child:[]}]})(e)}function ne(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function re(e){return Q({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"},child:[]}]})(e)}function oe(e){return Q({attr:{viewBox:"0 0 616 512"},child:[{tag:"path",attr:{d:"M602 118.6L537.1 15C531.3 5.7 521 0 510 0H106C95 0 84.7 5.7 78.9 15L14 118.6c-33.5 53.5-3.8 127.9 58.8 136.4 4.5.6 9.1.9 13.7.9 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18 20.1 44.3 33.1 73.8 33.1 29.6 0 55.8-13 73.8-33.1 18.1 20.1 44.3 33.1 73.8 33.1 4.7 0 9.2-.3 13.7-.9 62.8-8.4 92.6-82.8 59-136.4zM529.5 288c-10 0-19.9-1.5-29.5-3.8V384H116v-99.8c-9.6 2.2-19.5 3.8-29.5 3.8-6 0-12.1-.4-18-1.2-5.6-.8-11.1-2.1-16.4-3.6V480c0 17.7 14.3 32 32 32h448c17.7 0 32-14.3 32-32V283.2c-5.4 1.6-10.8 2.9-16.4 3.6-6.1.8-12.1 1.2-18.2 1.2z"},child:[]}]})(e)}function ie(e){return Q({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function ae(e){return Q({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(e)}function se(e){return Q({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"},child:[]}]})(e)}function le(e){return Q({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"},child:[]}]})(e)}function ce(e){return Q({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"},child:[]}]})(e)}function de(){const{settingsPopup:e,setSettingsPopup:t}=L();return e.open?n.createElement(P,{strTitle:e.title,onDismiss:()=>{t({open:!1})},popupWidth:T.innerWidth/2,popupHeight:T.innerHeight/2,resizable:!0,saveDimensionsKey:`extensionSettingsPopup_${e.title.replace(/\s/g,"_")}`},e.content):null}t.routerHook.addGlobalComponent("ExtensionSettingsPopup",()=>n.createElement(de,null),R.Desktop);function ue(e){if(void 0===e||""===e||"undefined"===e)return"undefined";const t=atob(e),n=new Uint8Array([...t].map(e=>e.charCodeAt(0)));return(new TextDecoder).decode(n)}function ge(e){if(void 0===e||""===e||"undefined"===e)return"undefined";const t=(new TextEncoder).encode(e),n=Array.from(t).map(e=>String.fromCharCode(e)).join("");return btoa(n)}const pe="extendium_cors_cache",me=new Map;async function he(e,t,n){const r=t.toString().replace("https://","").replace("http://","");return await e("http://127.0.0.1:8792/proxy/"+r,n)}var fe;!function(e){e.INSTALL="install",e.UPDATE="update",e.CHROME_UPDATE="chrome_update",e.SHARED_MODULE_UPDATE="shared_module_update"}(fe||(fe={}));let Ce=(()=>{let e,t,n=[c],r=[];return class{static{t=this}static{const o="function"==typeof Symbol&&Symbol.metadata?Object.create(null):void 0;s(null,e={value:t},n,{kind:"class",name:t.name,metadata:o},null,r),t=e.value,o&&Object.defineProperty(t,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:o}),l(t,r)}area;QUOTA_BYTES;onChanged=new o;STORAGE_KEY;#e;#t;constructor(e,t,n){this.area=t,this.#e=e,this.#t=n,this.STORAGE_KEY=`${this.#e.getName()}::${this.area}`,"local"===this.area?this.QUOTA_BYTES=5242880:"sync"===this.area?this.QUOTA_BYTES=102400:this.QUOTA_BYTES=1024}async get(e,t){this.#t.log(`storage.${this.area}.get`,e,t);const n=localStorage.getItem(this.STORAGE_KEY);let r={},o=[];if(null===n)return null!==e&&"object"==typeof e&&(r=e),t&&t(r),Promise.resolve(r);const i=JSON.parse(n);"function"==typeof e&&(t=e,e=null),null==e?r={...i}:o="string"==typeof e?[e]:Array.isArray(e)?e.map(e=>String(e)):Object.keys(e);for(const t of o)t in i?r[t]=i[t]:null!==e&&"object"==typeof e&&t in e&&(r[t]=e[t]);return t&&t(r),Promise.resolve(r)}async set(e,t){this.#t.log(`storage.${this.area}.set`,e,t);const n=localStorage.getItem(this.STORAGE_KEY),r=null!==n?JSON.parse(n):{},o={...r};Object.assign(r,e),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),t&&t();const i={};for(const t of Object.keys(e))i[t]={oldValue:o[t],newValue:e[t]};return this.#e.onStorageChanged.emit(i,this.area),this.onChanged.emit(i,this.area),Promise.resolve()}async remove(e,t){this.#t.log(`storage.${this.area}.remove`,e,t);const n=localStorage.getItem(this.STORAGE_KEY),r=null!==n?JSON.parse(n):{},o={...r};if("string"==typeof e)delete r[e];else if(Array.isArray(e))for(const t of e)delete r[t];localStorage.setItem(this.STORAGE_KEY,JSON.stringify(r)),t&&t();const i={};for(const t of e)i[t]={oldValue:o[t],newValue:void 0};return this.#e.onStorageChanged.emit(i,this.area),this.onChanged.emit(i,this.area),Promise.resolve()}async clear(e){return this.#t.log(`storage.${this.area}.clear`,e),localStorage.removeItem(this.STORAGE_KEY),e&&e(),Promise.resolve()}async getKeys(e){const t=localStorage.getItem(this.STORAGE_KEY),n=null!==t?JSON.parse(t):{};return e&&e(Object.keys(n)),Promise.resolve(Object.keys(n))}async setAccessLevel(...e){return console.error("Not implemented",e),Promise.resolve()}async getBytesInUse(e,t){return console.error("Not implemented",e,t),Promise.resolve(0)}},t})();class be extends Ce{QUOTA_BYTES_PER_ITEM=8192;MAX_ITEMS=512;MAX_WRITE_OPERATIONS_PER_HOUR=1e4;MAX_WRITE_OPERATIONS_PER_MINUTE=200;MAX_SUSTAINED_WRITE_OPERATIONS_PER_MINUTE=10;MAX_SUSTAINED_READ_OPERATIONS_PER_MINUTE=10;constructor(e,t){super(e,"sync",t)}}function ve(e,t){return new Proxy(function(){const n=e.join(".");t.error("Chrome",`Chrome API function '${n}()' does not exist.`)},{get(n,r){if("symbol"!=typeof r)return ve([...e,r],t)},apply(){const n=e.join(".");t.error("Chrome",`Chrome API function '${n}()' does not exist.`)}})}function xe(e,t,n=[]){return new Proxy(e,{get(e,r){if("symbol"==typeof r)return;if(r in e){const o=e[r];return"object"!=typeof o||null===o||Array.isArray(o)?o:xe(o,t,[...n,r])}const o=[...n,r].join(".");return t.error("Chrome",`Chrome API property '${o}' does not exist.`),ve([...n,r],t)}})}const Ae="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement;function ye(e){const t=Object.prototype.toString.call(e);return"[object Window]"===t||"[object global]"===t}function we(e){return"nodeType"in e}function Ee(e){var t,n;return e?ye(e)?e:we(e)&&null!=(t=null==(n=e.ownerDocument)?void 0:n.defaultView)?t:window:window}function Se(e){const{Document:t}=Ee(e);return e instanceof t}function ke(e){return!ye(e)&&e instanceof Ee(e).HTMLElement}function Be(e){return e instanceof Ee(e).SVGElement}function De(e){return e?ye(e)?e.document:we(e)?Se(e)?e:ke(e)||Be(e)?e.ownerDocument:document:document:document}const Ne=Ae?n.useLayoutEffect:n.useEffect;function Ie(e){const t=n.useRef(e);return Ne(()=>{t.current=e}),n.useCallback(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)},[])}function Me(e,t){void 0===t&&(t=[e]);const r=n.useRef(e);return Ne(()=>{r.current!==e&&(r.current=e)},t),r}function Re(e,t){const r=n.useRef();return n.useMemo(()=>{const t=e(r.current);return r.current=t,t},[...t])}function Oe(e){const t=Ie(e),r=n.useRef(null),o=n.useCallback(e=>{e!==r.current&&(null==t||t(e,r.current)),r.current=e},[]);return[r,o]}function Pe(e){const t=n.useRef();return n.useEffect(()=>{t.current=e},[e]),t.current}let Le={};function _e(e,t){return n.useMemo(()=>{if(t)return t;const n=null==Le[e]?0:Le[e]+1;return Le[e]=n,e+"-"+n},[e,t])}function Te(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((t,n)=>{const r=Object.entries(n);for(const[n,o]of r){const r=t[n];null!=r&&(t[n]=r+e*o)}return t},{...t})}}const Ue=Te(1),Fe=Te(-1);function $e(e){if(!e)return!1;const{KeyboardEvent:t}=Ee(e.target);return t&&e instanceof t}function We(e){if(function(e){if(!e)return!1;const{TouchEvent:t}=Ee(e.target);return t&&e instanceof t}(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:n}=e.touches[0];return{x:t,y:n}}if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:n}=e.changedTouches[0];return{x:t,y:n}}}return function(e){return"clientX"in e&&"clientY"in e}(e)?{x:e.clientX,y:e.clientY}:null}const je=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:n}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(n?Math.round(n):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:n}=e;return"scaleX("+t+") scaleY("+n+")"}},Transform:{toString(e){if(e)return[je.Translate.toString(e),je.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:n,easing:r}=e;return t+" "+n+"ms "+r}}}),ze="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function Ge(e){return e.matches(ze)?e:e.querySelector(ze)}const Ve={display:"none"};function He(e){let{id:t,value:r}=e;return n.createElement("div",{id:t,style:Ve},r)}function Ye(e){let{id:t,announcement:r,ariaLiveType:o="assertive"}=e;return n.createElement("div",{id:t,style:{position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"},role:"status","aria-live":o,"aria-atomic":!0},r)}const qe=n.createContext(null),Ke={draggable:"\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  "},Je={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was moved over droppable area "+n.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:n}=e;return n?"Draggable item "+t.id+" was dropped over droppable area "+n.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Qe(e){let{announcements:t=Je,container:o,hiddenTextDescribedById:i,screenReaderInstructions:a=Ke}=e;const{announce:s,announcement:l}=function(){const[e,t]=n.useState("");return{announce:n.useCallback(e=>{null!=e&&t(e)},[]),announcement:e}}(),c=_e("DndLiveRegion"),[d,u]=n.useState(!1);if(n.useEffect(()=>{u(!0)},[]),function(e){const t=n.useContext(qe);n.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}(n.useMemo(()=>({onDragStart(e){let{active:n}=e;s(t.onDragStart({active:n}))},onDragMove(e){let{active:n,over:r}=e;t.onDragMove&&s(t.onDragMove({active:n,over:r}))},onDragOver(e){let{active:n,over:r}=e;s(t.onDragOver({active:n,over:r}))},onDragEnd(e){let{active:n,over:r}=e;s(t.onDragEnd({active:n,over:r}))},onDragCancel(e){let{active:n,over:r}=e;s(t.onDragCancel({active:n,over:r}))}}),[s,t])),!d)return null;const g=n.createElement(n.Fragment,null,n.createElement(He,{id:i,value:a.draggable}),n.createElement(Ye,{id:c,announcement:l}));return o?r.createPortal(g,o):g}var Xe;function Ze(){}!function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"}(Xe||(Xe={}));const et=Object.freeze({x:0,y:0});function tt(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return n-r}function rt(e,t){let{data:{value:n}}=e,{data:{value:r}}=t;return r-n}function ot(e,t,n){return void 0===t&&(t=e.left),void 0===n&&(n=e.top),{x:t+.5*e.width,y:n+.5*e.height}}const it=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=ot(t,t.left,t.top),i=[];for(const e of r){const{id:t}=e,r=n.get(t);if(r){const n=tt(ot(r),o);i.push({id:t,data:{droppableContainer:e,value:n}})}}return i.sort(nt)};function at(e,t){const n=Math.max(t.top,e.top),r=Math.max(t.left,e.left),o=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),a=o-r,s=i-n;if(r<o&&n<i){const n=t.width*t.height,r=e.width*e.height,o=a*s;return Number((o/(n+r-o)).toFixed(4))}return 0}const st=e=>{let{collisionRect:t,droppableRects:n,droppableContainers:r}=e;const o=[];for(const e of r){const{id:r}=e,i=n.get(r);if(i){const n=at(i,t);n>0&&o.push({id:r,data:{droppableContainer:e,value:n}})}}return o.sort(rt)};function lt(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:et}const ct=function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.reduce((t,n)=>({...t,top:t.top+e*n.y,bottom:t.bottom+e*n.y,left:t.left+e*n.x,right:t.right+e*n.x}),{...t})}}(1),dt={ignoreTransform:!1};function ut(e,t){void 0===t&&(t=dt);let n=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:t,transformOrigin:r}=Ee(e).getComputedStyle(e);t&&(n=function(e,t,n){const r=function(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}(t);if(!r)return e;const{scaleX:o,scaleY:i,x:a,y:s}=r,l=e.left-a-(1-o)*parseFloat(n),c=e.top-s-(1-i)*parseFloat(n.slice(n.indexOf(" ")+1)),d=o?e.width/o:e.width,u=i?e.height/i:e.height;return{width:d,height:u,top:c,right:l+d,bottom:c+u,left:l}}(n,t,r))}const{top:r,left:o,width:i,height:a,bottom:s,right:l}=n;return{top:r,left:o,width:i,height:a,bottom:s,right:l}}function gt(e){return ut(e,{ignoreTransform:!0})}function pt(e,t){const n=[];return e?function r(o){if(null!=t&&n.length>=t)return n;if(!o)return n;if(Se(o)&&null!=o.scrollingElement&&!n.includes(o.scrollingElement))return n.push(o.scrollingElement),n;if(!ke(o)||Be(o))return n;if(n.includes(o))return n;const i=Ee(e).getComputedStyle(o);return o!==e&&function(e,t){void 0===t&&(t=Ee(e).getComputedStyle(e));const n=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(e=>{const r=t[e];return"string"==typeof r&&n.test(r)})}(o,i)&&n.push(o),function(e,t){return void 0===t&&(t=Ee(e).getComputedStyle(e)),"fixed"===t.position}(o,i)?n:r(o.parentNode)}(e):n}function mt(e){const[t]=pt(e,1);return null!=t?t:null}function ht(e){return Ae&&e?ye(e)?e:we(e)?Se(e)||e===De(e).scrollingElement?window:ke(e)?e:null:null:null}function ft(e){return ye(e)?e.scrollX:e.scrollLeft}function Ct(e){return ye(e)?e.scrollY:e.scrollTop}function bt(e){return{x:ft(e),y:Ct(e)}}var vt;function xt(e){return!(!Ae||!e)&&e===document.scrollingElement}function At(e){const t={x:0,y:0},n=xt(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},r={x:e.scrollWidth-n.width,y:e.scrollHeight-n.height};return{isTop:e.scrollTop<=t.y,isLeft:e.scrollLeft<=t.x,isBottom:e.scrollTop>=r.y,isRight:e.scrollLeft>=r.x,maxScroll:r,minScroll:t}}!function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"}(vt||(vt={}));const yt={x:.2,y:.2};function wt(e,t,n,r,o){let{top:i,left:a,right:s,bottom:l}=n;void 0===r&&(r=10),void 0===o&&(o=yt);const{isTop:c,isBottom:d,isLeft:u,isRight:g}=At(e),p={x:0,y:0},m={x:0,y:0},h=t.height*o.y,f=t.width*o.x;return!c&&i<=t.top+h?(p.y=vt.Backward,m.y=r*Math.abs((t.top+h-i)/h)):!d&&l>=t.bottom-h&&(p.y=vt.Forward,m.y=r*Math.abs((t.bottom-h-l)/h)),!g&&s>=t.right-f?(p.x=vt.Forward,m.x=r*Math.abs((t.right-f-s)/f)):!u&&a<=t.left+f&&(p.x=vt.Backward,m.x=r*Math.abs((t.left+f-a)/f)),{direction:p,speed:m}}function Et(e){if(e===document.scrollingElement){const{innerWidth:e,innerHeight:t}=window;return{top:0,left:0,right:e,bottom:t,width:e,height:t}}const{top:t,left:n,right:r,bottom:o}=e.getBoundingClientRect();return{top:t,left:n,right:r,bottom:o,width:e.clientWidth,height:e.clientHeight}}function St(e){return e.reduce((e,t)=>Ue(e,bt(t)),et)}const kt=[["x",["left","right"],function(e){return e.reduce((e,t)=>e+ft(t),0)}],["y",["top","bottom"],function(e){return e.reduce((e,t)=>e+Ct(t),0)}]];class Bt{constructor(e,t){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=pt(t),r=St(n);this.rect={...e},this.width=e.width,this.height=e.height;for(const[e,t,o]of kt)for(const i of t)Object.defineProperty(this,i,{get:()=>{const t=o(n),a=r[e]-t;return this.rect[i]+a},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Dt{constructor(e){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(e=>{var t;return null==(t=this.target)?void 0:t.removeEventListener(...e)})},this.target=e}add(e,t,n){var r;null==(r=this.target)||r.addEventListener(e,t,n),this.listeners.push([e,t,n])}}function Nt(e,t){const n=Math.abs(e.x),r=Math.abs(e.y);return"number"==typeof t?Math.sqrt(n**2+r**2)>t:"x"in t&&"y"in t?n>t.x&&r>t.y:"x"in t?n>t.x:"y"in t&&r>t.y}var It,Mt;function Rt(e){e.preventDefault()}function Ot(e){e.stopPropagation()}!function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"}(It||(It={})),function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"}(Mt||(Mt={}));const Pt={start:[Mt.Space,Mt.Enter],cancel:[Mt.Esc],end:[Mt.Space,Mt.Enter,Mt.Tab]},Lt=(e,t)=>{let{currentCoordinates:n}=t;switch(e.code){case Mt.Right:return{...n,x:n.x+25};case Mt.Left:return{...n,x:n.x-25};case Mt.Down:return{...n,y:n.y+25};case Mt.Up:return{...n,y:n.y-25}}};class _t{constructor(e){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=e;const{event:{target:t}}=e;this.props=e,this.listeners=new Dt(De(t)),this.windowListeners=new Dt(Ee(t)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(It.Resize,this.handleCancel),this.windowListeners.add(It.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(It.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:e,onStart:t}=this.props,n=e.node.current;n&&function(e,t){if(void 0===t&&(t=ut),!e)return;const{top:n,left:r,bottom:o,right:i}=t(e);mt(e)&&(o<=0||i<=0||n>=window.innerHeight||r>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}(n),t(et)}handleKeyDown(e){if($e(e)){const{active:t,context:n,options:r}=this.props,{keyboardCodes:o=Pt,coordinateGetter:i=Lt,scrollBehavior:a="smooth"}=r,{code:s}=e;if(o.end.includes(s))return void this.handleEnd(e);if(o.cancel.includes(s))return void this.handleCancel(e);const{collisionRect:l}=n.current,c=l?{x:l.left,y:l.top}:et;this.referenceCoordinates||(this.referenceCoordinates=c);const d=i(e,{active:t,context:n.current,currentCoordinates:c});if(d){const t=Fe(d,c),r={x:0,y:0},{scrollableAncestors:o}=n.current;for(const n of o){const o=e.code,{isTop:i,isRight:s,isLeft:l,isBottom:c,maxScroll:u,minScroll:g}=At(n),p=Et(n),m={x:Math.min(o===Mt.Right?p.right-p.width/2:p.right,Math.max(o===Mt.Right?p.left:p.left+p.width/2,d.x)),y:Math.min(o===Mt.Down?p.bottom-p.height/2:p.bottom,Math.max(o===Mt.Down?p.top:p.top+p.height/2,d.y))},h=o===Mt.Right&&!s||o===Mt.Left&&!l,f=o===Mt.Down&&!c||o===Mt.Up&&!i;if(h&&m.x!==d.x){const e=n.scrollLeft+t.x,i=o===Mt.Right&&e<=u.x||o===Mt.Left&&e>=g.x;if(i&&!t.y)return void n.scrollTo({left:e,behavior:a});r.x=i?n.scrollLeft-e:o===Mt.Right?n.scrollLeft-u.x:n.scrollLeft-g.x,r.x&&n.scrollBy({left:-r.x,behavior:a});break}if(f&&m.y!==d.y){const e=n.scrollTop+t.y,i=o===Mt.Down&&e<=u.y||o===Mt.Up&&e>=g.y;if(i&&!t.x)return void n.scrollTo({top:e,behavior:a});r.y=i?n.scrollTop-e:o===Mt.Down?n.scrollTop-u.y:n.scrollTop-g.y,r.y&&n.scrollBy({top:-r.y,behavior:a});break}}this.handleMove(e,Ue(Fe(d,this.referenceCoordinates),r))}}}handleMove(e,t){const{onMove:n}=this.props;e.preventDefault(),n(t)}handleEnd(e){const{onEnd:t}=this.props;e.preventDefault(),this.detach(),t()}handleCancel(e){const{onCancel:t}=this.props;e.preventDefault(),this.detach(),t()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}function Tt(e){return Boolean(e&&"distance"in e)}function Ut(e){return Boolean(e&&"delay"in e)}_t.activators=[{eventName:"onKeyDown",handler:(e,t,n)=>{let{keyboardCodes:r=Pt,onActivation:o}=t,{active:i}=n;const{code:a}=e.nativeEvent;if(r.start.includes(a)){const t=i.activatorNode.current;return!(t&&e.target!==t||(e.preventDefault(),null==o||o({event:e.nativeEvent}),0))}return!1}}];class Ft{constructor(e,t,n){var r;void 0===n&&(n=function(e){const{EventTarget:t}=Ee(e);return e instanceof t?e:De(e)}(e.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=e,this.events=t;const{event:o}=e,{target:i}=o;this.props=e,this.events=t,this.document=De(i),this.documentListeners=new Dt(this.document),this.listeners=new Dt(n),this.windowListeners=new Dt(Ee(i)),this.initialCoordinates=null!=(r=We(o))?r:et,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:e,props:{options:{activationConstraint:t,bypassActivationConstraint:n}}}=this;if(this.listeners.add(e.move.name,this.handleMove,{passive:!1}),this.listeners.add(e.end.name,this.handleEnd),e.cancel&&this.listeners.add(e.cancel.name,this.handleCancel),this.windowListeners.add(It.Resize,this.handleCancel),this.windowListeners.add(It.DragStart,Rt),this.windowListeners.add(It.VisibilityChange,this.handleCancel),this.windowListeners.add(It.ContextMenu,Rt),this.documentListeners.add(It.Keydown,this.handleKeydown),t){if(null!=n&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(Ut(t))return this.timeoutId=setTimeout(this.handleStart,t.delay),void this.handlePending(t);if(Tt(t))return void this.handlePending(t)}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),null!==this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(e,t){const{active:n,onPending:r}=this.props;r(n,e,this.initialCoordinates,t)}handleStart(){const{initialCoordinates:e}=this,{onStart:t}=this.props;e&&(this.activated=!0,this.documentListeners.add(It.Click,Ot,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(It.SelectionChange,this.removeTextSelection),t(e))}handleMove(e){var t;const{activated:n,initialCoordinates:r,props:o}=this,{onMove:i,options:{activationConstraint:a}}=o;if(!r)return;const s=null!=(t=We(e))?t:et,l=Fe(r,s);if(!n&&a){if(Tt(a)){if(null!=a.tolerance&&Nt(l,a.tolerance))return this.handleCancel();if(Nt(l,a.distance))return this.handleStart()}return Ut(a)&&Nt(l,a.tolerance)?this.handleCancel():void this.handlePending(a,l)}e.cancelable&&e.preventDefault(),i(s)}handleEnd(){const{onAbort:e,onEnd:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleCancel(){const{onAbort:e,onCancel:t}=this.props;this.detach(),this.activated||e(this.props.active),t()}handleKeydown(e){e.code===Mt.Esc&&this.handleCancel()}removeTextSelection(){var e;null==(e=this.document.getSelection())||e.removeAllRanges()}}const $t={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class Wt extends Ft{constructor(e){const{event:t}=e,n=De(t.target);super(e,$t,n)}}Wt.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return!(!n.isPrimary||0!==n.button||(null==r||r({event:n}),0))}}];const jt={move:{name:"mousemove"},end:{name:"mouseup"}};var zt;!function(e){e[e.RightClick=2]="RightClick"}(zt||(zt={})),class extends Ft{constructor(e){super(e,jt,De(e.event.target))}}.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;return n.button!==zt.RightClick&&(null==r||r({event:n}),!0)}}];const Gt={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};var Vt,Ht;(class extends Ft{constructor(e){super(e,Gt)}static setup(){return window.addEventListener(Gt.move.name,e,{capture:!1,passive:!1}),function(){window.removeEventListener(Gt.move.name,e)};function e(){}}}).activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:n}=e,{onActivation:r}=t;const{touches:o}=n;return!(o.length>1||(null==r||r({event:n}),0))}}],function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"}(Vt||(Vt={})),function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"}(Ht||(Ht={}));const Yt={x:{[vt.Backward]:!1,[vt.Forward]:!1},y:{[vt.Backward]:!1,[vt.Forward]:!1}};var qt,Kt;!function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"}(qt||(qt={})),function(e){e.Optimized="optimized"}(Kt||(Kt={}));const Jt=new Map;function Qt(e,t){return Re(n=>e?n||("function"==typeof t?t(e):e):null,[t,e])}function Xt(e){let{callback:t,disabled:r}=e;const o=Ie(t),i=n.useMemo(()=>{if(r||"undefined"==typeof window||void 0===window.ResizeObserver)return;const{ResizeObserver:e}=window;return new e(o)},[r]);return n.useEffect(()=>()=>null==i?void 0:i.disconnect(),[i]),i}function Zt(e){return new Bt(ut(e),e)}function en(e,t,r){void 0===t&&(t=Zt);const[o,i]=n.useState(null);function a(){i(n=>{if(!e)return null;var o;if(!1===e.isConnected)return null!=(o=null!=n?n:r)?o:null;const i=t(e);return JSON.stringify(n)===JSON.stringify(i)?n:i})}const s=function(e){let{callback:t,disabled:r}=e;const o=Ie(t),i=n.useMemo(()=>{if(r||"undefined"==typeof window||void 0===window.MutationObserver)return;const{MutationObserver:e}=window;return new e(o)},[o,r]);return n.useEffect(()=>()=>null==i?void 0:i.disconnect(),[i]),i}({callback(t){if(e)for(const n of t){const{type:t,target:r}=n;if("childList"===t&&r instanceof HTMLElement&&r.contains(e)){a();break}}}}),l=Xt({callback:a});return Ne(()=>{a(),e?(null==l||l.observe(e),null==s||s.observe(document.body,{childList:!0,subtree:!0})):(null==l||l.disconnect(),null==s||s.disconnect())},[e]),o}const tn=[];function nn(e,t){void 0===t&&(t=[]);const r=n.useRef(null);return n.useEffect(()=>{r.current=null},t),n.useEffect(()=>{const t=e!==et;t&&!r.current&&(r.current=e),!t&&r.current&&(r.current=null)},[e]),r.current?Fe(e,r.current):et}function rn(e){return n.useMemo(()=>e?function(e){const t=e.innerWidth,n=e.innerHeight;return{top:0,left:0,right:t,bottom:n,width:t,height:n}}(e):null,[e])}const on=[];const an=[{sensor:Wt,options:{}},{sensor:_t,options:{}}],sn={current:{}},ln={draggable:{measure:gt},droppable:{measure:gt,strategy:qt.WhileDragging,frequency:Kt.Optimized},dragOverlay:{measure:ut}};class cn extends Map{get(e){var t;return null!=e&&null!=(t=super.get(e))?t:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(e=>{let{disabled:t}=e;return!t})}getNodeFor(e){var t,n;return null!=(t=null==(n=this.get(e))?void 0:n.node.current)?t:void 0}}const dn={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new cn,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Ze},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:ln,measureDroppableContainers:Ze,windowRect:null,measuringScheduled:!1},un={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Ze,draggableNodes:new Map,over:null,measureDroppableContainers:Ze},gn=n.createContext(un),pn=n.createContext(dn);function mn(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new cn}}}function hn(e,t){switch(t.type){case Xe.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case Xe.DragMove:return null==e.draggable.active?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case Xe.DragEnd:case Xe.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case Xe.RegisterDroppable:{const{element:n}=t,{id:r}=n,o=new cn(e.droppable.containers);return o.set(r,n),{...e,droppable:{...e.droppable,containers:o}}}case Xe.SetDroppableDisabled:{const{id:n,key:r,disabled:o}=t,i=e.droppable.containers.get(n);if(!i||r!==i.key)return e;const a=new cn(e.droppable.containers);return a.set(n,{...i,disabled:o}),{...e,droppable:{...e.droppable,containers:a}}}case Xe.UnregisterDroppable:{const{id:n,key:r}=t,o=e.droppable.containers.get(n);if(!o||r!==o.key)return e;const i=new cn(e.droppable.containers);return i.delete(n),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function fn(e){let{disabled:t}=e;const{active:r,activatorEvent:o,draggableNodes:i}=n.useContext(gn),a=Pe(o),s=Pe(null==r?void 0:r.id);return n.useEffect(()=>{if(!t&&!o&&a&&null!=s){if(!$e(a))return;if(document.activeElement===a.target)return;const e=i.get(s);if(!e)return;const{activatorNode:t,node:n}=e;if(!t.current&&!n.current)return;requestAnimationFrame(()=>{for(const e of[t.current,n.current]){if(!e)continue;const t=Ge(e);if(t){t.focus();break}}})}},[o,t,i,s,a]),null}const Cn=n.createContext({...et,scaleX:1,scaleY:1});var bn;!function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"}(bn||(bn={}));const vn=n.memo(function(e){var t,o,i,a;let{id:s,accessibility:l,autoScroll:c=!0,children:d,sensors:u=an,collisionDetection:g=st,measuring:p,modifiers:m,...h}=e;const f=n.useReducer(hn,void 0,mn),[C,b]=f,[v,x]=function(){const[e]=n.useState(()=>new Set),t=n.useCallback(t=>(e.add(t),()=>e.delete(t)),[e]);return[n.useCallback(t=>{let{type:n,event:r}=t;e.forEach(e=>{var t;return null==(t=e[n])?void 0:t.call(e,r)})},[e]),t]}(),[A,y]=n.useState(bn.Uninitialized),w=A===bn.Initialized,{draggable:{active:E,nodes:S,translate:k},droppable:{containers:B}}=C,D=null!=E?S.get(E):null,N=n.useRef({initial:null,translated:null}),I=n.useMemo(()=>{var e;return null!=E?{id:E,data:null!=(e=null==D?void 0:D.data)?e:sn,rect:N}:null},[E,D]),M=n.useRef(null),[R,O]=n.useState(null),[P,L]=n.useState(null),_=Me(h,Object.values(h)),T=_e("DndDescribedBy",s),U=n.useMemo(()=>B.getEnabled(),[B]),F=($=p,n.useMemo(()=>({draggable:{...ln.draggable,...null==$?void 0:$.draggable},droppable:{...ln.droppable,...null==$?void 0:$.droppable},dragOverlay:{...ln.dragOverlay,...null==$?void 0:$.dragOverlay}}),[null==$?void 0:$.draggable,null==$?void 0:$.droppable,null==$?void 0:$.dragOverlay]));var $;const{droppableRects:W,measureDroppableContainers:j,measuringScheduled:z}=function(e,t){let{dragging:r,dependencies:o,config:i}=t;const[a,s]=n.useState(null),{frequency:l,measure:c,strategy:d}=i,u=n.useRef(e),g=function(){switch(d){case qt.Always:return!1;case qt.BeforeDragging:return r;default:return!r}}(),p=Me(g),m=n.useCallback(function(e){void 0===e&&(e=[]),p.current||s(t=>null===t?e:t.concat(e.filter(e=>!t.includes(e))))},[p]),h=n.useRef(null),f=Re(t=>{if(g&&!r)return Jt;if(!t||t===Jt||u.current!==e||null!=a){const t=new Map;for(let n of e){if(!n)continue;if(a&&a.length>0&&!a.includes(n.id)&&n.rect.current){t.set(n.id,n.rect.current);continue}const e=n.node.current,r=e?new Bt(c(e),e):null;n.rect.current=r,r&&t.set(n.id,r)}return t}return t},[e,a,r,g,c]);return n.useEffect(()=>{u.current=e},[e]),n.useEffect(()=>{g||m()},[r,g]),n.useEffect(()=>{a&&a.length>0&&s(null)},[JSON.stringify(a)]),n.useEffect(()=>{g||"number"!=typeof l||null!==h.current||(h.current=setTimeout(()=>{m(),h.current=null},l))},[l,g,m,...o]),{droppableRects:f,measureDroppableContainers:m,measuringScheduled:null!=a}}(U,{dragging:w,dependencies:[k.x,k.y],config:F.droppable}),G=function(e,t){const n=null!=t?e.get(t):void 0,r=n?n.node.current:null;return Re(e=>{var n;return null==t?null:null!=(n=null!=r?r:e)?n:null},[r,t])}(S,E),V=n.useMemo(()=>P?We(P):null,[P]),H=function(){const e=!1===(null==R?void 0:R.autoScrollEnabled),t="object"==typeof c?!1===c.enabled:!1===c,n=w&&!e&&!t;return"object"==typeof c?{...c,enabled:n}:{enabled:n}}(),Y=function(e,t){return Qt(e,t)}(G,F.draggable.measure);!function(e){let{activeNode:t,measure:r,initialRect:o,config:i=!0}=e;const a=n.useRef(!1),{x:s,y:l}="boolean"==typeof i?{x:i,y:i}:i;Ne(()=>{if(!s&&!l||!t)return void(a.current=!1);if(a.current||!o)return;const e=null==t?void 0:t.node.current;if(!e||!1===e.isConnected)return;const n=lt(r(e),o);if(s||(n.x=0),l||(n.y=0),a.current=!0,Math.abs(n.x)>0||Math.abs(n.y)>0){const t=mt(e);t&&t.scrollBy({top:n.y,left:n.x})}},[t,s,l,o,r])}({activeNode:null!=E?S.get(E):null,config:H.layoutShiftCompensation,initialRect:Y,measure:F.draggable.measure});const q=en(G,F.draggable.measure,Y),K=en(G?G.parentElement:null),J=n.useRef({activatorEvent:null,active:null,activeNode:G,collisionRect:null,collisions:null,droppableRects:W,draggableNodes:S,draggingNode:null,draggingNodeRect:null,droppableContainers:B,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Q=B.getNodeFor(null==(t=J.current.over)?void 0:t.id),X=function(e){let{measure:t}=e;const[r,o]=n.useState(null),i=n.useCallback(e=>{for(const{target:n}of e)if(ke(n)){o(e=>{const r=t(n);return e?{...e,width:r.width,height:r.height}:r});break}},[t]),a=Xt({callback:i}),s=n.useCallback(e=>{const n=function(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return ke(t)?t:e}(e);null==a||a.disconnect(),n&&(null==a||a.observe(n)),o(n?t(n):null)},[t,a]),[l,c]=Oe(s);return n.useMemo(()=>({nodeRef:l,rect:r,setRef:c}),[r,l,c])}({measure:F.dragOverlay.measure}),Z=null!=(o=X.nodeRef.current)?o:G,ee=w?null!=(i=X.rect)?i:q:null,te=Boolean(X.nodeRef.current&&X.rect),ne=lt(re=te?null:q,Qt(re));var re;const oe=rn(Z?Ee(Z):null),ie=function(e){const t=n.useRef(e),r=Re(n=>e?n&&n!==tn&&e&&t.current&&e.parentNode===t.current.parentNode?n:pt(e):tn,[e]);return n.useEffect(()=>{t.current=e},[e]),r}(w?null!=Q?Q:G:null),ae=function(e,t){void 0===t&&(t=ut);const[r]=e,o=rn(r?Ee(r):null),[i,a]=n.useState(on);function s(){a(()=>e.length?e.map(e=>xt(e)?o:new Bt(t(e),e)):on)}const l=Xt({callback:s});return Ne(()=>{null==l||l.disconnect(),s(),e.forEach(e=>null==l?void 0:l.observe(e))},[e]),i}(ie),se=function(e,t){let{transform:n,...r}=t;return null!=e&&e.length?e.reduce((e,t)=>t({transform:e,...r}),n):n}(m,{transform:{x:k.x-ne.x,y:k.y-ne.y,scaleX:1,scaleY:1},activatorEvent:P,active:I,activeNodeRect:q,containerNodeRect:K,draggingNodeRect:ee,over:J.current.over,overlayNodeRect:X.rect,scrollableAncestors:ie,scrollableAncestorRects:ae,windowRect:oe}),le=V?Ue(V,k):null,ce=function(e){const[t,r]=n.useState(null),o=n.useRef(e),i=n.useCallback(e=>{const t=ht(e.target);t&&r(e=>e?(e.set(t,bt(t)),new Map(e)):null)},[]);return n.useEffect(()=>{const t=o.current;if(e!==t){n(t);const a=e.map(e=>{const t=ht(e);return t?(t.addEventListener("scroll",i,{passive:!0}),[t,bt(t)]):null}).filter(e=>null!=e);r(a.length?new Map(a):null),o.current=e}return()=>{n(e),n(t)};function n(e){e.forEach(e=>{const t=ht(e);null==t||t.removeEventListener("scroll",i)})}},[i,e]),n.useMemo(()=>e.length?t?Array.from(t.values()).reduce((e,t)=>Ue(e,t),et):St(e):et,[e,t])}(ie),de=nn(ce),ue=nn(ce,[q]),ge=Ue(se,de),pe=ee?ct(ee,se):null,me=I&&pe?g({active:I,collisionRect:pe,droppableRects:W,droppableContainers:U,pointerCoordinates:le}):null,he=function(e){if(!e||0===e.length)return null;const[t]=e;return t.id}(me),[fe,Ce]=n.useState(null),be=function(e,t,n){return{...e,scaleX:t&&n?t.width/n.width:1,scaleY:t&&n?t.height/n.height:1}}(te?se:Ue(se,ue),null!=(a=null==fe?void 0:fe.rect)?a:null,q),ve=n.useRef(null),xe=n.useCallback((e,t)=>{let{sensor:n,options:o}=t;if(null==M.current)return;const i=S.get(M.current);if(!i)return;const a=e.nativeEvent,s=new n({active:M.current,activeNode:i,event:a,options:o,context:J,onAbort(e){if(!S.get(e))return;const{onDragAbort:t}=_.current,n={id:e};null==t||t(n),v({type:"onDragAbort",event:n})},onPending(e,t,n,r){if(!S.get(e))return;const{onDragPending:o}=_.current,i={id:e,constraint:t,initialCoordinates:n,offset:r};null==o||o(i),v({type:"onDragPending",event:i})},onStart(e){const t=M.current;if(null==t)return;const n=S.get(t);if(!n)return;const{onDragStart:o}=_.current,i={activatorEvent:a,active:{id:t,data:n.data,rect:N}};r.unstable_batchedUpdates(()=>{null==o||o(i),y(bn.Initializing),b({type:Xe.DragStart,initialCoordinates:e,active:t}),v({type:"onDragStart",event:i}),O(ve.current),L(a)})},onMove(e){b({type:Xe.DragMove,coordinates:e})},onEnd:l(Xe.DragEnd),onCancel:l(Xe.DragCancel)});function l(e){return async function(){const{active:t,collisions:n,over:o,scrollAdjustedTranslate:i}=J.current;let s=null;if(t&&i){const{cancelDrop:r}=_.current;s={activatorEvent:a,active:t,collisions:n,delta:i,over:o},e===Xe.DragEnd&&"function"==typeof r&&await Promise.resolve(r(s))&&(e=Xe.DragCancel)}M.current=null,r.unstable_batchedUpdates(()=>{b({type:e}),y(bn.Uninitialized),Ce(null),O(null),L(null),ve.current=null;const t=e===Xe.DragEnd?"onDragEnd":"onDragCancel";if(s){const e=_.current[t];null==e||e(s),v({type:t,event:s})}})}}ve.current=s},[S]),ye=n.useCallback((e,t)=>(n,r)=>{const o=n.nativeEvent,i=S.get(r);if(null!==M.current||!i||o.dndKit||o.defaultPrevented)return;const a={active:i};!0===e(n,t.options,a)&&(o.dndKit={capturedBy:t.sensor},M.current=r,xe(n,t))},[S,xe]),we=function(e,t){return n.useMemo(()=>e.reduce((e,n)=>{const{sensor:r}=n;return[...e,...r.activators.map(e=>({eventName:e.eventName,handler:t(e.handler,n)}))]},[]),[e,t])}(u,ye);!function(e){n.useEffect(()=>{if(!Ae)return;const t=e.map(e=>{let{sensor:t}=e;return null==t.setup?void 0:t.setup()});return()=>{for(const e of t)null==e||e()}},e.map(e=>{let{sensor:t}=e;return t}))}(u),Ne(()=>{q&&A===bn.Initializing&&y(bn.Initialized)},[q,A]),n.useEffect(()=>{const{onDragMove:e}=_.current,{active:t,activatorEvent:n,collisions:o,over:i}=J.current;if(!t||!n)return;const a={active:t,activatorEvent:n,collisions:o,delta:{x:ge.x,y:ge.y},over:i};r.unstable_batchedUpdates(()=>{null==e||e(a),v({type:"onDragMove",event:a})})},[ge.x,ge.y]),n.useEffect(()=>{const{active:e,activatorEvent:t,collisions:n,droppableContainers:o,scrollAdjustedTranslate:i}=J.current;if(!e||null==M.current||!t||!i)return;const{onDragOver:a}=_.current,s=o.get(he),l=s&&s.rect.current?{id:s.id,rect:s.rect.current,data:s.data,disabled:s.disabled}:null,c={active:e,activatorEvent:t,collisions:n,delta:{x:i.x,y:i.y},over:l};r.unstable_batchedUpdates(()=>{Ce(l),null==a||a(c),v({type:"onDragOver",event:c})})},[he]),Ne(()=>{J.current={activatorEvent:P,active:I,activeNode:G,collisionRect:pe,collisions:me,droppableRects:W,draggableNodes:S,draggingNode:Z,draggingNodeRect:ee,droppableContainers:B,over:fe,scrollableAncestors:ie,scrollAdjustedTranslate:ge},N.current={initial:ee,translated:pe}},[I,G,me,pe,S,Z,ee,W,B,fe,ie,ge]),function(e){let{acceleration:t,activator:r=Vt.Pointer,canScroll:o,draggingRect:i,enabled:a,interval:s=5,order:l=Ht.TreeOrder,pointerCoordinates:c,scrollableAncestors:d,scrollableAncestorRects:u,delta:g,threshold:p}=e;const m=function(e){let{delta:t,disabled:n}=e;const r=Pe(t);return Re(e=>{if(n||!r||!e)return Yt;const o=Math.sign(t.x-r.x),i=Math.sign(t.y-r.y);return{x:{[vt.Backward]:e.x[vt.Backward]||-1===o,[vt.Forward]:e.x[vt.Forward]||1===o},y:{[vt.Backward]:e.y[vt.Backward]||-1===i,[vt.Forward]:e.y[vt.Forward]||1===i}}},[n,t,r])}({delta:g,disabled:!a}),[h,f]=function(){const e=n.useRef(null);return[n.useCallback((t,n)=>{e.current=setInterval(t,n)},[]),n.useCallback(()=>{null!==e.current&&(clearInterval(e.current),e.current=null)},[])]}(),C=n.useRef({x:0,y:0}),b=n.useRef({x:0,y:0}),v=n.useMemo(()=>{switch(r){case Vt.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Vt.DraggableRect:return i}},[r,i,c]),x=n.useRef(null),A=n.useCallback(()=>{const e=x.current;if(!e)return;const t=C.current.x*b.current.x,n=C.current.y*b.current.y;e.scrollBy(t,n)},[]),y=n.useMemo(()=>l===Ht.TreeOrder?[...d].reverse():d,[l,d]);n.useEffect(()=>{if(a&&d.length&&v){for(const e of y){if(!1===(null==o?void 0:o(e)))continue;const n=d.indexOf(e),r=u[n];if(!r)continue;const{direction:i,speed:a}=wt(e,r,v,t,p);for(const e of["x","y"])m[e][i[e]]||(a[e]=0,i[e]=0);if(a.x>0||a.y>0)return f(),x.current=e,h(A,s),C.current=a,void(b.current=i)}C.current={x:0,y:0},b.current={x:0,y:0},f()}else f()},[t,A,o,f,a,s,JSON.stringify(v),JSON.stringify(m),h,d,y,u,JSON.stringify(p)])}({...H,delta:k,draggingRect:pe,pointerCoordinates:le,scrollableAncestors:ie,scrollableAncestorRects:ae});const Se=n.useMemo(()=>({active:I,activeNode:G,activeNodeRect:q,activatorEvent:P,collisions:me,containerNodeRect:K,dragOverlay:X,draggableNodes:S,droppableContainers:B,droppableRects:W,over:fe,measureDroppableContainers:j,scrollableAncestors:ie,scrollableAncestorRects:ae,measuringConfiguration:F,measuringScheduled:z,windowRect:oe}),[I,G,q,P,me,K,X,S,B,W,fe,j,ie,ae,F,z,oe]),Be=n.useMemo(()=>({activatorEvent:P,activators:we,active:I,activeNodeRect:q,ariaDescribedById:{draggable:T},dispatch:b,draggableNodes:S,over:fe,measureDroppableContainers:j}),[P,we,I,q,b,T,S,fe,j]);return n.createElement(qe.Provider,{value:x},n.createElement(gn.Provider,{value:Be},n.createElement(pn.Provider,{value:Se},n.createElement(Cn.Provider,{value:be},d)),n.createElement(fn,{disabled:!1===(null==l?void 0:l.restoreFocus)})),n.createElement(Qe,{...l,hiddenTextDescribedById:T}))}),xn=n.createContext(null),An="button";const yn={timeout:25},wn=e=>{let{transform:t}=e;return{...t,y:0}},En=e=>{let{containerNodeRect:t,draggingNodeRect:n,transform:r}=e;return n&&t?function(e,t,n){const r={...e};return t.top+e.y<=n.top?r.y=n.top-t.top:t.bottom+e.y>=n.top+n.height&&(r.y=n.top+n.height-t.bottom),t.left+e.x<=n.left?r.x=n.left-t.left:t.right+e.x>=n.left+n.width&&(r.x=n.left+n.width-t.right),r}(r,n,t):r};function Sn(e,t,n){const r=e.slice();return r.splice(n<0?r.length+n:n,0,r.splice(t,1)[0]),r}function kn(e,t){return e.reduce((e,n,r)=>{const o=t.get(n);return o&&(e[r]=o),e},Array(e.length))}function Bn(e){return null!==e&&e>=0}const Dn={scaleX:1,scaleY:1},Nn=e=>{var t;let{rects:n,activeNodeRect:r,activeIndex:o,overIndex:i,index:a}=e;const s=null!=(t=n[o])?t:r;if(!s)return null;const l=function(e,t,n){const r=e[t],o=e[t-1],i=e[t+1];return r&&(o||i)?n<t?o?r.left-(o.left+o.width):i.left-(r.left+r.width):i?i.left-(r.left+r.width):r.left-(o.left+o.width):0}(n,a,o);if(a===o){const e=n[i];return e?{x:o<i?e.left+e.width-(s.left+s.width):e.left-s.left,y:0,...Dn}:null}return a>o&&a<=i?{x:-s.width-l,y:0,...Dn}:a<o&&a>=i?{x:s.width+l,y:0,...Dn}:{x:0,y:0,...Dn}},In=e=>{let{rects:t,activeIndex:n,overIndex:r,index:o}=e;const i=Sn(t,r,n),a=t[o],s=i[o];return s&&a?{x:s.left-a.left,y:s.top-a.top,scaleX:s.width/a.width,scaleY:s.height/a.height}:null},Mn="Sortable",Rn=n.createContext({activeIndex:-1,containerId:Mn,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:In,disabled:{draggable:!1,droppable:!1}});function On(e){let{children:t,id:r,items:o,strategy:i=In,disabled:a=!1}=e;const{active:s,dragOverlay:l,droppableRects:c,over:d,measureDroppableContainers:u}=n.useContext(pn),g=_e(Mn,r),p=Boolean(null!==l.rect),m=n.useMemo(()=>o.map(e=>"object"==typeof e&&"id"in e?e.id:e),[o]),h=null!=s,f=s?m.indexOf(s.id):-1,C=d?m.indexOf(d.id):-1,b=n.useRef(m),v=!function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(m,b.current),x=-1!==C&&-1===f||v,A=function(e){return"boolean"==typeof e?{draggable:e,droppable:e}:e}(a);Ne(()=>{v&&h&&u(m)},[v,m,h,u]),n.useEffect(()=>{b.current=m},[m]);const y=n.useMemo(()=>({activeIndex:f,containerId:g,disabled:A,disableTransforms:x,items:m,overIndex:C,useDragOverlay:p,sortedRects:kn(m,c),strategy:i}),[f,g,A.draggable,A.droppable,x,m,C,c,p,i]);return n.createElement(Rn.Provider,{value:y},t)}const Pn=e=>{let{id:t,items:n,activeIndex:r,overIndex:o}=e;return Sn(n,r,o).indexOf(t)},Ln=e=>{let{containerId:t,isSorting:n,wasDragging:r,index:o,items:i,newIndex:a,previousItems:s,previousContainerId:l,transition:c}=e;return!(!c||!r||s!==i&&o===a||!n&&(a===o||t!==l))},_n={duration:200,easing:"ease"},Tn="transform",Un=je.Transition.toString({property:Tn,duration:0,easing:"linear"}),Fn={roleDescription:"sortable"};function $n(e){let{animateLayoutChanges:t=Ln,attributes:r,disabled:o,data:i,getNewIndex:a=Pn,id:s,strategy:l,resizeObserverConfig:c,transition:d=_n}=e;const{items:u,containerId:g,activeIndex:p,disabled:m,disableTransforms:h,sortedRects:f,overIndex:C,useDragOverlay:b,strategy:v}=n.useContext(Rn),x=function(e,t){var n,r;return"boolean"==typeof e?{draggable:e,droppable:!1}:{draggable:null!=(n=null==e?void 0:e.draggable)?n:t.draggable,droppable:null!=(r=null==e?void 0:e.droppable)?r:t.droppable}}(o,m),A=u.indexOf(s),y=n.useMemo(()=>({sortable:{containerId:g,index:A,items:u},...i}),[g,i,A,u]),w=n.useMemo(()=>u.slice(u.indexOf(s)),[u,s]),{rect:E,node:S,isOver:k,setNodeRef:B}=function(e){let{data:t,disabled:r=!1,id:o,resizeObserverConfig:i}=e;const a=_e("Droppable"),{active:s,dispatch:l,over:c,measureDroppableContainers:d}=n.useContext(gn),u=n.useRef({disabled:r}),g=n.useRef(!1),p=n.useRef(null),m=n.useRef(null),{disabled:h,updateMeasurementsFor:f,timeout:C}={...yn,...i},b=Me(null!=f?f:o),v=Xt({callback:n.useCallback(()=>{g.current?(null!=m.current&&clearTimeout(m.current),m.current=setTimeout(()=>{d(Array.isArray(b.current)?b.current:[b.current]),m.current=null},C)):g.current=!0},[C]),disabled:h||!s}),x=n.useCallback((e,t)=>{v&&(t&&(v.unobserve(t),g.current=!1),e&&v.observe(e))},[v]),[A,y]=Oe(x),w=Me(t);return n.useEffect(()=>{v&&A.current&&(v.disconnect(),g.current=!1,v.observe(A.current))},[A,v]),n.useEffect(()=>(l({type:Xe.RegisterDroppable,element:{id:o,key:a,disabled:r,node:A,rect:p,data:w}}),()=>l({type:Xe.UnregisterDroppable,key:a,id:o})),[o]),n.useEffect(()=>{r!==u.current.disabled&&(l({type:Xe.SetDroppableDisabled,id:o,key:a,disabled:r}),u.current.disabled=r)},[o,a,r,l]),{active:s,rect:p,isOver:(null==c?void 0:c.id)===o,node:A,over:c,setNodeRef:y}}({id:s,data:y,disabled:x.droppable,resizeObserverConfig:{updateMeasurementsFor:w,...c}}),{active:D,activatorEvent:N,activeNodeRect:I,attributes:M,setNodeRef:R,listeners:O,isDragging:P,over:L,setActivatorNodeRef:_,transform:T}=function(e){let{id:t,data:r,disabled:o=!1,attributes:i}=e;const a=_e("Draggable"),{activators:s,activatorEvent:l,active:c,activeNodeRect:d,ariaDescribedById:u,draggableNodes:g,over:p}=n.useContext(gn),{role:m=An,roleDescription:h="draggable",tabIndex:f=0}=null!=i?i:{},C=(null==c?void 0:c.id)===t,b=n.useContext(C?Cn:xn),[v,x]=Oe(),[A,y]=Oe(),w=function(e,t){return n.useMemo(()=>e.reduce((e,n)=>{let{eventName:r,handler:o}=n;return e[r]=e=>{o(e,t)},e},{}),[e,t])}(s,t),E=Me(r);return Ne(()=>(g.set(t,{id:t,key:a,node:v,activatorNode:A,data:E}),()=>{const e=g.get(t);e&&e.key===a&&g.delete(t)}),[g,t]),{active:c,activatorEvent:l,activeNodeRect:d,attributes:n.useMemo(()=>({role:m,tabIndex:f,"aria-disabled":o,"aria-pressed":!(!C||m!==An)||void 0,"aria-roledescription":h,"aria-describedby":u.draggable}),[o,m,f,C,h,u.draggable]),isDragging:C,listeners:o?void 0:w,node:v,over:p,setNodeRef:x,setActivatorNodeRef:y,transform:b}}({id:s,data:y,attributes:{...Fn,...r},disabled:x.draggable}),U=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.useMemo(()=>e=>{t.forEach(t=>t(e))},t)}(B,R),F=Boolean(D),$=F&&!h&&Bn(p)&&Bn(C),W=!b&&P,j=W&&$?T:null,z=$?null!=j?j:(null!=l?l:v)({rects:f,activeNodeRect:I,activeIndex:p,overIndex:C,index:A}):null,G=Bn(p)&&Bn(C)?a({id:s,items:u,activeIndex:p,overIndex:C}):A,V=null==D?void 0:D.id,H=n.useRef({activeId:V,items:u,newIndex:G,containerId:g}),Y=u!==H.current.items,q=t({active:D,containerId:g,isDragging:P,isSorting:F,id:s,index:A,items:u,newIndex:H.current.newIndex,previousItems:H.current.items,previousContainerId:H.current.containerId,transition:d,wasDragging:null!=H.current.activeId}),K=function(e){let{disabled:t,index:r,node:o,rect:i}=e;const[a,s]=n.useState(null),l=n.useRef(r);return Ne(()=>{if(!t&&r!==l.current&&o.current){const e=i.current;if(e){const t=ut(o.current,{ignoreTransform:!0}),n={x:e.left-t.left,y:e.top-t.top,scaleX:e.width/t.width,scaleY:e.height/t.height};(n.x||n.y)&&s(n)}}r!==l.current&&(l.current=r)},[t,r,o,i]),n.useEffect(()=>{a&&s(null)},[a]),a}({disabled:!q,index:A,node:S,rect:E});return n.useEffect(()=>{F&&H.current.newIndex!==G&&(H.current.newIndex=G),g!==H.current.containerId&&(H.current.containerId=g),u!==H.current.items&&(H.current.items=u)},[F,G,g,u]),n.useEffect(()=>{if(V===H.current.activeId)return;if(null!=V&&null==H.current.activeId)return void(H.current.activeId=V);const e=setTimeout(()=>{H.current.activeId=V},50);return()=>clearTimeout(e)},[V]),{active:D,activeIndex:p,attributes:M,data:y,rect:E,index:A,newIndex:G,items:u,isOver:k,isSorting:F,isDragging:P,listeners:O,node:S,overIndex:C,over:L,setNodeRef:U,setActivatorNodeRef:_,setDroppableNodeRef:B,setDraggableNodeRef:R,transform:null!=K?K:z,transition:K||Y&&H.current.newIndex===A?Un:W&&!$e(N)||!d?void 0:F||q?je.Transition.toString({...d,property:Tn}):void 0}}Mt.Down,Mt.Right,Mt.Up,Mt.Left;const Wn=x()(w(e=>({barMarginLeft:0,barMarginRight:0,setSettings:t=>{e(e=>({...e,...t}))}}),{name:"extendium_settingsStore"}));function jn(e){return Q({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M413.66 246.1H386a2 2 0 0 1-2-2v-77.24A38.86 38.86 0 0 0 345.14 128H267.9a2 2 0 0 1-2-2V98.34c0-27.14-21.5-49.86-48.64-50.33a49.53 49.53 0 0 0-50.4 49.51V126a2 2 0 0 1-2 2H87.62A39.74 39.74 0 0 0 48 167.62V238a2 2 0 0 0 2 2h26.91c29.37 0 53.68 25.48 54.09 54.85.42 29.87-23.51 57.15-53.29 57.15H50a2 2 0 0 0-2 2v70.38A39.74 39.74 0 0 0 87.62 464H158a2 2 0 0 0 2-2v-20.93c0-30.28 24.75-56.35 55-57.06 30.1-.7 57 20.31 57 50.28V462a2 2 0 0 0 2 2h71.14A38.86 38.86 0 0 0 384 425.14v-78a2 2 0 0 1 2-2h28.48c27.63 0 49.52-22.67 49.52-50.4s-23.2-48.64-50.34-48.64z"},child:[]}]})(e)}const zn="extendium_extensionsBarStore",Gn=x()(w(e=>({extensionsOrder:[],setExtensionsOrder:t=>{e(e=>({extensionsOrder:"function"==typeof t?t(e.extensionsOrder):t}))}}),{name:zn}));function Vn(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 17v5"},child:[]},{tag:"path",attr:{d:"M15 9.34V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H7.89"},child:[]},{tag:"path",attr:{d:"m2 2 20 20"},child:[]},{tag:"path",attr:{d:"M9 9v1.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h11"},child:[]}]})(e)}function Hn(e){return Q({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 17v5"},child:[]},{tag:"path",attr:{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z"},child:[]}]})(e)}function Yn({extension:e,pinned:r,pinExtension:o,unpinExtension:i}){return n.createElement(t.Field,{key:e.getName(),label:e.getName(),icon:n.createElement("img",{width:16,height:16,src:e.action.getDefaultIconUrl()??"",alt:e.getName()}),padding:"standard"},n.createElement(t.DialogButton,{onClick:function(){r?i(e.getName()):o(e.getName())},style:{padding:"0 8px"},title:r?"Unpin":"Pin"},r?n.createElement(Vn,{color:"lightblue"}):n.createElement(Hn,null)),n.createElement(t.DialogButton,{onClick:()=>{oo(`info/${e.getName()}`)},style:{padding:"0 8px"},title:"Manage"},n.createElement(ee,null)))}function qn(){const{extensionsOrder:e,setExtensionsOrder:r}=Gn();function o(e){r(t=>[...t,e])}function i(e){r(t=>t.filter(t=>t!==e))}return n.createElement("div",{style:{padding:"1rem",width:"18rem"}},n.createElement(t.DialogHeader,null,"Extensions"),[...extensions.values()].map(t=>{return n.createElement(Yn,{key:t.getName(),extension:t,pinned:(r=t.getName(),e.includes(r)),pinExtension:o,unpinExtension:i});var r}),n.createElement(t.Field,{icon:n.createElement(ee,null),label:"Manage extensions",onClick:()=>{oo()}}))}function Kn(){const e=n.useRef(null),r=E(e=>e.updateAvailable.length>0);return n.createElement("button",{ref:e,type:"button",className:"extension-button",onClick:function(){e.current&&t.showContextMenu(n.createElement(qn,null),e.current,{bOverlapHorizontal:!0,bGrowToElementWidth:!0,bForcePopup:!0,bDisableMouseOverlay:!0,bCreateHidden:!1,bRetainOnHide:!1,bNoFocusWhenShown:void 0,title:"Extensions"})},title:r?"Extensions - updates available":"Extensions"},n.createElement(jn,{color:"gray",size:17,style:{padding:0}}),r&&n.createElement("span",{className:"update-dot","aria-label":"Updates available"}))}function Jn({extension:e,popupContentUrl:t,baseDir:r,centerPopup:o=!1,removeSteamCss:i=!0,queryParams:a}){const[s,l]=n.useState(null),c=n.useRef(null);function d(){const e=c.current?.ownerDocument.defaultView;if(!e)throw new Error("No popup window found");return e}function u(){const e=c.current?.ownerDocument;if(!e||!e.defaultView)return;const t=function(e,t){const n=e.cloneNode(!0);n.style.visibility="hidden",n.style.position="absolute",n.style.width="auto",n.style.height="auto",n.style.whiteSpace="nowrap",t.body.appendChild(n);const r=Math.min(n.offsetWidth,T.innerWidth),o=Math.min(n.offsetHeight,T.innerHeight-100);return t.body.removeChild(n),{width:r,height:o}}(o?c.current:e.body,e);d().SteamClient.Window.ResizeTo(t.width,t.height,!1),o&&d().SteamClient.Window.MoveTo(d().screen.availWidth/2-t.width/2,d().screen.availHeight/2-t.height/2,!0)}return n.useEffect(()=>{const e=c.current?.ownerDocument;if(!e)return;const n=e.querySelector("form:has(.extendium-popup)");n&&function(e){const t=document.createElement("div");for(const n of e.attributes)t.setAttribute(n.name,n.value);for(;e.firstChild;)t.appendChild(e.firstChild);e.parentNode?.replaceChild(t,e)}(n);const o=e.createElement("base");if(o.href=r,e.head.prepend(o),void 0!==a){const e=new URL(d().location.href+a);d().history.pushState({},"",e)}!async function(){const e=await fetch(t).then(async e=>e.text());l(e)}()},[]),n.useEffect(()=>{!async function(){if(null===s)return;const n=c.current?.ownerDocument;n?.defaultView&&(await Nr(s,n.defaultView,e,!1,i,r,t),u(),setTimeout(()=>{u()},100))}()},[s]),n.createElement(n.Fragment,null,n.createElement("base",{href:r}),n.createElement("div",{ref:c,className:"extendium-popup",dangerouslySetInnerHTML:{__html:s??""}}))}function Qn(){const e=t.findModule(e=>e.MenuItem&&e.Separator);return n.createElement("hr",{className:`${e.Separator} ${e.MenuItem}`})}function Xn({extension:e}){const{setExtensionsOrder:r}=Gn();return n.createElement("div",{className:"extension-context-menu"},n.createElement(t.Menu,{label:e.getName()},n.createElement(t.MenuItem,{onClick:function(){void 0!==e.manifest.homepage_url&&SteamClient.System.OpenInSystemBrowser(e.manifest.homepage_url)}},e.getName()),n.createElement(Qn,null),e.options.hasOptions()&&n.createElement(t.MenuItem,{onClick:()=>{Ir(e)}},"Options"),n.createElement(t.MenuItem,{onClick:function(){r(t=>t.filter(t=>t!==e.getName()))}},"Unpin"),n.createElement(Qn,null),n.createElement(t.MenuItem,{onClick:()=>{oo(`info/${e.getName()}`)}},"Manage")))}function Zn({extension:e}){const[r,o]=n.useState(e.action.getIconUrl()),i=n.useRef(null),a=n.useRef(void 0),{attributes:s,listeners:l,setNodeRef:c,transform:d,transition:u,isDragging:g}=$n({id:e.getName()}),p={transform:je.Transform.toString(d),transition:u,zIndex:g?1e3:void 0};function m(){i.current&&function(e,r){t.showContextMenu(n.createElement(Xn,{extension:e}),r,{bOverlapHorizontal:!0,bGrowToElementWidth:!0,bForcePopup:!0,bDisableMouseOverlay:!0,bCreateHidden:!1,bRetainOnHide:!1,bNoFocusWhenShown:void 0,title:`${e.action.getTitle()} - Context Menu`})}(e,i.current.document.activeElement)}return n.useEffect(()=>{function t(){o(e.action.getIconUrl())}return e.action.subscribeToIconUrlChange(t),()=>{e.action.unsubscribeFromIconUrlChange(t)}},[e]),n.useEffect(()=>()=>{a.current?.Close?.()},[]),n.createElement("button",{type:"button",className:"extension-button",onClick:function(r){a.current=void 0,function(r,o){if(a.current||void 0===e.action.getPopupUrl())return;const i=void 0!==o&&o.ctrlKey&&o.altKey;a.current=t.showContextMenu(n.createElement(Jn,{extension:e,popupContentUrl:e.action.getPopupUrl()??"",baseDir:e.action.getPopupDir()??""}),r,{bOverlapHorizontal:!0,bGrowToElementWidth:!0,bForcePopup:!0,bDisableMouseOverlay:!0,bCreateHidden:!1,bRetainOnHide:i,bNoFocusWhenShown:void 0,title:`${e.action.getTitle()} - Popup`})}(i.current?.document.activeElement,r),void 0===e.action.getPopupUrl()&&(e.action.onClicked.emit(),m())},onContextMenu:m,title:e.action.getTitle(),ref:e=>{e&&(i.current=e.ownerDocument.defaultView,c(e))},style:p,...s,...l},n.createElement("img",{src:r??"",alt:e.getName()}))}function er({extensions:e}){const{extensionsOrder:t,setExtensionsOrder:r}=Gn(),{barMarginLeft:o,barMarginRight:i}=Wn(),a=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.useMemo(()=>[...t].filter(e=>null!=e),[...t])}((s=Wt,l={activationConstraint:{distance:8}},n.useMemo(()=>({sensor:s,options:null!=l?l:{}}),[s,l])));var s,l;return n.createElement(vn,{sensors:a,collisionDetection:it,onDragEnd:function(e){const{active:t,over:n}=e;t.id!==n?.id&&r(e=>{const r=e.indexOf(t.id),o=e.indexOf(n?.id??"");return Sn(e,r,o)})},modifiers:[wn,En]},n.createElement(On,{items:t,strategy:Nn},n.createElement("div",{className:"extensions-bar",style:function(){const e={};return 0!==o&&(e.marginLeft=o),0!==i&&(e.marginRight=i),e}()},t.map(t=>void 0===e.get(t)?.action.getIconUrl()?null:n.createElement(Zn,{key:t,extension:e.get(t)})),n.createElement(Kn,null))))}async function tr(e,r){const o=t.findModule(e=>e.FocusBar),i=t.findModule(e=>e.BrowserTabIcon),a=await $(`.${o.URLBar}, .${i.URLBar}`,r);if(!a)return;if(null!==r.querySelector(".extensions-bar-container"))return;const s=r.createElement("div");s.classList.add("extensions-bar-container"),a.appendChild(s),SP_REACTDOM.createRoot(s).render(n.createElement(er,{extensions:e})),new MutationObserver(()=>{tr(e,r)}).observe(a,{childList:!0,subtree:!0})}async function nr(e){e&&(function(e){return"SP Desktop_uid0"===e.m_strName}(e)&&await async function(e){var t;t=e.m_popup,T=t,await rr(e);const n=[];for(const e of extensions.values())n.push(or(e).catch(t=>{u.globalLog("Background-init","Failed to setup background for extension:",e.getName(),t)}));await Promise.all(n),tr(extensions,e.m_popup.document)}(e),(e.m_strName.includes("TabbedPopupBrowser")||e.m_strName.includes("OverlayBrowser"))&&await async function(e){await rr(e),await tr(extensions,e.m_popup.document);const n=await $(`.${t.findModule(e=>e.BrowserTabIcon).URLBar}`,e.m_popup.document),r=new MutationObserver(function(){void 0!==e.m_popup?e.m_popup.document.querySelector(".extensions-bar-container")||tr(extensions,e.m_popup.document):r.disconnect()});r.observe(n.parentElement,{childList:!0,subtree:!0})}(e),function(e){const t=ir();e.addEventListener("click",e=>{const n=e.target.closest("a");if(n){const r=t.get(decodeURIComponent(n.href));r&&(e.preventDefault(),Ir(r))}})}(e.m_popup.document))}async function rr(e){const t=`${U.replace(/.*\\([^\\]+)\\([^\\]+)$/,"/$1/$2")}/public`,n=await fetch(`https://css.millennium.app${t}/extendium.css`).then(async e=>e.text()),r=document.createElement("style");r.textContent=n,e.m_popup.document.head.appendChild(r)}async function or(e){const t=e.manifest.background?.service_worker;if(void 0===t)return;const n=await async function(e,t,n,r=!1){const o=t.getFileUrl(e);if(void 0===o)throw new Error(`Script ${e} not found`);const i=Dr(t,n,t.getFileDir(e));try{await W(o,i.document,void 0,r)}catch(e){t.logger.error("createWindowWithScript",e)}return i}(t,e,"Background","module"===e.manifest.background?.type);e.contexts.addContext(n,"BACKGROUND",e.getBackgroundUrl()),function(e){const t=function(e){return E.getState().lastVersions[e.getName()]??null}(e),n=e.getVersion();let r=null;null===t?r={reason:"install"}:t!==n&&(r={reason:"update",previousVersion:t}),null!==r&&(function(e){E.getState().addLastVersion(e.getName(),e.getVersion())}(e),e.onInstalled.emit(r))}(e)}function ir(){return[...extensions.values()].map(e=>[e.getFileUrl(e.options.getOptionsPageUrl())??"",e]).filter(e=>""!==e[0]).reduce((e,[t,n])=>e.set(t,n),new Map)}const ar=new Map;let sr=0;async function lr(e,t){let n=[];return!0===e.active&&(n=Array.from(ar.values()).filter(e=>e.focused)),t&&t(n),Promise.resolve(n)}const cr=!0;let dr;function ur(e,t,n){const r=new u(t,cr,e),o={i18n:t.locale,storage:pr(t,r),runtime:gr(t,r,n),tabs:fr(t,r),offscreen:mr(t,r),windows:Cr(t,r),action:hr(t,r),alarms:br(t,r),permissions:vr(),extension:xr(),contextMenus:Ar(t,r),commands:yr(t,r),notifications:wr(t,r),webRequest:Er(),declarativeNetRequest:Sr(t,r),management:kr(t,r)};return dr=xe(o,r),dr}function gr(e,t,n){return{sendMessage:async(...r)=>{const o=function(e){const t=Array.from(e),n=t.length;function r(e){return"function"==typeof e}if(n>=2&&("string"==typeof t[0]||null==t[0])){const e=t[0],o=t[1];return 2===n?{extensionId:e,message:o}:3===n?r(t[2])?{extensionId:e,message:o,callback:t[2]}:{extensionId:e,message:o,options:t[2]}:{extensionId:e,message:o,options:t[2],callback:t[3]}}const o=t[0];return 1===n?{message:o}:2===n?r(t[1])?{message:o,callback:t[1]}:{message:o,options:t[1]}:{message:o,options:t[1],callback:t[2]}}(r);return void 0!==o.options&&t.error("runtime.sendMessage","runtime.sendMessage with options is not supported yet, options:",o.options),void 0!==o.extensionId&&"1234"!==o.extensionId&&t.error("runtime.sendMessage","runtime.sendMessage with extensionId other then our own is not supported yet, extensionId:",o.extensionId),t.log("runtime.sendMessage",o),e.runtimeEmulator.sendMessage(o.message,o.callback,n)},onMessage:e.runtimeEmulator.onMessage,onMessageExternal:e.runtimeEmulator.onMessage,setUninstallURL:()=>{},getURL:t=>e.getFileUrl(t)??"",getManifest:()=>e.manifest,getContexts:e.contexts.getContexts.bind(e.contexts),openOptionsPage:async()=>(Ir(e),Promise.resolve()),onStartup:new o,onInstalled:e.onInstalled,OnInstalledReason:fe,id:"1234",connect:(e,n)=>{let r,i;void 0!==n?(r=e,i=n):i=e,t.log("runtime.connect",i,r);const a=new o,s=new o,l={postMessage:e=>{dr.runtime.sendMessage(e).then(e=>{s.emit(e,l)})},disconnect:()=>{a.emit(l)},onDisconnect:a,onMessage:s,name:"test"};return l},onConnect:new o,onConnectExternal:new o,onUpdateAvailable:new o,lastError:void 0}}function pr(e,t){return{local:new Ce(e,"local",t),sync:new be(e,t),session:new Ce(e,"session",t),onChanged:e.onStorageChanged,managed:new Ce(e,"managed",t),AccessLevel:null}}function mr(e,t){return{createDocument:async n=>{t.log("offscreen.createDocument",n),await async function(e,t,n){const r=Dr(e,t,e.getFileDir(n)),o=e.getFileUrl(n)??"",i=await fetch(o).then(async e=>e.text());return await Nr(i,r,e),e.contexts.addContext(r,"OFFSCREEN_DOCUMENT",o),r}(e,n.url,n.url)},closeDocument:async()=>{t.log("offscreen.closeDocument"),await async function(e){const t=(await e.contexts.getContexts({contextTypes:["OFFSCREEN_DOCUMENT"]}))[0];if(!t)throw new Error("No offscreen context found");t.popupWindow.close()}(e)},Reason:null,hasDocument:async()=>(t.log("offscreen.hasDocument"),Promise.resolve(!1))}}function hr(e,t){return{onClicked:e.action.onClicked,setBadgeText:async e=>(t.log("action.setBadgeText",e),Promise.resolve()),setIcon:e.action.setIcon.bind(e.action),setBadgeBackgroundColor:async e=>(t.log("action.setBadgeBackgroundColor",e),Promise.resolve()),setPopup:async e=>(t.log("action.setPopup",e),Promise.resolve()),setTitle:async n=>(t.log("action.setTitle",n),e.action.setTitle(n.title),Promise.resolve())}}function fr(e,t){return{create:async e=>(t.log("tabs.create",e),function(e){const t=e.url??"",n=ir(),r=Array.from(n.keys()).find(e=>t.includes(e)),o=n.get(r??"");o?Ir(o,t.split("?")[1]):SteamClient.System.OpenInSystemBrowser(t)}(e),Promise.resolve({})),onRemoved:new o,onUpdated:new o,onActivated:new o,query:lr,detectLanguage:async(n,r)=>{let o;return t.log("tabs.detectLanguage",n,r),"function"==typeof n?o=n:"function"==typeof r&&(o=r),void 0!==o&&o(e.locale.getUILanguage()),Promise.resolve(e.locale.getUILanguage())},sendMessage:async(...e)=>(t.error("tabs.sendMessage","tabs.sendMessage not implemented",e),Promise.resolve())}}function Cr(e,t){return{getAll:async()=>(t.log("windows.getAll"),Promise.resolve([])),onBoundsChanged:new o}}function br(e,t){return{onAlarm:new o,create:async(...e)=>(t.error("alarms.create","alarms.create not implemented",e),Promise.resolve()),get:async()=>Promise.resolve({}),getAll:async()=>Promise.resolve([])}}function vr(e,t){return{onAdded:new o,onRemoved:new o,contains:async(e,t)=>(t?.(!0),Promise.resolve(!0))}}function xr(e,t){return{isAllowedFileSchemeAccess:async e=>(e?.(!1),Promise.resolve(!1)),isAllowedIncognitoAccess:async e=>(e?.(!1),Promise.resolve(!1))}}function Ar(e,t){return{create:(...e)=>(t.error("contextMenus.create","contextMenus.create not implemented",e),-1),onClicked:new o}}function yr(e,t){return{onCommand:new o,getAll:async e=>(t.log("commands.getAll",e),e?.([]),Promise.resolve([]))}}function wr(e,t){return{create:(...e)=>(t.error("notifications.create","notifications.create not implemented",e),-1),onClosed:new o,onButtonClicked:new o,onClicked:new o}}function Er(e,t){return{onBeforeRequest:new o,onBeforeSendHeaders:new o,onHeadersReceived:new o,onCompleted:new o,onErrorOccurred:new o}}function Sr(e,t){return{getDynamicRules:async e=>(t.log("declarativeNetRequest.getDynamicRules"),e?.([]),Promise.resolve([])),updateDynamicRules:async(e,n)=>(t.log("declarativeNetRequest.updateDynamicRules"),n?.(),Promise.resolve())}}function kr(e,t){return{getSelf:async e=>(t.log("management.getSelf"),e?.({}),Promise.resolve({}))}}function Br(e,r,o,i){r.chrome=ur(e,o,i),r.clients={matchAll:async()=>Promise.resolve([])};const a=r.onerror;r.onerror=function(...t){return o.logger.error(e,...t),a?.call(this,...t)};const s=r.onunhandledrejection;r.onunhandledrejection=function(t){return o.logger.error(e,t),s?.call(this,t)};const l=r.console.error;r.console.error=function(...t){o.logger.error(e,...t),l(...t)},r.importScripts=(...e)=>{for(const t of e)j(o.getFileUrl(t)??"",r.document)},function(e,t){const n=e.fetch;e.fetch=async(e,r)=>{const o=e.toString().replace("https://","").replace("http://","").split("/")[0]??"error";if(!0===r?.xhrFields?.withCredentials&&(r.credentials="include"),function(e,t,n){return!("include"!==n?.credentials||!e.includes("steampowered.com")&&!e.includes("steamcommunity.com"))||!("store.steampowered.com"!==e||!t.toString().includes("user"))||!("steamcommunity.com"!==e||!t.toString().includes("/my"))}(o,e,r))return async function(e,t,n){n?.logger.log("credentialsFetch",e.toString());const r=`${Date.now()}-${Math.random().toString(36).substring(2,9)}`,o=new URLSearchParams;o.set("steamRequestID",r),o.set("steamRequestUrl",e.toString()),o.set("steamRequestInfo",JSON.stringify(t));const i=`${function(e){return e.startsWith("https://store.steampowered.com")?"https://store.steampowered.com/widget":e.startsWith("https://steamcommunity.com")?"https://steamcommunity.com/stats":new URL(e).origin}(e.toString())}/?${o.toString()}`;return SteamClient.BrowserView.Create({parentPopupBrowserID:T.SteamClient.Browser.GetBrowserID(),strInitialURL:i}),new Promise((e,t)=>{me.set(r,{resolve:e,reject:t}),setTimeout(()=>{me.has(r)&&(me.delete(r),t(new Error(`Steam Request timed out for ${r}`)))},1e4)})}(e,r,t);const i=JSON.parse(localStorage.getItem(pe)??"[]");if(i.includes(o))return he(n,e,r);try{return await n(e,r)}catch{const t=await he(n,e,r);return t.ok&&(i.push(o),localStorage.setItem(pe,JSON.stringify(i))),t}}}(r,o),r.confirm=e=>{const i=n.createElement(n.Fragment,null,n.createElement("p",null,"Oops looks like the extension ",o.getName()," tried to open a confirmation dialog. Sadly, this is not supported."),n.createElement("p",null,"Original confirmation message was: ",n.createElement("strong",null,e)));return t.showModal(n.createElement(t.ConfirmModal,{strDescription:i,strTitle:"Unsupported Dialog"}),r),!1},r.windowProxy=r}function Dr(e,t,n){const r=SteamClient.BrowserView.CreatePopup({parentPopupBrowserID:T.SteamClient.Browser.GetBrowserID()}),o=window.open(r.strCreateURL);if(!o)throw new Error("Failed to create window");o.SteamClient.Window.HideWindow(),o.document.title=`${e.getName()} - ${t}`;const i=document.createElement("base");return i.href=n,o.document.head.appendChild(i),Br(t,o,e),o}async function Nr(e,n,r,o=!0,i=!0,a,s){const l=n.document;i&&l.querySelectorAll('head > link[rel="stylesheet"]').forEach(e=>{e.remove()}),Br("popup",n,r,s);const c=(new DOMParser).parseFromString(e,"text/html");if(void 0!==a){const e=c.createElement("base");e.setAttribute("href",a),c.head.appendChild(e)}const d=c.head.querySelectorAll("*");for(const e of d)if("SCRIPT"!==e.tagName)if("LINK"!==e.tagName||"stylesheet"!==e.getAttribute("rel")){if("STYLE"===e.tagName){if(null===e.textContent)continue;e.textContent=Or(e.textContent)}l.head.appendChild(e)}else await Rr(e.href,l),l.body.querySelector(`link[href="${e.getAttribute("href")}"]`)?.remove();else await W(e.getAttribute("src")??"",l,e.attributes);const u=c.body.querySelectorAll("script");for(const e of u)await W(e.getAttribute("src")??"",l,e.attributes);if(o)for(const e of c.body.querySelectorAll("*"))l.body.appendChild(e);const g=l.querySelector(".DialogContent");g&&(g.style.padding="2px");const p=l.querySelectorAll("a:not([target])");for(const e of p)e.setAttribute("target","_blank");!function(e){let n=Mr;[...n.matchAll(/\.__(\w+)__/g)].forEach(e=>{if(void 0===e[1])return;const r=t.findClass(e[1]);n=n.replaceAll(e[0],`.${r}`)});const r=document.createElement("style");r.textContent=n,e.head.appendChild(r)}(l),l.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0,cancelable:!0})),n.dispatchEvent(new Event("load",{bubbles:!0,cancelable:!0}))}function Ir(e,t){const r=e.options.getOptionsPageUrl()??"";!function(e,t){const n=L.getState();n.setSettingsPopup({open:!1}),setTimeout(()=>{n.setSettingsPopup({content:e,open:!0,title:t})},1)}(n.createElement(Jn,{extension:e,popupContentUrl:e.getFileUrl(r)??"",baseDir:e.getFileDir(r),removeSteamCss:!1,centerPopup:!0,queryParams:t}),`${e.action.getTitle()} - Options`)}const Mr="\n.__ContextMenuPosition__:has(.extendium-popup) {\n  outline: none !important;\n}\n.TitleBar {\n  height: 32px !important;\n}\n*:has(>.extendium-popup) {\n  min-height: unset !important;\n}\n.DialogContent {\n  padding: 0 !important;\n}\nbody {\n  margin: 0 !important;\n  padding: 0 !important;\n}\n";async function Rr(e,t){let n=await fetch(e).then(async e=>e.text());n=Or(n),n+=`\n/*# sourceURL=${e}*/`;const r=t.createElement("style");r.textContent=n,r.setAttribute("original-src",e),t.head.appendChild(r)}function Or(e){return e.replace(/(\b|\\n)(?:body) *\{/gm,'$1.extendium-popup { font-size: 75%; font-family: "Segoe UI", Tahoma, sans-serif;').replace(/(\b|\\n)(?:html) *\{/gm,"$1html,.extendium-popup {")}function Pr({description:e,modal:r,title:o,onCancel:i,onOK:a,hideCloseIcon:s=!1,okButtonText:l}){return n.createElement(t.ConfirmModal,{strTitle:o,strDescription:e,bHideCloseIcon:s,onOK:async()=>{await(a?.())},onCancel:()=>{i&&i(),r?.Close()},strOKButtonText:l})}function Lr({description:e,title:r,onCancel:o,onOK:i,bNeverPopOut:a=!0,okButtonText:s,popupHeight:l,popupWidth:c,closeOnOK:d=!0}){let u=null;return u=t.showModal(n.createElement(function(){const[t,a]=n.useState(null);return n.useEffect(()=>{a(u)},[]),n.createElement(Pr,{modal:t,title:r,description:e,okButtonText:s,onOK:async function(){try{await(i?.())}finally{d&&u?.Close()}},onCancel:function(){o&&o(),u?.Close()}})},null),T,{popupHeight:l,popupWidth:c,bNeverPopOut:a,strTitle:r}),u}function _r(){Lr({title:"Restart Required",description:n.createElement(n.Fragment,null,n.createElement("p",null,"Steam needs to be restarted for the changes to take effect."),n.createElement("p",null,"Weird things might happen if you don't restart Steam."),n.createElement("p",null,"Would you like to restart Steam now?")),okButtonText:"Restart Now",onOK:()=>{SteamClient.Browser.RestartJSContext()},bNeverPopOut:!0,closeOnOK:!1})}const Tr=__wrapped_callable__("RemoveExtension");function Ur(e){Lr({title:"Remove extension",description:n.createElement("p",null,"Are you sure you want to remove ",e.getName(),"?"),okButtonText:"Remove",onOK:async()=>{await async function(e){await Tr({name:e.folderName});const t=Gn.getState().extensionsOrder;t.includes(e.folderName)&&(t.splice(t.indexOf(e.folderName),1),Gn.setState({extensionsOrder:t}))}(e),_r()},bNeverPopOut:!0})}function Fr({extension:e}){const[r,o]=n.useState([]),{setManagerPopup:i}=L();if(!e)return n.createElement("div",{className:"extension-detail-info"},n.createElement("div",{className:"page-header"},n.createElement("button",{onClick:()=>{i({route:null})},type:"button"},n.createElement(se,null)),"Error in extension"));const a=null!==T.document.evaluate('//div[text()="Console"]',T.document,null,XPathResult.FIRST_ORDERED_NODE_TYPE).singleNodeValue;function s(){t.ChromeDevToolsProtocol.send("Target.getTargets").then(t=>{const n=[];for(const r of t.targetInfos)(r.title.startsWith(`${e?.getName()} - `)||"SharedJSContext"===r.title)&&n.push(r);o(n)})}return n.useEffect(()=>{a&&s()},[]),n.createElement("div",{className:"extension-detail-info"},n.createElement("div",{className:"page-header"},n.createElement("button",{onClick:()=>{i({route:null})},type:"button",className:"md-button"},n.createElement(se,null)),n.createElement("img",{src:e.action.getDefaultIconUrl(48)}),n.createElement("span",null,e.getName())),n.createElement("div",{className:"section"},n.createElement("div",{className:"heading"},"Description"),n.createElement("div",{className:"content"},e.getDescription())),n.createElement("div",{className:"section hr"},n.createElement("div",{className:"heading"},"Version"),n.createElement("div",{className:"content"},e.getVersion())),r.length>0&&n.createElement("div",{className:"section hr"},n.createElement("div",{className:"heading"},"Inspect views"),n.createElement("div",{className:"content"},n.createElement("ul",null,r.map(e=>n.createElement("li",{key:e.title},n.createElement("a",{className:"fs-85",href:`http://localhost:8080/devtools/inspector.html?ws=localhost:8080/devtools/page/${e.targetId}&panel=console`,onClick:t=>{t.preventDefault(),SteamClient.System.OpenInSystemBrowser(`http://localhost:8080/devtools/inspector.html?ws=localhost:8080/devtools/page/${e.targetId}&panel=console`)}},e.title)))))),e.logger.errors.length>0&&n.createElement("div",{className:"section hr",id:"errors"},n.createElement("div",{className:"heading"},n.createElement(ne,{color:"red"}),"Errors"),n.createElement("div",{className:"content"},n.createElement("span",{style:{marginBottom:"1rem"}},"For detailed error information, ",n.createElement("a",{href:"steam://devmode/enable",onClick:()=>{s()}},"enable dev mode")," and open the console of the specified view in the list above"),n.createElement("ul",null,e.logger.errors.map(e=>n.createElement("li",{key:e},n.createElement("code",null,e)))))),e.options.hasOptions()&&n.createElement("div",{className:"section hr clickable-row",onClick:()=>{Ir(e)}},n.createElement("span",null,"Extension options"),n.createElement("button",{type:"button"},n.createElement(ae,null))),n.createElement("div",{className:"section hr clickable-row",onClick:()=>{Ur(e)}},n.createElement("span",null,"Remove extension"),n.createElement("button",{type:"button"},n.createElement(le,null))))}t.findClassModule(e=>e.ActionSection&&e.LibrarySettings).ActionSection;const $r=t.findClassModule(e=>e.SettingsTitleBar&&e.SettingsDialogButton),Wr=/^https?:\/\/chromewebstore.google.com\/detail\/(.+?)\/([a-z]{32})(?=[/#?]|$)/,jr=__wrapped_callable__("DownloadExtensionFromUrl"),zr=function(){const e=navigator.userAgent.match(/Chrom(?:e|ium)\/([0-9]+)\.([0-9]+)\.([0-9]+)\.([0-9]+)/);if(null===e||5!==e.length)throw new Error("Could not get Chrome version");const[,t,n,r,o]=e.map(e=>parseInt(e,10));return{major:t,minor:n,build:r,patch:o}}(),Gr=`${zr.major}.${zr.minor}.${zr.build}.${zr.patch}`,Vr=function(){let e="arm";return navigator.userAgent.indexOf("x86")>0?e="x86-32":navigator.userAgent.indexOf("x64")>0&&(e="x86-64"),e}();async function Hr(e,t){const n=`https://clients2.google.com/service/update2/crx?response=redirect&prodversion=${Gr}&x=id%3D${t.extensionId}%26installsource%3Dondemand%26uc&nacl_arch=${Vr}&acceptformat=crx2,crx3`;return jr({url:n,metadata:ge(JSON.stringify(t)),name:e})}const Yr=__wrapped_callable__("ToggleExtension");function qr({extension:e}){const{setManagerPopup:r}=L(),o=E(t=>t.updateAvailable.includes(e.folderName)),{updateAvailable:i,setUpdateStore:a}=E(),[s,l]=n.useState(!1),c=void 0===e.metadata,d=e.logger.errors.length>0;async function u(){if(!s)if(void 0!==e.metadata)try{l(!0),await Hr(e.folderName,e.metadata)?_r():Lr({title:"Update failed",description:"Failed to download and install the update. Check logs for details.",okButtonText:"OK"})}finally{l(!1),a({updateAvailable:i.filter(t=>t!==e.folderName)})}else Lr({title:"Update information missing",description:"Could not find metadata for this extension to perform an update. Try reinstalling it from the Chrome Web Store URL.",okButtonText:"OK"})}return n.createElement("div",{className:"extension-card"},n.createElement("div",{className:"extension-main"},n.createElement("div",{className:"icon",style:{position:"relative"}},n.createElement("img",{src:e.action.getDefaultIconUrl(48)}),d&&n.createElement(ne,{color:"red",size:24}),o&&n.createElement("div",{className:"update-badge"+(s?" disabled":""),onClick:s?void 0:u,title:s?"Updating":"Update available  click to update"},n.createElement(Z,null))),n.createElement("div",{className:"content"},n.createElement("div",{className:"name-and-version layout-horizontal-center"},n.createElement("div",{className:"name"},e.getName()),n.createElement("span",{className:"version secondary-text"},e.getVersion()),c?n.createElement("span",{role:"button",className:"warn-pill",onClick:function(){Lr({title:"Metadata missing",description:"This extension is missing its update metadata, so it cannot be updated automatically. Please reinstall it from its original Chrome Web Store URL. Or ignore this message if you don't want updates.",okButtonText:"OK"})},title:"Missing update metadata. Reinstall from original URL."},"Reinstall required"):o&&n.createElement("span",{role:"button",className:"update-pill"+(s?" disabled":""),onClick:s?void 0:u,title:s?"Updating":"Update to latest"},s?n.createElement(n.Fragment,null,n.createElement(t.Spinner,null),"Updating"):"Update")),n.createElement("div",{className:"description secondary-text"},e.getDescription()??"No description..."))),n.createElement("div",{className:"extension-buttons"},n.createElement(t.DialogButton,{onClick:()=>{r({route:`info/${e.getName()}`})}},"Details"),n.createElement(t.DialogButton,{onClick:()=>{Ur(e)}},"Remove"),n.createElement(t.Toggle,{onChange:function(t){Yr({name:e.folderName,enabled:t})},style:{display:"none"},value:!0})))}function Kr({modal:e}){const[r,o]=n.useState(""),[i,a]=n.useState(!1),[s,l]=n.useState(null);return n.createElement(t.ConfirmModal,{strTitle:"Install extension",strDescription:n.createElement(n.Fragment,null,"Enter an chrome extension URL to install it. For example: ",n.createElement("br",null),n.createElement("strong",null,"https://chromewebstore.google.com/detail/steamdb/kdbmhfkmnlmbkgbabkdealhhbfhlmmon"),n.createElement(t.TextField,{placeholder:"Enter chrome web store URL",value:r,style:{marginTop:"2rem"},onChange:e=>{o(e.target.value)}}),null!==s&&n.createElement("p",{style:{color:"red"}},s)),bHideCloseIcon:!0,onOK:async function(){a(!0);const t=await async function(e){const t=e.match(Wr);if(3!==t?.length)return!1;const[,n,r]=t;return void 0!==n&&void 0!==r&&Hr(n,{extensionId:r,url:e})}(r);t?(_r(),e?.Close()):l("Failed to download extension. Check logs for more information."),a(!1)},onCancel:()=>{e?.Close()},strOKButtonText:i?n.createElement(n.Fragment,null,n.createElement(t.Spinner,{style:{marginRight:"5px",marginBottom:"-6px"}}),"Installing..."):"Install"})}function Jr(){let e=null;e=t.showModal(n.createElement(n.Fragment,null,n.createElement("style",null,"\n      .DialogBodyText {\n        overflow-wrap: anywhere;\n      }\n    "),n.createElement(function(){const[t,r]=n.useState(null);return n.useEffect(()=>{r(e)},[]),n.createElement(Kr,{modal:t})},null)),T,{bNeverPopOut:!0,strTitle:"Install extension"})}const Qr=__wrapped_callable__("GetExtensionsDir");function Xr(){const{setManagerPopup:e}=L();return n.createElement(n.Fragment,null,n.createElement("div",{className:"root-buttons"},n.createElement(t.DialogButton,{onClick:()=>{e({route:"storage"})},className:`span-icon ${$r.SettingsDialogButton}`},n.createElement(te,null),"Manage storage"),n.createElement(t.DialogButton,{onClick:Jr,className:`span-icon ${$r.SettingsDialogButton}`},n.createElement(oe,null),"Install extension"),n.createElement("div",{style:{display:"flex",gap:"6px"}},n.createElement(t.DialogButton,{onClick:async function(){const e=await Qr();SteamClient.System.OpenLocalDirectoryInSystemExplorer(e)},className:`span-icon ${$r.SettingsDialogButton}`},n.createElement(re,null),"Browse local files"),n.createElement(t.DialogButton,{onClick:()=>{e({route:"settings"})},className:`span-icon ${$r.SettingsDialogButton}`,style:{width:"40px",minWidth:"unset"}},n.createElement(ee,null)))),n.createElement("div",{className:"card-container"},[...extensions.values()].map(e=>n.createElement(qr,{key:e.getName(),extension:e}))))}function Zr({value:e,onChange:r,onSave:o,title:i="External links",placeholder:a="Paste or type a link",addButtonLabel:s="Add link",className:l,allowEmpty:c=!1}){const d=n.useMemo(()=>e,[e]),u=n.useRef(!0),g=n.useCallback((e,t,n=!1)=>{const i=d.slice();i[e]=t,u.current=!1,r(i),n&&o(i)},[d,r]),p=n.useCallback(()=>{u.current=!1;const e=[...d,{match:"",isRegex:!1}];r(e)},[d,r]),m=n.useCallback(e=>{const t=d.filter((t,n)=>n!==e);r(t),o(t)},[d,r]),h=n.useCallback(()=>{if(u.current=!1,o(d),c)return;const e=d.filter(e=>e.match.trim().length>0);e.length!==d.length&&r(e)},[c,d,r]);return n.createElement("div",{className:["ext-links-manager",l].filter(Boolean).join(" ")},n.createElement("div",{className:"ext-links-header"},n.createElement("span",{className:"ext-links-title"},i)),n.createElement(t.Field,{description:"Manage URL patterns that should always open in an external browser. For each entry, provide a string to match against the URL. If 'Regex' is checked, the string is treated as a regular expression. Otherwise, it performs a simple case sensitive text search."}),n.createElement("div",{className:"ext-links-list"},0===d.length?n.createElement("div",{className:"ext-links-empty"},"No links yet."):d.map((e,t)=>n.createElement("div",{key:`${t}`,className:"ext-links-row"},n.createElement("input",{className:"styled-input",type:"text",inputMode:"url",value:e.match,autoFocus:t===d.length-1&&!u.current,placeholder:a,onChange:n=>{g(t,{...e,match:n.currentTarget.value})},onBlur:h,onKeyDown:n=>{"Enter"===n.key?(n.preventDefault(),t===d.length-1&&p()):"Backspace"===n.key&&0===e.match.length&&(n.preventDefault(),m(t))}}),n.createElement("label",{className:"ext-links-toggle",title:"Treat match as a regular expression"},n.createElement("input",{type:"checkbox",checked:e.isRegex,onChange:n=>{g(t,{...e,isRegex:n.currentTarget.checked},!0)}}),n.createElement("span",null,"Regex")),n.createElement("button",{type:"button",className:"ext-links-remove",onClick:()=>{m(t)},title:"Remove"},"Remove")))),n.createElement("div",{className:"ext-links-actions"},n.createElement("button",{type:"button",className:"ext-links-add",onClick:p},s)))}function eo(){const[e,t]=n.useState(F.externalLinks??[]);return n.createElement(Zr,{value:e,onChange:t,onSave:function(e){f({external_links:JSON.stringify(e)}),F.externalLinks=e},title:"External links",placeholder:"Paste or type a link",addButtonLabel:"Add link",allowEmpty:!0})}function to(){const{setManagerPopup:e}=L(),{barMarginLeft:r,barMarginRight:o,setSettings:i}=Wn();return n.createElement(t.DialogBody,null,n.createElement("div",{className:"header"},n.createElement("button",{onClick:()=>{e({route:null})},type:"button",className:"md-button"},n.createElement(se,null)),n.createElement("h1",null,"Extendium Settings")),n.createElement(t.Field,{description:"If the extension bar is covered up by other buttons or you want to move it you can change the margin here"}),n.createElement(t.SliderField,{label:"Margin right",value:o,min:-200,max:200,onChange:e=>{i({barMarginRight:e})},showValue:!0,editableValue:!0,resetValue:0}),n.createElement(t.SliderField,{label:"Margin left",value:r,min:-200,max:200,onChange:e=>{i({barMarginLeft:e})},showValue:!0,editableValue:!0,resetValue:0}),n.createElement(eo,null))}function no(){const[e,t]=n.useState([]),{setManagerPopup:r}=L(),[o,i]=n.useState("");function a(){const e=Object.entries(localStorage).filter(([e])=>e.endsWith("::local")||e.endsWith("::session")||e.endsWith("::sync")||e.endsWith("::managed")).sort(([e],[t])=>e.localeCompare(t));e.push(...Object.entries(localStorage).filter(([e])=>e.includes("extendium"))),t(e)}function s(e,t,r=0){return n.createElement("div",{className:"storage-manager-item",style:{paddingLeft:10*r+"px"}},n.createElement("details",{key:t},n.createElement("summary",null,t),Object.entries(e).map(([e,t])=>"object"==typeof t&&null!==t?s(t,e,r+1):n.createElement("div",{className:"storage-manager-item",style:{paddingLeft:10*(r+1)+"px"},key:e},e,": ",String(t)))))}function l(e){const[t,n]=e.split("::");return void 0===n?t??"Unknown":`${t} (${n} storage)`}return n.useEffect(()=>{a()},[]),n.createElement("div",{className:"storage-manager"},n.createElement("div",{className:"header"},n.createElement("button",{onClick:()=>{r({route:null})},type:"button",className:"md-button"},n.createElement(se,null)),n.createElement("h1",null,"Storage Manager"),n.createElement("button",{type:"button",onClick:()=>{a()},className:"md-button"},n.createElement(ce,null))),n.createElement("p",null,"Here you can manage all data that Extendium has stored for each extension.",n.createElement("br",null),"This is useful if you want to clear out all data for a specific extension if for example it is not working properly or if you want to reset settings.",n.createElement("br",null),"All this data is stored in the Steam browser's local storage and can be accessed through the browser's developer tools on any steamloopback address like the extension backgrounds."),n.createElement("input",{type:"text",placeholder:"Search...",value:o,onChange:e=>{i(e.target.value)},className:"styled-input",style:{marginBottom:"1rem"}}),e.filter(([e])=>l(e).toLowerCase().includes(o.toLowerCase())).map(([e,t])=>n.createElement("div",{key:e,className:"storage-manager-row"},s(JSON.parse(t),l(e)),n.createElement("button",{type:"button",onClick:()=>{!function(e){Lr({title:"Clear storage",description:n.createElement("p",null,"Are you sure you want to clear out the ",n.createElement("br",null),' "',l(e),'"?'),okButtonText:"Clear",onOK:()=>{localStorage.removeItem(e),e===zn&&Gn.setState({extensionsOrder:[]}),a()},bNeverPopOut:!0})}(e)}},n.createElement(ie,null)))))}function ro(){const{managerPopup:e,setManagerPopup:t}=L();if(!e.open)return null;let r;return r=null===e.route?n.createElement(Xr,null):e.route.startsWith("info/")?n.createElement(Fr,{extension:extensions.get(e.route.split("/").pop()??"")}):e.route.startsWith("storage")?n.createElement(no,null):e.route.startsWith("settings")?n.createElement(to,null):n.createElement("p",null,'Error you somehow got to an undefined route please report this with this route "',n.createElement("code",null,e.route),'"'),n.createElement(P,{strTitle:"Extensions",onDismiss:()=>{t({open:!1})},popupWidth:1280,popupHeight:.65*T.innerHeight,minWidth:1280,minHeight:370,resizable:!0,saveDimensionsKey:"extensionManagerPopup"},n.createElement(_,null),n.createElement("div",{className:"extension-manager-popup"},r))}function oo(e=null){const t=L.getState();t.setManagerPopup({open:!1}),setTimeout(()=>{t.setManagerPopup({open:!0,route:e})},1)}function io(e,t){const[n,r]=t.replace(/^steam:\/{1,2}/,"/").split("/").filter(e=>e).slice(1);"manager"===n&&oo(r)}var ao,so,lo;t.routerHook.addGlobalComponent("ExtensionManagerPopup",()=>n.createElement(ro,null),R.Desktop),function(e){e.Identify="identify",e.Error="error",e.WebkitMessage="webkit_message",e.FrontendResponse="frontend_response"}(ao||(ao={})),function(e){e.SendMessage="sendMessage",e.GetStorage="getStorage",e.SetStorage="setStorage",e.RemoveStorage="removeStorage",e.ClearStorage="clearStorage",e.OpenOptions="openOptions",e.SteamRequestResponse="steamRequestResponse"}(so||(so={})),function(e){e.Frontend="frontend",e.Webkit="webkit"}(lo||(lo={}));const co=new class{socket=null;connectionPromise=null;webkitWrapper=null;reconnectAttempts=0;maxReconnectAttempts=5;reconnectDelay=2e3;constructor(){this.connect()}setWebkitWrapper(e){this.webkitWrapper=e}async connect(){return this.socket&&this.socket.readyState===WebSocket.OPEN?this.socket:(this.connectionPromise||(this.connectionPromise=new Promise((e,t)=>{try{this.socket=new WebSocket("ws://127.0.0.1:8791"),this.socket.onopen=()=>{if(this.socket){const t={type:ao.Identify,clientType:lo.Frontend};this.socket.send(JSON.stringify(t)),this.reconnectAttempts=0,e(this.socket)}else t(new Error("Socket is null after connection"));this.connectionPromise=null},this.socket.onerror=e=>{console.error("WebSocket error:",e),this.socket=null,this.connectionPromise=null,t(new Error("WebSocket connection error")),this.tryReconnect()},this.socket.onclose=()=>{this.socket=null,this.connectionPromise=null,this.tryReconnect()},this.socket.onmessage=this.handleMessage.bind(this)}catch(e){this.connectionPromise=null,t(e instanceof Error?e:new Error("Unknown error when connecting to WebSocket")),this.tryReconnect()}})),this.connectionPromise)}tryReconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts)return void console.error(`Failed to reconnect after ${this.maxReconnectAttempts} attempts`);this.reconnectAttempts++;const e=this.reconnectDelay*1.5**(this.reconnectAttempts-1);console.warn(`[Extendium] Attempting to reconnect in ${e}ms (attempt ${this.reconnectAttempts})`),setTimeout(async()=>{try{await this.connect()}catch{}},e)}async handleMessage(e){try{const t=JSON.parse(e.data);if(this.isWebkitMessage(t)&&this.webkitWrapper)try{const e=await async function(e,t){switch(e.webkitRequestType){case so.SendMessage:return async function(e,t){return t.sendMessage(e.extensionName,e.content)}(e,t);case so.GetStorage:return async function(e,t){return t.getStorage(e.extensionName,e.content)}(e,t);case so.SetStorage:return async function(e,t){return t.setStorage(e.extensionName,e.content)}(e,t);case so.RemoveStorage:return async function(e,t){return t.removeStorage(e.extensionName,e.content)}(e,t);case so.ClearStorage:return async function(e,t){return t.clearStorage(e.extensionName,e.content)}(e,t);case so.OpenOptions:!function(e,t){t.openOptions(e.extensionName)}(e,t);break;case so.SteamRequestResponse:!function(e){const t=me.get(e.requestId);if(!t)return;me.delete(e.requestId);const n=new Response(ue(e.response),{status:e.status});Object.defineProperty(n,"url",{value:e.url}),t.resolve(n)}(e.content);break;default:throw new Error(`Unsupported webkit type: ${e.webkitRequestType}`)}return null}(t,this.webkitWrapper);await this.sendFrontendResponse(t.requestId,t.extensionName,e)}catch(e){console.error("Error processing webkit message:",e),await this.sendErrorResponse(t.requestId,t.extensionName,e instanceof Error?e.message:"Unknown error")}}catch(e){console.error("Error handling WebSocket message:",e)}}isWebkitMessage(e){return e.type===ao.WebkitMessage&&"webkitRequestType"in e}async sendFrontendResponse(e,t,n){if(!this.socket||this.socket.readyState!==WebSocket.OPEN)try{this.socket=await this.connect()}catch(e){return void console.error("Failed to connect to send response:",e)}const r={type:ao.FrontendResponse,requestId:e,extensionName:t,content:n};this.socket.send(JSON.stringify(r))}async sendErrorResponse(e,t,n){if(!this.socket||this.socket.readyState!==WebSocket.OPEN)try{this.socket=await this.connect()}catch(e){return void console.error("Failed to connect to send error:",e)}const r={type:ao.Error,requestId:e,extensionName:t,error:n,content:void 0};this.socket.send(JSON.stringify(r))}};class uo{extension;chrome;constructor(e){this.extension=e,this.chrome=ur("content",this.extension)}async sendMessage(e){return this.chrome.runtime.sendMessage(e)}getStorageArea(e){switch(e){case"sync":return this.chrome.storage.sync;case"local":return this.chrome.storage.local;case"session":return this.chrome.storage.session;case"managed":return this.chrome.storage.managed;default:throw new Error(`Unsupported storage area: ${e}`)}}}const go=new Map;let po,mo;globalThis.extensions=go;const ho={webkit:new class{webkits=new Map;init(e){for(const[t,n]of e)this.webkits.set(t,new uo(n));co.setWebkitWrapper(this)}findWebkit(e){const t=this.webkits.get(e);if(!t)throw new Error(`Webkit for extension ${e} not found`);return t}async sendMessage(e,t){return await this.findWebkit(e).sendMessage(t)}addTab(e){return function(e){const t=JSON.parse(ue(e)),n=sr++;return ar.set(n,{...t,id:n,index:n,pinned:!1,highlighted:!1,windowId:0,active:!1,favIconUrl:"",frozen:!1,incognito:!1,selected:!1,discarded:!1,autoDiscardable:!1,groupId:0,focused:!1}),n}(e)}focusTab(e){!function(e){const t=ar.get(e);t&&(ar.forEach(e=>e.focused=!1),t.focused=!0)}(e)}async getStorage(e,t){return this.findWebkit(e).getStorageArea(t.area).get(t.keys)}async setStorage(e,t){return this.findWebkit(e).getStorageArea(t.area).set(t.keys)}async removeStorage(e,t){return this.findWebkit(e).getStorageArea(t.area).remove(t.keys)}async clearStorage(e,t){return this.findWebkit(e).getStorageArea(t.area).clear()}openOptions(e){this.findWebkit(e).chrome.runtime.openOptionsPage()}},getUserInfo:()=>JSON.stringify(mo),removeExtension:e=>{go.delete(e)}};return t.Millennium.exposeObj(e,ho),e.default=async function(){var e;await App.WaitForServicesInitialized(),SteamClient.URL.RegisterForRunSteamURL("extendium",io),async function(){return new Promise(e=>{let t=0;const n=setInterval(()=>{const r=function(){const e=App.m_cm??appDetailsStore.m_CMInterface,t=e.steamid.m_ulSteamID.toString(),n=urlStore.m_steamUrls.SteamIDMyProfile.url,r=n.match(/\/id\/(.+)\//)?.[1]??"";return{accountBalance:App.GetCurrentUser().strAccountBalance,steamid:t,userId:r,avatarUrl:friendStore.m_FriendsUIFriendStore.GetPlayer(friendStore.currentUserSteamID.GetAccountID()).persona.avatar_url_medium,personaName:e.persona_name}}();void 0!==r&&(clearInterval(n),e(r)),t>=10&&(clearInterval(n),console.error("Failed to get user info?")),t++},100)})}().then(e=>{mo=e}),e=JSON.parse(await h()),F=e;const t=F.manifests;var n;n=F.pluginDir,U=n,po=F.extensionsDir.replaceAll("\\","/");const r=`https://js.millennium.app/${po}`,o=[];for(const[e,n]of Object.entries(t))o.push(new m(n,`${r}/${e}`,e,F.metadatas?.[e]));await Promise.all(o.map(async e=>{await e.init(),go.set(e.getName(),e)})),ho.webkit.init(go),B(),setInterval(B,S);const i=g_PopupManager.GetExistingPopup("SP Desktop_uid0");i&&nr(i),g_PopupManager.AddPopupCreatedCallback(nr)},Object.defineProperty(e,"__esModule",{value:!0}),e}({},window.MILLENNIUM_API,window.SP_REACT,window.SP_REACTDOM);return e};function ExecutePluginModule(){let e=window.MILLENNIUM_PLUGIN_SETTINGS_STORE[pluginName];e.OnPluginConfigChange=function(t,n,r){t in e.settingsStore&&(e.ignoreProxyFlag=!0,e.settingsStore[t]=r,e.ignoreProxyFlag=!1)},MILLENNIUM_BACKEND_IPC.postMessage(0,{pluginName:pluginName,methodName:"__builtins__.__millennium_plugin_settings_parser__"}).then(async t=>{"string"==typeof t.returnValue&&(e.ignoreProxyFlag=!0,e.settingsStore=e.DefinePluginSetting(Object.fromEntries(JSON.parse(atob(t.returnValue)).map(e=>[e.functionName,e]))),e.ignoreProxyFlag=!1);let n=PluginEntryPointMain();Object.assign(window.PLUGIN_LIST[pluginName],{...n,__millennium_internal_plugin_name_do_not_use_or_change__:pluginName});let r=await n.default();var o;r&&(o=r)&&void 0!==o.title&&void 0!==o.icon&&void 0!==o.content?(window.MILLENNIUM_SIDEBAR_NAVIGATION_PANELS[pluginName]=r,MILLENNIUM_BACKEND_IPC.postMessage(1,{pluginName:pluginName})):console.warn(`Plugin ${pluginName} does not contain proper SidebarNavigation props and therefor can't be mounted by Millennium. Please ensure it has a title, icon, and content.`)})}ExecutePluginModule();