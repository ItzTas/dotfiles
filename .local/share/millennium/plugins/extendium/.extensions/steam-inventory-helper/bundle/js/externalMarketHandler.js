try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="f04b209f-245c-4a82-b5ef-9785716a2b5c",e._sentryDebugIdIdentifier="sentry-dbid-f04b209f-245c-4a82-b5ef-9785716a2b5c")}catch(e){}("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"2.9.3"};(()=>{var e,t={BACKGROUND_GET_PRICES_FOR_EXTERNAL:1,GetRates:1,BACKGROUND_GET_SIH_ID:1,BACKGROUND_GET_EXTERNAL_TOKEN:1,BACKGROUND_CHECK_SUBSCRIBE_ADS:1},n="",o={},i={},a={},s="";function c(t,n,i){chrome.runtime.sendMessage(chrome.runtime.id,{type:t,data:n||{}},(function(n){"BACKGROUND_GET_EXTERNAL_TOKEN"===t&&(e=n),i&&(o[i]=n),window.dispatchEvent(new CustomEvent("PassToSiteExt",{detail:n}))}))}window.addEventListener("PassToContentScript",(function(i){var d,r,l=i.detail;r=window.location.href,s!==r&&(a[r]={count:0,timestamp:Date.now()},s=r);var f=Date.now(),E=a[window.location.href];switch(f-E.timestamp>6e4&&(E.count=0,E.timestamp=f),l.type){case"GetRates":d="rates";break;case"BACKGROUND_GET_SIH_ID":d="SIHID";break;case"BACKGROUND_CHECK_SUBSCRIBE_ADS":d="subscribe";break;case"BACKGROUND_GET_PRICES_FOR_EXTERNAL":d=l.data.items[0]}n!==window.location.href&&(n=window.location.href,Object.keys(t).forEach((function(e){t[e]=1})));if(t[l.type])t[l.type]=t[l.type]-1,c(l.type,l.data,d);else if(l.token&&l.token===e&&"BACKGROUND_GET_PRICES_FOR_EXTERNAL"===l.type&&E.count<20&&function(){try{return["dmarket.com","cs.money","tradeit.gg","skinbaron.de"].some((function(e){return window.location.hostname===e}))}catch(e){return!1}}())E.count++,c(l.type,l.data,d);else if(e&&l.token===e&&E.count>=20){e=null;var u=d?o[d]:null;window.dispatchEvent(new CustomEvent("PassToSiteExt",{detail:u}))}else{var w=d?o[d]:null;window.dispatchEvent(new CustomEvent("PassToSiteExt",{detail:w}))}}),!1),["en","ru","zh_CN"].forEach((function(e){var t;t=e,fetch("chrome-extension://".concat(chrome.runtime.id,"https://js.millennium.app//home/talinux/.local/share/millennium/plugins/extendium/.extensions/steam-inventory-helper/_locales/").concat(t,"/controls.json")).then((function(e){if(e.ok)return e.json();throw Error("Failed to load localization file: ".concat(e.statusText))})).then((function(e){i[t.toLowerCase()]=e})).catch((function(e){console.error("Error loading localization file:",e)}))})),window.addEventListener("GetLocalesFromContentScript",(function(e){window.dispatchEvent(new CustomEvent("PassLocalesToSiteExt",{detail:i}))}),!1)})();