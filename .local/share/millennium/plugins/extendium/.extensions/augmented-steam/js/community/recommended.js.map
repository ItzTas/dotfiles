{
  "version": 3,
  "sources": ["../../../../node_modules/webextension-polyfill/dist/browser-polyfill.js", "../../../../src/js/Core/Info.ts", "../../../../src/js/Core/Storage/SyncedStorage.ts", "../../../../src/js/Core/Storage/Storage.ts", "../../../../src/js/Options/Data/Settings.ts", "../../../../node_modules/dompurify/dist/purify.es.mjs", "../../../../src/js/bootstrapDomPurify.ts", "../../../../src/js/config.ts", "../../../../src/js/Core/ExtensionResources.ts", "../../../../src/js/Core/Localization/Language.ts", "../../../../src/js/Core/Background.ts", "../../../../src/js/Core/Errors/ErrorParser.ts", "../../../../src/js/Content/Modules/Facades/SteamStoreApiFacade.ts", "../../../../src/js/Core/Localization/Localization.ts", "../../../../src/js/Core/Html/HtmlParser.ts", "../../../../src/js/Core/Currencies.ts", "../../../../src/js/Content/Modules/Facades/AugmentedSteamApiFacade.ts", "../../../../src/js/Content/Modules/Currency/CurrencyManager.ts", "../../../../src/js/Content/Modules/Context/Feature.ts", "../../../../src/js/Core/Errors/Errors.ts", "../../../../src/js/Content/Modules/Context/Context.ts", "../../../../src/js/Core/Environment.ts", "../../../../src/js/Core/Storage/CookieReader.ts", "../../../../src/js/Core/Localization/LanguageFactory.ts", "../../../../src/js/Content/Modules/Facades/SteamCommunityApiFacade.ts", "../../../../src/js/Content/Modules/RequestData.ts", "../../../../src/js/Core/User/LegacyUser.ts", "../../../../src/js/Core/User/ReactUser.ts", "../../../../src/js/Core/User/UserFactory.ts", "../../../../src/js/Content/Modules/DOMHelper.ts", "../../../../src/js/Content/Modules/Messaging/Messenger.ts", "../../../../src/js/Content/Modules/Facades/SteamFacade.ts", "../../../../src/js/Core/AppConfig/AppConfig.ts", "../../../../src/js/Core/AppConfig/AppConfigFactory.ts", "../../../../src/js/Content/Features/Page.ts", "../../../../node_modules/svelte/src/runtime/internal/utils.js", "../../../../node_modules/svelte/src/runtime/internal/environment.js", "../../../../node_modules/svelte/src/runtime/internal/loop.js", "../../../../node_modules/svelte/src/runtime/internal/globals.js", "../../../../node_modules/svelte/src/runtime/internal/ResizeObserverSingleton.js", "../../../../node_modules/svelte/src/runtime/internal/dom.js", "../../../../node_modules/svelte/src/runtime/internal/style_manager.js", "../../../../node_modules/svelte/src/runtime/internal/lifecycle.js", "../../../../node_modules/svelte/src/runtime/internal/scheduler.js", "../../../../node_modules/svelte/src/runtime/internal/transitions.js", "../../../../node_modules/svelte/src/runtime/internal/await_block.js", "../../../../node_modules/svelte/src/runtime/internal/each.js", "../../../../node_modules/svelte/src/shared/boolean_attributes.js", "../../../../node_modules/svelte/src/runtime/internal/Component.js", "../../../../node_modules/svelte/src/shared/version.js", "../../../../node_modules/svelte/src/runtime/internal/disclose-version/index.js", "../../../../src/localization/compiled/_strings.ts", "ProgressBar.svelte", "../../../../src/js/Content/Steam/ReactDOM.ts", "../../../../src/js/Content/Modules/Widgets/ProgressBar.ts", "../../../../src/js/Content/Modules/Data/DynamicStore.ts", "../../../../src/js/Content/externalLink.ts", "../../../../src/js/Content/Modules/Facades/CacheApiFacade.ts", "../../../../node_modules/svelte/src/runtime/transition/index.js", "ModalButton.svelte", "Modal.svelte", "../../../../src/js/Core/Modals/ConfirmDialog.ts", "../../../../src/js/Core/Modals/AlertDialog.ts", "AugmentedSteamMenu.svelte", "Warning.svelte", "../../../../src/js/Core/Storage/LocalStorage.ts", "LoginWarning.svelte", "LanguageWarning.svelte", "AugmentedSteamWarnings.svelte", "BackToTop.svelte", "../../../../src/js/Content/Modules/AugmentedSteam.ts", "../../../../src/js/Core/Version.ts", "Changelog.svelte", "../../../../src/js/Core/Update/ChangelogHandler.ts", "../../../../src/js/Content/Modules/Facades/ITADApiFacade.ts", "../../../../src/js/Core/Sync/ESyncStatus.ts", "SyncIndicator.svelte", "ITADSyncStatus.svelte", "ITADSyncMenu.svelte", "../../../../src/js/Content/Modules/ITAD.ts", "../../../../src/js/Content/Features/LegacyPage.ts", "../../../../src/js/Content/Features/CommunityPage.ts", "../../../../src/js/Content/Modules/Context/ContextType.ts", "../../../../src/js/Content/Features/Community/FConfirmDeleteComment.ts", "../../../../src/js/Content/Modules/Community/SpamComments.ts", "../../../../src/js/Content/Features/Community/FHideSpamComments.ts", "../../../../src/js/Core/Html/Html.ts", "../../../../src/js/Content/Features/Common/FHideTrademarks.ts", "../../../../src/js/Content/Features/Common/FDisableLinkFilter.ts", "../../../../src/js/Content/Features/Common/FKeepSSACheckboxState.ts", "../../../../src/js/Content/Features/Common/FDefaultCommunityTab.ts", "EarlyAccess.svelte", "../../../../src/js/Core/GameId/GameId.ts", "../../../../src/js/Core/GameId/AppId.ts", "../../../../src/js/Content/Modules/EarlyAccess/EarlyAccessUtils.ts", "../../../../src/js/Content/Features/Common/FEarlyAccess.ts", "../../../../src/js/Content/Features/Common/CBase.ts", "FFavoriteEmoticons.svelte", "../../../../src/js/Content/Features/Community/FFavoriteEmoticons.ts", "../../../../src/js/Content/Features/Community/CCommunityBase.ts", "../../../../src/js/Core/Utils/TimeUtils.ts", "SortBox.svelte", "BlockingWaitModal.svelte", "../../../../src/js/Core/Modals/BlockingWaitDialog.ts", "../../../../src/js/Content/Features/Community/Recommended/FReviewSort.ts", "../../../../src/js/Content/Features/Community/Recommended/CRecommended.ts", "../../../../src/js/Content/Features/Community/Recommended/PRecommended.ts"],
  "sourcesContent": ["/* webextension-polyfill - v0.10.0 - Fri Aug 12 2022 19:42:44 */\n/* -*- Mode: indent-tabs-mode: nil; js-indent-level: 2 -*- */\n/* vim: set sts=2 sw=2 et tw=80: */\n/* This Source Code Form is subject to the terms of the Mozilla Public\n * License, v. 2.0. If a copy of the MPL was not distributed with this\n * file, You can obtain one at http://mozilla.org/MPL/2.0/. */\n\"use strict\";\n\nif (!globalThis.chrome?.runtime?.id) {\n  throw new Error(\"This script should only be loaded in a browser extension.\");\n}\n\nif (typeof globalThis.browser === \"undefined\" || Object.getPrototypeOf(globalThis.browser) !== Object.prototype) {\n  const CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE = \"The message port closed before a response was received.\";\n\n  // Wrapping the bulk of this polyfill in a one-time-use function is a minor\n  // optimization for Firefox. Since Spidermonkey does not fully parse the\n  // contents of a function until the first time it's called, and since it will\n  // never actually need to be called, this allows the polyfill to be included\n  // in Firefox nearly for free.\n  const wrapAPIs = extensionAPIs => {\n    // NOTE: apiMetadata is associated to the content of the api-metadata.json file\n    // at build time by replacing the following \"include\" with the content of the\n    // JSON file.\n    const apiMetadata = {\n      \"alarms\": {\n        \"clear\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"clearAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"bookmarks\": {\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getChildren\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getRecent\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getSubTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTree\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeTree\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"browserAction\": {\n        \"disable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"enable\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"getBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"openPopup\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setBadgeBackgroundColor\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setBadgeText\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"browsingData\": {\n        \"remove\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"removeCache\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCookies\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeDownloads\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFormData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeHistory\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeLocalStorage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePasswords\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removePluginData\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"settings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"commands\": {\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"contextMenus\": {\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"cookies\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAllCookieStores\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"set\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"devtools\": {\n        \"inspectedWindow\": {\n          \"eval\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 2,\n            \"singleCallbackArg\": false\n          }\n        },\n        \"panels\": {\n          \"create\": {\n            \"minArgs\": 3,\n            \"maxArgs\": 3,\n            \"singleCallbackArg\": true\n          },\n          \"elements\": {\n            \"createSidebarPane\": {\n              \"minArgs\": 1,\n              \"maxArgs\": 1\n            }\n          }\n        }\n      },\n      \"downloads\": {\n        \"cancel\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"download\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"erase\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFileIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"open\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"pause\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeFile\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"resume\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"extension\": {\n        \"isAllowedFileSchemeAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"isAllowedIncognitoAccess\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"history\": {\n        \"addUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"deleteRange\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"deleteUrl\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getVisits\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"search\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"i18n\": {\n        \"detectLanguage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAcceptLanguages\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"identity\": {\n        \"launchWebAuthFlow\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"idle\": {\n        \"queryState\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"management\": {\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"setEnabled\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"uninstallSelf\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"notifications\": {\n        \"clear\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPermissionLevel\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      },\n      \"pageAction\": {\n        \"getPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"hide\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setIcon\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"setPopup\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"setTitle\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        },\n        \"show\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1,\n          \"fallbackToNoCallback\": true\n        }\n      },\n      \"permissions\": {\n        \"contains\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"request\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"runtime\": {\n        \"getBackgroundPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getPlatformInfo\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"openOptionsPage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"requestUpdateCheck\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"sendMessage\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 3\n        },\n        \"sendNativeMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"setUninstallURL\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"sessions\": {\n        \"getDevices\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getRecentlyClosed\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"restore\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        }\n      },\n      \"storage\": {\n        \"local\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        },\n        \"managed\": {\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          }\n        },\n        \"sync\": {\n          \"clear\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 0\n          },\n          \"get\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"getBytesInUse\": {\n            \"minArgs\": 0,\n            \"maxArgs\": 1\n          },\n          \"remove\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          },\n          \"set\": {\n            \"minArgs\": 1,\n            \"maxArgs\": 1\n          }\n        }\n      },\n      \"tabs\": {\n        \"captureVisibleTab\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"create\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"detectLanguage\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"discard\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"duplicate\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"executeScript\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        },\n        \"getZoom\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getZoomSettings\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"goBack\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"goForward\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"highlight\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"insertCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"move\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        },\n        \"query\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"reload\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 2\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"removeCSS\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"sendMessage\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 3\n        },\n        \"setZoom\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"setZoomSettings\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"update\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        }\n      },\n      \"topSites\": {\n        \"get\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"webNavigation\": {\n        \"getAllFrames\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"getFrame\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        }\n      },\n      \"webRequest\": {\n        \"handlerBehaviorChanged\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 0\n        }\n      },\n      \"windows\": {\n        \"create\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"get\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 2\n        },\n        \"getAll\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getCurrent\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"getLastFocused\": {\n          \"minArgs\": 0,\n          \"maxArgs\": 1\n        },\n        \"remove\": {\n          \"minArgs\": 1,\n          \"maxArgs\": 1\n        },\n        \"update\": {\n          \"minArgs\": 2,\n          \"maxArgs\": 2\n        }\n      }\n    };\n\n    if (Object.keys(apiMetadata).length === 0) {\n      throw new Error(\"api-metadata.json has not been included in browser-polyfill\");\n    }\n\n    /**\n     * A WeakMap subclass which creates and stores a value for any key which does\n     * not exist when accessed, but behaves exactly as an ordinary WeakMap\n     * otherwise.\n     *\n     * @param {function} createItem\n     *        A function which will be called in order to create the value for any\n     *        key which does not exist, the first time it is accessed. The\n     *        function receives, as its only argument, the key being created.\n     */\n    class DefaultWeakMap extends WeakMap {\n      constructor(createItem, items = undefined) {\n        super(items);\n        this.createItem = createItem;\n      }\n\n      get(key) {\n        if (!this.has(key)) {\n          this.set(key, this.createItem(key));\n        }\n\n        return super.get(key);\n      }\n    }\n\n    /**\n     * Returns true if the given object is an object with a `then` method, and can\n     * therefore be assumed to behave as a Promise.\n     *\n     * @param {*} value The value to test.\n     * @returns {boolean} True if the value is thenable.\n     */\n    const isThenable = value => {\n      return value && typeof value === \"object\" && typeof value.then === \"function\";\n    };\n\n    /**\n     * Creates and returns a function which, when called, will resolve or reject\n     * the given promise based on how it is called:\n     *\n     * - If, when called, `chrome.runtime.lastError` contains a non-null object,\n     *   the promise is rejected with that value.\n     * - If the function is called with exactly one argument, the promise is\n     *   resolved to that value.\n     * - Otherwise, the promise is resolved to an array containing all of the\n     *   function's arguments.\n     *\n     * @param {object} promise\n     *        An object containing the resolution and rejection functions of a\n     *        promise.\n     * @param {function} promise.resolve\n     *        The promise's resolution function.\n     * @param {function} promise.reject\n     *        The promise's rejection function.\n     * @param {object} metadata\n     *        Metadata about the wrapped method which has created the callback.\n     * @param {boolean} metadata.singleCallbackArg\n     *        Whether or not the promise is resolved with only the first\n     *        argument of the callback, alternatively an array of all the\n     *        callback arguments is resolved. By default, if the callback\n     *        function is invoked with only a single argument, that will be\n     *        resolved to the promise, while all arguments will be resolved as\n     *        an array if multiple are given.\n     *\n     * @returns {function}\n     *        The generated callback function.\n     */\n    const makeCallback = (promise, metadata) => {\n      return (...callbackArgs) => {\n        if (extensionAPIs.runtime.lastError) {\n          promise.reject(new Error(extensionAPIs.runtime.lastError.message));\n        } else if (metadata.singleCallbackArg ||\n                   (callbackArgs.length <= 1 && metadata.singleCallbackArg !== false)) {\n          promise.resolve(callbackArgs[0]);\n        } else {\n          promise.resolve(callbackArgs);\n        }\n      };\n    };\n\n    const pluralizeArguments = (numArgs) => numArgs == 1 ? \"argument\" : \"arguments\";\n\n    /**\n     * Creates a wrapper function for a method with the given name and metadata.\n     *\n     * @param {string} name\n     *        The name of the method which is being wrapped.\n     * @param {object} metadata\n     *        Metadata about the method being wrapped.\n     * @param {integer} metadata.minArgs\n     *        The minimum number of arguments which must be passed to the\n     *        function. If called with fewer than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {integer} metadata.maxArgs\n     *        The maximum number of arguments which may be passed to the\n     *        function. If called with more than this number of arguments, the\n     *        wrapper will raise an exception.\n     * @param {boolean} metadata.singleCallbackArg\n     *        Whether or not the promise is resolved with only the first\n     *        argument of the callback, alternatively an array of all the\n     *        callback arguments is resolved. By default, if the callback\n     *        function is invoked with only a single argument, that will be\n     *        resolved to the promise, while all arguments will be resolved as\n     *        an array if multiple are given.\n     *\n     * @returns {function(object, ...*)}\n     *       The generated wrapper function.\n     */\n    const wrapAsyncFunction = (name, metadata) => {\n      return function asyncFunctionWrapper(target, ...args) {\n        if (args.length < metadata.minArgs) {\n          throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        if (args.length > metadata.maxArgs) {\n          throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n        }\n\n        return new Promise((resolve, reject) => {\n          if (metadata.fallbackToNoCallback) {\n            // This API method has currently no callback on Chrome, but it return a promise on Firefox,\n            // and so the polyfill will try to call it with a callback first, and it will fallback\n            // to not passing the callback if the first call fails.\n            try {\n              target[name](...args, makeCallback({resolve, reject}, metadata));\n            } catch (cbError) {\n              console.warn(`${name} API method doesn't seem to support the callback parameter, ` +\n                           \"falling back to call it without a callback: \", cbError);\n\n              target[name](...args);\n\n              // Update the API method metadata, so that the next API calls will not try to\n              // use the unsupported callback anymore.\n              metadata.fallbackToNoCallback = false;\n              metadata.noCallback = true;\n\n              resolve();\n            }\n          } else if (metadata.noCallback) {\n            target[name](...args);\n            resolve();\n          } else {\n            target[name](...args, makeCallback({resolve, reject}, metadata));\n          }\n        });\n      };\n    };\n\n    /**\n     * Wraps an existing method of the target object, so that calls to it are\n     * intercepted by the given wrapper function. The wrapper function receives,\n     * as its first argument, the original `target` object, followed by each of\n     * the arguments passed to the original method.\n     *\n     * @param {object} target\n     *        The original target object that the wrapped method belongs to.\n     * @param {function} method\n     *        The method being wrapped. This is used as the target of the Proxy\n     *        object which is created to wrap the method.\n     * @param {function} wrapper\n     *        The wrapper function which is called in place of a direct invocation\n     *        of the wrapped method.\n     *\n     * @returns {Proxy<function>}\n     *        A Proxy object for the given method, which invokes the given wrapper\n     *        method in its place.\n     */\n    const wrapMethod = (target, method, wrapper) => {\n      return new Proxy(method, {\n        apply(targetMethod, thisObj, args) {\n          return wrapper.call(thisObj, target, ...args);\n        },\n      });\n    };\n\n    let hasOwnProperty = Function.call.bind(Object.prototype.hasOwnProperty);\n\n    /**\n     * Wraps an object in a Proxy which intercepts and wraps certain methods\n     * based on the given `wrappers` and `metadata` objects.\n     *\n     * @param {object} target\n     *        The target object to wrap.\n     *\n     * @param {object} [wrappers = {}]\n     *        An object tree containing wrapper functions for special cases. Any\n     *        function present in this object tree is called in place of the\n     *        method in the same location in the `target` object tree. These\n     *        wrapper methods are invoked as described in {@see wrapMethod}.\n     *\n     * @param {object} [metadata = {}]\n     *        An object tree containing metadata used to automatically generate\n     *        Promise-based wrapper functions for asynchronous. Any function in\n     *        the `target` object tree which has a corresponding metadata object\n     *        in the same location in the `metadata` tree is replaced with an\n     *        automatically-generated wrapper function, as described in\n     *        {@see wrapAsyncFunction}\n     *\n     * @returns {Proxy<object>}\n     */\n    const wrapObject = (target, wrappers = {}, metadata = {}) => {\n      let cache = Object.create(null);\n      let handlers = {\n        has(proxyTarget, prop) {\n          return prop in target || prop in cache;\n        },\n\n        get(proxyTarget, prop, receiver) {\n          if (prop in cache) {\n            return cache[prop];\n          }\n\n          if (!(prop in target)) {\n            return undefined;\n          }\n\n          let value = target[prop];\n\n          if (typeof value === \"function\") {\n            // This is a method on the underlying object. Check if we need to do\n            // any wrapping.\n\n            if (typeof wrappers[prop] === \"function\") {\n              // We have a special-case wrapper for this method.\n              value = wrapMethod(target, target[prop], wrappers[prop]);\n            } else if (hasOwnProperty(metadata, prop)) {\n              // This is an async method that we have metadata for. Create a\n              // Promise wrapper for it.\n              let wrapper = wrapAsyncFunction(prop, metadata[prop]);\n              value = wrapMethod(target, target[prop], wrapper);\n            } else {\n              // This is a method that we don't know or care about. Return the\n              // original method, bound to the underlying object.\n              value = value.bind(target);\n            }\n          } else if (typeof value === \"object\" && value !== null &&\n                     (hasOwnProperty(wrappers, prop) ||\n                      hasOwnProperty(metadata, prop))) {\n            // This is an object that we need to do some wrapping for the children\n            // of. Create a sub-object wrapper for it with the appropriate child\n            // metadata.\n            value = wrapObject(value, wrappers[prop], metadata[prop]);\n          } else if (hasOwnProperty(metadata, \"*\")) {\n            // Wrap all properties in * namespace.\n            value = wrapObject(value, wrappers[prop], metadata[\"*\"]);\n          } else {\n            // We don't need to do any wrapping for this property,\n            // so just forward all access to the underlying object.\n            Object.defineProperty(cache, prop, {\n              configurable: true,\n              enumerable: true,\n              get() {\n                return target[prop];\n              },\n              set(value) {\n                target[prop] = value;\n              },\n            });\n\n            return value;\n          }\n\n          cache[prop] = value;\n          return value;\n        },\n\n        set(proxyTarget, prop, value, receiver) {\n          if (prop in cache) {\n            cache[prop] = value;\n          } else {\n            target[prop] = value;\n          }\n          return true;\n        },\n\n        defineProperty(proxyTarget, prop, desc) {\n          return Reflect.defineProperty(cache, prop, desc);\n        },\n\n        deleteProperty(proxyTarget, prop) {\n          return Reflect.deleteProperty(cache, prop);\n        },\n      };\n\n      // Per contract of the Proxy API, the \"get\" proxy handler must return the\n      // original value of the target if that value is declared read-only and\n      // non-configurable. For this reason, we create an object with the\n      // prototype set to `target` instead of using `target` directly.\n      // Otherwise we cannot return a custom object for APIs that\n      // are declared read-only and non-configurable, such as `chrome.devtools`.\n      //\n      // The proxy handlers themselves will still use the original `target`\n      // instead of the `proxyTarget`, so that the methods and properties are\n      // dereferenced via the original targets.\n      let proxyTarget = Object.create(target);\n      return new Proxy(proxyTarget, handlers);\n    };\n\n    /**\n     * Creates a set of wrapper functions for an event object, which handles\n     * wrapping of listener functions that those messages are passed.\n     *\n     * A single wrapper is created for each listener function, and stored in a\n     * map. Subsequent calls to `addListener`, `hasListener`, or `removeListener`\n     * retrieve the original wrapper, so that  attempts to remove a\n     * previously-added listener work as expected.\n     *\n     * @param {DefaultWeakMap<function, function>} wrapperMap\n     *        A DefaultWeakMap object which will create the appropriate wrapper\n     *        for a given listener function when one does not exist, and retrieve\n     *        an existing one when it does.\n     *\n     * @returns {object}\n     */\n    const wrapEvent = wrapperMap => ({\n      addListener(target, listener, ...args) {\n        target.addListener(wrapperMap.get(listener), ...args);\n      },\n\n      hasListener(target, listener) {\n        return target.hasListener(wrapperMap.get(listener));\n      },\n\n      removeListener(target, listener) {\n        target.removeListener(wrapperMap.get(listener));\n      },\n    });\n\n    const onRequestFinishedWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps an onRequestFinished listener function so that it will return a\n       * `getContent()` property which returns a `Promise` rather than using a\n       * callback API.\n       *\n       * @param {object} req\n       *        The HAR entry object representing the network request.\n       */\n      return function onRequestFinished(req) {\n        const wrappedReq = wrapObject(req, {} /* wrappers */, {\n          getContent: {\n            minArgs: 0,\n            maxArgs: 0,\n          },\n        });\n        listener(wrappedReq);\n      };\n    });\n\n    const onMessageWrappers = new DefaultWeakMap(listener => {\n      if (typeof listener !== \"function\") {\n        return listener;\n      }\n\n      /**\n       * Wraps a message listener function so that it may send responses based on\n       * its return value, rather than by returning a sentinel value and calling a\n       * callback. If the listener function returns a Promise, the response is\n       * sent when the promise either resolves or rejects.\n       *\n       * @param {*} message\n       *        The message sent by the other end of the channel.\n       * @param {object} sender\n       *        Details about the sender of the message.\n       * @param {function(*)} sendResponse\n       *        A callback which, when called with an arbitrary argument, sends\n       *        that value as a response.\n       * @returns {boolean}\n       *        True if the wrapped listener returned a Promise, which will later\n       *        yield a response. False otherwise.\n       */\n      return function onMessage(message, sender, sendResponse) {\n        let didCallSendResponse = false;\n\n        let wrappedSendResponse;\n        let sendResponsePromise = new Promise(resolve => {\n          wrappedSendResponse = function(response) {\n            didCallSendResponse = true;\n            resolve(response);\n          };\n        });\n\n        let result;\n        try {\n          result = listener(message, sender, wrappedSendResponse);\n        } catch (err) {\n          result = Promise.reject(err);\n        }\n\n        const isResultThenable = result !== true && isThenable(result);\n\n        // If the listener didn't returned true or a Promise, or called\n        // wrappedSendResponse synchronously, we can exit earlier\n        // because there will be no response sent from this listener.\n        if (result !== true && !isResultThenable && !didCallSendResponse) {\n          return false;\n        }\n\n        // A small helper to send the message if the promise resolves\n        // and an error if the promise rejects (a wrapped sendMessage has\n        // to translate the message into a resolved promise or a rejected\n        // promise).\n        const sendPromisedResult = (promise) => {\n          promise.then(msg => {\n            // send the message value.\n            sendResponse(msg);\n          }, error => {\n            // Send a JSON representation of the error if the rejected value\n            // is an instance of error, or the object itself otherwise.\n            let message;\n            if (error && (error instanceof Error ||\n                typeof error.message === \"string\")) {\n              message = error.message;\n            } else {\n              message = \"An unexpected error occurred\";\n            }\n\n            sendResponse({\n              __mozWebExtensionPolyfillReject__: true,\n              message,\n            });\n          }).catch(err => {\n            // Print an error on the console if unable to send the response.\n            console.error(\"Failed to send onMessage rejected reply\", err);\n          });\n        };\n\n        // If the listener returned a Promise, send the resolved value as a\n        // result, otherwise wait the promise related to the wrappedSendResponse\n        // callback to resolve and send it as a response.\n        if (isResultThenable) {\n          sendPromisedResult(result);\n        } else {\n          sendPromisedResult(sendResponsePromise);\n        }\n\n        // Let Chrome know that the listener is replying.\n        return true;\n      };\n    });\n\n    const wrappedSendMessageCallback = ({reject, resolve}, reply) => {\n      if (extensionAPIs.runtime.lastError) {\n        // Detect when none of the listeners replied to the sendMessage call and resolve\n        // the promise to undefined as in Firefox.\n        // See https://github.com/mozilla/webextension-polyfill/issues/130\n        if (extensionAPIs.runtime.lastError.message === CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE) {\n          resolve();\n        } else {\n          reject(new Error(extensionAPIs.runtime.lastError.message));\n        }\n      } else if (reply && reply.__mozWebExtensionPolyfillReject__) {\n        // Convert back the JSON representation of the error into\n        // an Error instance.\n        reject(new Error(reply.message));\n      } else {\n        resolve(reply);\n      }\n    };\n\n    const wrappedSendMessage = (name, metadata, apiNamespaceObj, ...args) => {\n      if (args.length < metadata.minArgs) {\n        throw new Error(`Expected at least ${metadata.minArgs} ${pluralizeArguments(metadata.minArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      if (args.length > metadata.maxArgs) {\n        throw new Error(`Expected at most ${metadata.maxArgs} ${pluralizeArguments(metadata.maxArgs)} for ${name}(), got ${args.length}`);\n      }\n\n      return new Promise((resolve, reject) => {\n        const wrappedCb = wrappedSendMessageCallback.bind(null, {resolve, reject});\n        args.push(wrappedCb);\n        apiNamespaceObj.sendMessage(...args);\n      });\n    };\n\n    const staticWrappers = {\n      devtools: {\n        network: {\n          onRequestFinished: wrapEvent(onRequestFinishedWrappers),\n        },\n      },\n      runtime: {\n        onMessage: wrapEvent(onMessageWrappers),\n        onMessageExternal: wrapEvent(onMessageWrappers),\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 1, maxArgs: 3}),\n      },\n      tabs: {\n        sendMessage: wrappedSendMessage.bind(null, \"sendMessage\", {minArgs: 2, maxArgs: 3}),\n      },\n    };\n    const settingMetadata = {\n      clear: {minArgs: 1, maxArgs: 1},\n      get: {minArgs: 1, maxArgs: 1},\n      set: {minArgs: 1, maxArgs: 1},\n    };\n    apiMetadata.privacy = {\n      network: {\"*\": settingMetadata},\n      services: {\"*\": settingMetadata},\n      websites: {\"*\": settingMetadata},\n    };\n\n    return wrapObject(extensionAPIs, staticWrappers, apiMetadata);\n  };\n\n  // The build process adds a UMD wrapper around this file, which makes the\n  // `module` variable available.\n  module.exports = wrapAPIs(chrome);\n} else {\n  module.exports = globalThis.browser;\n}\n", "import browser from \"webextension-polyfill\";\r\n\r\nexport default {\r\n    \"version\": browser.runtime.getManifest().version,\r\n    \"db_version\": 6,\r\n} as const;\r\n", "import browser, {type Storage as ns} from \"webextension-polyfill\";\r\nimport Storage, {type StorageSchema} from \"./Storage\";\r\n\r\n// FIXME exports are confusing, figure out better export scheme\r\n\r\n/**\r\n * NOTE: Settings are stored in synced storage, but are omitted from default schema,\r\n * because they should not be accessed directly from storage\r\n */\r\ninterface SyncedStorageSchema extends StorageSchema {\r\n    user_notes: Record<string, string>,\r\n    fav_emoticons: string[],\r\n    sortfriendsby: string,\r\n    sortgroupsby: string,\r\n    sortmylistingsby: string,\r\n    sortreviewsby: string,\r\n    homepage_tab_last: string;\r\n}\r\n\r\n/*\r\n * browser.storage.sync limits\r\n * QUOTA_BYTES = 102400 // 100KB\r\n * QUOTA_BYTES_PER_ITEM = 8192 // 8KB\r\n * MAX_ITEMS = 512\r\n * MAX_WRITE_OPERATIONS_PER_HOUR = 1800\r\n * MAX_WRITE_OPERATIONS_PER_MINUTE = 120\r\n */\r\nexport class SyncedStorage<Schema extends StorageSchema> extends Storage<ns.SyncStorageAreaSync, Schema> {\r\n\r\n    constructor() {\r\n        super(browser.storage.sync);\r\n    }\r\n\r\n    get QUOTA_BYTES_PER_ITEM(): number {\r\n        // see https://github.com/DefinitelyTyped/DefinitelyTyped/discussions/66696\r\n        return browser.storage.sync.QUOTA_BYTES_PER_ITEM ?? 8192;\r\n    }\r\n}\r\n\r\nexport default new SyncedStorage<SyncedStorageSchema>();\r\n", "import {type Storage as ns} from \"webextension-polyfill\";\r\n\r\n/*\r\n * Type declarations stolen from idb, because I was too dumb to figure them out on my own\r\n * */\r\ndeclare type KeyToKeyNoIndex<T> = {\r\n    [K in keyof T]: string extends K ? never : number extends K ? never : K;\r\n};\r\nexport declare type ValuesOf<T> = T extends {\r\n    [K in keyof T]: infer U;\r\n} ? U : never;\r\ndeclare type KnownKeys<T> = ValuesOf<KeyToKeyNoIndex<T>>;\r\n\r\nexport declare type StorageSchema = Record<string, any>;\r\nexport declare type SchemaKeys<Schema extends StorageSchema | unknown> = Schema extends StorageSchema ? (KnownKeys<Schema> & string) : string;\r\nexport declare type SchemaValue<Schema extends StorageSchema | unknown, Key extends SchemaKeys<Schema>> = Schema extends StorageSchema ? Schema[Key] : any;\r\n\r\nexport interface StorageInterface<Schema extends StorageSchema> {\r\n    get<K extends SchemaKeys<Schema>>(key: K): Promise<SchemaValue<Schema, K>|undefined>;\r\n    getObject<T extends Partial<Schema>>(object: T): Promise<T>;\r\n\r\n    set<K extends SchemaKeys<Schema>>(key: K, value: SchemaValue<Schema, K>): Promise<void>;\r\n    setObject(object: Partial<Schema>): Promise<void>;\r\n\r\n    remove<K extends SchemaKeys<Schema>>(...keys: K[]): Promise<void>;\r\n}\r\n\r\nexport default class Storage<\r\n    Area extends ns.SyncStorageAreaSync|ns.LocalStorageArea,\r\n    Schema extends StorageSchema\r\n> implements StorageInterface<Schema> {\r\n\r\n    private storageArea: Area;\r\n\r\n    constructor(storageArea: Area) {\r\n        this.storageArea = storageArea;\r\n    }\r\n\r\n    get onChanged() {\r\n        return this.storageArea.onChanged;\r\n    }\r\n\r\n    async get<K extends SchemaKeys<Schema>>(key: K): Promise<SchemaValue<Schema, K> | undefined> {\r\n        let response = await this.storageArea.get(key);\r\n        return response[key] ?? undefined;\r\n    }\r\n\r\n    getObject<T extends Partial<Schema>>(object: T): Promise<T> {\r\n        return this.storageArea.get(object) as Promise<T>;\r\n    }\r\n\r\n    set<K extends SchemaKeys<Schema>>(key: K, value: SchemaValue<Schema, K>): Promise<void> {\r\n        return this.storageArea.set({[key]: value});\r\n    }\r\n\r\n    setObject(object: Partial<Schema>): Promise<void> {\r\n        return this.storageArea.set(object);\r\n    }\r\n\r\n    remove<K extends SchemaKeys<Schema>>(...keys: K[]): Promise<void> {\r\n        return this.storageArea.remove(keys);\r\n    }\r\n}\r\n", "import Info from \"@Core/Info\";\r\nimport type {SettingsSchema} from \"./_types\";\r\nimport type {SchemaKeys, SchemaValue, StorageInterface} from \"@Core/Storage/Storage\";\r\nimport {SyncedStorage} from \"@Core/Storage/SyncedStorage\";\r\n\r\nexport const DefaultSettings: Readonly<SettingsSchema> = {\r\n    language: \"english\",\r\n\r\n    version: Info.version,\r\n    version_show: true,\r\n\r\n    highlight_owned_color: \"#00ce67\",\r\n    highlight_wishlist_color: \"#0491bf\",\r\n    highlight_followed_color: \"#d64550\",\r\n    highlight_coupon_color: \"#a26426\",\r\n    highlight_inv_gift_color: \"#800040\",\r\n    highlight_inv_guestpass_color: \"#513c73\",\r\n    highlight_notinterested_color: \"#4f4f4f\",\r\n    highlight_ignored_owned_color: \"#4f4f4f\",\r\n    highlight_collection_color: \"#856d0e\",\r\n    highlight_waitlist_color: \"#4c7521\",\r\n\r\n    tag_owned_color: \"#00b75b\",\r\n    tag_wishlist_color: \"#0383b4\",\r\n    tag_followed_color: \"#d64550\",\r\n    tag_coupon_color: \"#c27120\",\r\n    tag_inv_gift_color: \"#b10059\",\r\n    tag_inv_guestpass_color: \"#65449a\",\r\n    tag_notinterested_color: \"#4f4f4f\",\r\n    tag_ignored_owned_color: \"#4f4f4f\",\r\n    tag_collection_color: \"#856d0e\",\r\n    tag_waitlist_color: \"#4c7521\",\r\n\r\n    highlight_owned: true,\r\n    highlight_wishlist: true,\r\n    highlight_followed: true,\r\n    highlight_coupon: false,\r\n    highlight_inv_gift: false,\r\n    highlight_inv_guestpass: false,\r\n    highlight_notinterested: false,\r\n    highlight_ignored_owned: false,\r\n    highlight_excludef2p: false,\r\n    highlight_collection: true,\r\n    highlight_waitlist: true,\r\n\r\n    tag_owned: false,\r\n    tag_wishlist: false,\r\n    tag_followed: false,\r\n    tag_coupon: false,\r\n    tag_inv_gift: false,\r\n    tag_inv_guestpass: false,\r\n    tag_notinterested: true,\r\n    tag_ignored_owned: true,\r\n    tag_collection: false,\r\n    tag_waitlist: false,\r\n    tag_short: false,\r\n\r\n    hidetmsymbols: false,\r\n\r\n    showlowestprice: true,\r\n    showlowestprice_onwishlist: true,\r\n    showlowestpricecoupon: true,\r\n    showallstores: true,\r\n    excluded_stores: [],\r\n    override_price: \"auto\",\r\n    showregionalprice: \"mouse\",\r\n    regional_countries: [\"us\", \"gb\", \"fr\", \"br\", \"au\", \"jp\"],\r\n\r\n    show_es_homepagetabs: true,\r\n    showmarkettotal: false,\r\n    showmcus: true,\r\n    showoc: true,\r\n    showhltb: true,\r\n    showyoutube: true,\r\n    showtwitch: true,\r\n    showpcgw: true,\r\n    showcompletionistme: false,\r\n    showprotondb: false,\r\n    showviewinlibrary: false,\r\n    showsteamcardexchange: false,\r\n    showitadlinks: true,\r\n    showsteamdb: true,\r\n    showbartervg: false,\r\n    showyoutubegameplay: true,\r\n    showyoutubereviews: true,\r\n    showwsgf: true,\r\n    exfgls: true,\r\n    app_custom_link: [\r\n        {\r\n            enabled: true,\r\n            name: \"Google\",\r\n            url: \"https://www.google.com/search?q=[ID]+[NAME]\",\r\n            icon: \"https://www.google.com/images/branding/product/ico/googleg_lodp.ico\"\r\n        },\r\n    ],\r\n\r\n    customize_apppage: {},\r\n    customize_frontpage: {},\r\n\r\n    show_package_info: false,\r\n    show_players_info: true,\r\n    show_early_access: true,\r\n    show_alternative_linux_icon: false,\r\n    show_itad_button: false,\r\n    skip_got_steam: false,\r\n\r\n    installsteam: \"show\",\r\n    openinnewtab: false,\r\n    keepssachecked: false,\r\n    showemptywishlist: true,\r\n    user_notes_app: true,\r\n    user_notes_wishlist: true,\r\n    user_notes_simple: true,\r\n    showwishliststats: true,\r\n    oneclickremovewl: false,\r\n    user_notes_adapter: \"synced_storage\",\r\n    showlanguagewarning: true,\r\n    showlanguagewarninglanguage: \"english\",\r\n    homepage_tab_selection: \"remember\",\r\n    send_age_info: true,\r\n    removebroadcasts: false,\r\n    prevent_video_pause: false,\r\n    tabtitle_appname_first: false,\r\n    horizontalscrolling: true,\r\n    showsupportinfo: true,\r\n    showdrm: true,\r\n    regional_hideworld: false,\r\n    showinvnav: true,\r\n    quickinv: true,\r\n    quickinv_diff: -0.01,\r\n    community_default_tab: \"\",\r\n    showallstats: true,\r\n    replacecommunityhublinks: false,\r\n    hideannouncementcomments: false,\r\n    showachinstore: true,\r\n    hideactivelistings: false,\r\n    showlowestmarketprice: true,\r\n    hidespamcomments: false,\r\n    spamcommentregex: \"[\\\\u2500-\\\\u25FF]\",\r\n    wlbuttoncommunityapp: true,\r\n    removeguideslanguagefilter: false,\r\n    confirmdeletecomment: true,\r\n    disablelinkfilter: false,\r\n    show1clickgoo: true,\r\n    show_profile_link_images: \"gray\",\r\n    show_custom_themes: true,\r\n    profile_pinned_bg: false,\r\n    friends_append_nickname: false,\r\n    profile_steamrepcn: true,\r\n    profile_steamgifts: true,\r\n    profile_steamtrades: true,\r\n    profile_bartervg: true,\r\n    profile_steamdbcalc: true,\r\n    profile_backpacktf: true,\r\n    profile_steamid: true,\r\n    profile_custom_link: [\r\n        {\r\n            enabled: true,\r\n            name: \"Google\",\r\n            url: \"https://www.google.com/search?q=[ID]\",\r\n            icon: \"https://www.google.com/images/branding/product/ico/googleg_lodp.ico\"\r\n        },\r\n    ],\r\n    group_steamgifts: true,\r\n    steamcardexchange: true,\r\n    purchase_dates: true,\r\n    show_badge_progress: true,\r\n    show_coupon: true,\r\n    show_wishlist_link: true,\r\n    show_wishlist_count: true,\r\n    show_progressbar: true,\r\n    show_backtotop: false,\r\n\r\n    profile_showcase_twitch: true,\r\n    profile_showcase_own_twitch: false,\r\n    profile_showcase_twitch_profileonly: false,\r\n\r\n    itad_sync_library: true,\r\n    itad_sync_wishlist: true,\r\n    add_to_waitlist: false,\r\n    collection_banner_notowned: false,\r\n    itad_sync_notes: false,\r\n\r\n    context_steam_store: false,\r\n    context_steam_lucky: false,\r\n    context_steam_market: false,\r\n    context_itad: false,\r\n    context_bartervg: false,\r\n    context_steamdb: false,\r\n    context_steamdb_instant: false,\r\n    context_steam_keys: false,\r\n};\r\n\r\n\r\ntype TListener = () => void;\r\n\r\nclass Event {\r\n    private listeners: Set<TListener> = new Set();\r\n\r\n    addListener(listener: TListener): void {\r\n        this.listeners.add(listener);\r\n    }\r\n\r\n    removeListener(listener: TListener): void {\r\n        this.listeners.delete(listener);\r\n    }\r\n\r\n    invoke(): void {\r\n        for (const listener of this.listeners) {\r\n            listener();\r\n        }\r\n    }\r\n}\r\n\r\nexport class SettingsStore {\r\n\r\n    private static promise: Promise<void>;\r\n\r\n    private static data: SettingsSchema;\r\n    private static storage: StorageInterface<SettingsSchema> = new SyncedStorage<SettingsSchema>();\r\n\r\n    public static readonly onSaveStart: Event = new Event();\r\n    public static readonly onSaveEnd: Event = new Event();\r\n\r\n    public static async load(): Promise<void> {\r\n        this.data = await this.storage.getObject(DefaultSettings);\r\n    }\r\n\r\n    static init(): Promise<void> {\r\n        if (!this.promise) {\r\n            this.promise = this.load();\r\n        }\r\n        return this.promise;\r\n    }\r\n\r\n    static getDefault<K extends keyof SettingsSchema>(key: K): SettingsSchema[K] {\r\n        return DefaultSettings[key];\r\n    }\r\n\r\n    static get<K extends keyof SettingsSchema>(key: K): SettingsSchema[K] {\r\n        if (!this.data) {\r\n            throw new Error(\"Settings have not been loaded\");\r\n        }\r\n\r\n        return this.data[key];\r\n    }\r\n\r\n    static async set<K extends SchemaKeys<SettingsSchema>>(key: K, value: SchemaValue<SettingsSchema, K>): Promise<void> {\r\n        this.onSaveStart.invoke();\r\n\r\n        this.data[key] = value;\r\n        await this.storage.set(key, value);\r\n\r\n        this.onSaveEnd.invoke();\r\n    }\r\n\r\n    static remove<K extends SchemaKeys<SettingsSchema>>(key: K): void {\r\n        this.storage.remove(key);\r\n        this.data[key] = structuredClone(DefaultSettings[key]);\r\n    }\r\n\r\n    static clear(): void {\r\n        this.storage.remove(...(Object.keys(this.data) as SchemaKeys<SettingsSchema>[]));\r\n        this.data = structuredClone(DefaultSettings);\r\n    }\r\n\r\n    static async import(data: Partial<SettingsSchema>): Promise<void> {\r\n        // TODO check data for valid keys and values\r\n        await this.storage.setObject(data);\r\n        await this.load();\r\n    }\r\n\r\n    static asObject(): SettingsSchema {\r\n        return structuredClone(this.data);\r\n    }\r\n}\r\n\r\nexport default (new Proxy(SettingsStore, {\r\n    get<K extends SchemaKeys<SettingsSchema>>(target: typeof SettingsStore, prop: K): SchemaValue<SettingsSchema, K> {\r\n        return target.get(prop);\r\n    },\r\n\r\n    set<K extends SchemaKeys<SettingsSchema>>(target: typeof SettingsStore, prop: K, value: SchemaValue<SettingsSchema, K>): boolean {\r\n        target.set(prop, value);\r\n        return true;\r\n    }\r\n})) as unknown as SettingsSchema;\r\n\r\n\r\n/*\r\n FIXME not settings, more like cached values\r\n\"user_notes\": {},\r\n\"homepage_tab_last\": null,\r\n\"sortfriendsby\": \"default_ASC\",\r\n\"sortreviewsby\": \"default_ASC\",\r\n\"sortgroupsby\": \"default_ASC\",\r\n\"sortmylistingsby\": \"default_ASC\",\r\n\"fav_emoticons\": [],\r\n\r\n\r\nconst PERSISTENT: (keyof typeof DEFAULTS)[] = [\r\n    \"user_notes\",\r\n    \"user_notes_adapter\",\r\n];\r\n*/\r\n", "/*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE */\n\nconst {\n  entries,\n  setPrototypeOf,\n  isFrozen,\n  getPrototypeOf,\n  getOwnPropertyDescriptor\n} = Object;\nlet {\n  freeze,\n  seal,\n  create\n} = Object; // eslint-disable-line import/no-mutable-exports\nlet {\n  apply,\n  construct\n} = typeof Reflect !== 'undefined' && Reflect;\nif (!freeze) {\n  freeze = function freeze(x) {\n    return x;\n  };\n}\nif (!seal) {\n  seal = function seal(x) {\n    return x;\n  };\n}\nif (!apply) {\n  apply = function apply(fun, thisValue, args) {\n    return fun.apply(thisValue, args);\n  };\n}\nif (!construct) {\n  construct = function construct(Func, args) {\n    return new Func(...args);\n  };\n}\nconst arrayForEach = unapply(Array.prototype.forEach);\nconst arrayLastIndexOf = unapply(Array.prototype.lastIndexOf);\nconst arrayPop = unapply(Array.prototype.pop);\nconst arrayPush = unapply(Array.prototype.push);\nconst arraySplice = unapply(Array.prototype.splice);\nconst stringToLowerCase = unapply(String.prototype.toLowerCase);\nconst stringToString = unapply(String.prototype.toString);\nconst stringMatch = unapply(String.prototype.match);\nconst stringReplace = unapply(String.prototype.replace);\nconst stringIndexOf = unapply(String.prototype.indexOf);\nconst stringTrim = unapply(String.prototype.trim);\nconst objectHasOwnProperty = unapply(Object.prototype.hasOwnProperty);\nconst regExpTest = unapply(RegExp.prototype.test);\nconst typeErrorCreate = unconstruct(TypeError);\n/**\n * Creates a new function that calls the given function with a specified thisArg and arguments.\n *\n * @param func - The function to be wrapped and called.\n * @returns A new function that calls the given function with a specified thisArg and arguments.\n */\nfunction unapply(func) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return apply(func, thisArg, args);\n  };\n}\n/**\n * Creates a new function that constructs an instance of the given constructor function with the provided arguments.\n *\n * @param func - The constructor function to be wrapped and called.\n * @returns A new function that constructs an instance of the given constructor function with the provided arguments.\n */\nfunction unconstruct(func) {\n  return function () {\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n    return construct(func, args);\n  };\n}\n/**\n * Add properties to a lookup table\n *\n * @param set - The set to which elements will be added.\n * @param array - The array containing elements to be added to the set.\n * @param transformCaseFunc - An optional function to transform the case of each element before adding to the set.\n * @returns The modified set with added elements.\n */\nfunction addToSet(set, array) {\n  let transformCaseFunc = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : stringToLowerCase;\n  if (setPrototypeOf) {\n    // Make 'in' and truthy checks like Boolean(set.constructor)\n    // independent of any properties defined on Object.prototype.\n    // Prevent prototype setters from intercepting set as a this value.\n    setPrototypeOf(set, null);\n  }\n  let l = array.length;\n  while (l--) {\n    let element = array[l];\n    if (typeof element === 'string') {\n      const lcElement = transformCaseFunc(element);\n      if (lcElement !== element) {\n        // Config presets (e.g. tags.js, attrs.js) are immutable.\n        if (!isFrozen(array)) {\n          array[l] = lcElement;\n        }\n        element = lcElement;\n      }\n    }\n    set[element] = true;\n  }\n  return set;\n}\n/**\n * Clean up an array to harden against CSPP\n *\n * @param array - The array to be cleaned.\n * @returns The cleaned version of the array\n */\nfunction cleanArray(array) {\n  for (let index = 0; index < array.length; index++) {\n    const isPropertyExist = objectHasOwnProperty(array, index);\n    if (!isPropertyExist) {\n      array[index] = null;\n    }\n  }\n  return array;\n}\n/**\n * Shallow clone an object\n *\n * @param object - The object to be cloned.\n * @returns A new object that copies the original.\n */\nfunction clone(object) {\n  const newObject = create(null);\n  for (const [property, value] of entries(object)) {\n    const isPropertyExist = objectHasOwnProperty(object, property);\n    if (isPropertyExist) {\n      if (Array.isArray(value)) {\n        newObject[property] = cleanArray(value);\n      } else if (value && typeof value === 'object' && value.constructor === Object) {\n        newObject[property] = clone(value);\n      } else {\n        newObject[property] = value;\n      }\n    }\n  }\n  return newObject;\n}\n/**\n * This method automatically checks if the prop is function or getter and behaves accordingly.\n *\n * @param object - The object to look up the getter function in its prototype chain.\n * @param prop - The property name for which to find the getter function.\n * @returns The getter function found in the prototype chain or a fallback function.\n */\nfunction lookupGetter(object, prop) {\n  while (object !== null) {\n    const desc = getOwnPropertyDescriptor(object, prop);\n    if (desc) {\n      if (desc.get) {\n        return unapply(desc.get);\n      }\n      if (typeof desc.value === 'function') {\n        return unapply(desc.value);\n      }\n    }\n    object = getPrototypeOf(object);\n  }\n  function fallbackValue() {\n    return null;\n  }\n  return fallbackValue;\n}\n\nconst html$1 = freeze(['a', 'abbr', 'acronym', 'address', 'area', 'article', 'aside', 'audio', 'b', 'bdi', 'bdo', 'big', 'blink', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'center', 'cite', 'code', 'col', 'colgroup', 'content', 'data', 'datalist', 'dd', 'decorator', 'del', 'details', 'dfn', 'dialog', 'dir', 'div', 'dl', 'dt', 'element', 'em', 'fieldset', 'figcaption', 'figure', 'font', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'html', 'i', 'img', 'input', 'ins', 'kbd', 'label', 'legend', 'li', 'main', 'map', 'mark', 'marquee', 'menu', 'menuitem', 'meter', 'nav', 'nobr', 'ol', 'optgroup', 'option', 'output', 'p', 'picture', 'pre', 'progress', 'q', 'rp', 'rt', 'ruby', 's', 'samp', 'section', 'select', 'shadow', 'small', 'source', 'spacer', 'span', 'strike', 'strong', 'style', 'sub', 'summary', 'sup', 'table', 'tbody', 'td', 'template', 'textarea', 'tfoot', 'th', 'thead', 'time', 'tr', 'track', 'tt', 'u', 'ul', 'var', 'video', 'wbr']);\nconst svg$1 = freeze(['svg', 'a', 'altglyph', 'altglyphdef', 'altglyphitem', 'animatecolor', 'animatemotion', 'animatetransform', 'circle', 'clippath', 'defs', 'desc', 'ellipse', 'filter', 'font', 'g', 'glyph', 'glyphref', 'hkern', 'image', 'line', 'lineargradient', 'marker', 'mask', 'metadata', 'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialgradient', 'rect', 'stop', 'style', 'switch', 'symbol', 'text', 'textpath', 'title', 'tref', 'tspan', 'view', 'vkern']);\nconst svgFilters = freeze(['feBlend', 'feColorMatrix', 'feComponentTransfer', 'feComposite', 'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feDropShadow', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage', 'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence']);\n// List of SVG elements that are disallowed by default.\n// We still need to know them so that we can do namespace\n// checks properly in case one wants to add them to\n// allow-list.\nconst svgDisallowed = freeze(['animate', 'color-profile', 'cursor', 'discard', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src', 'font-face-uri', 'foreignobject', 'hatch', 'hatchpath', 'mesh', 'meshgradient', 'meshpatch', 'meshrow', 'missing-glyph', 'script', 'set', 'solidcolor', 'unknown', 'use']);\nconst mathMl$1 = freeze(['math', 'menclose', 'merror', 'mfenced', 'mfrac', 'mglyph', 'mi', 'mlabeledtr', 'mmultiscripts', 'mn', 'mo', 'mover', 'mpadded', 'mphantom', 'mroot', 'mrow', 'ms', 'mspace', 'msqrt', 'mstyle', 'msub', 'msup', 'msubsup', 'mtable', 'mtd', 'mtext', 'mtr', 'munder', 'munderover', 'mprescripts']);\n// Similarly to SVG, we want to know all MathML elements,\n// even those that we disallow by default.\nconst mathMlDisallowed = freeze(['maction', 'maligngroup', 'malignmark', 'mlongdiv', 'mscarries', 'mscarry', 'msgroup', 'mstack', 'msline', 'msrow', 'semantics', 'annotation', 'annotation-xml', 'mprescripts', 'none']);\nconst text = freeze(['#text']);\n\nconst html = freeze(['accept', 'action', 'align', 'alt', 'autocapitalize', 'autocomplete', 'autopictureinpicture', 'autoplay', 'background', 'bgcolor', 'border', 'capture', 'cellpadding', 'cellspacing', 'checked', 'cite', 'class', 'clear', 'color', 'cols', 'colspan', 'controls', 'controlslist', 'coords', 'crossorigin', 'datetime', 'decoding', 'default', 'dir', 'disabled', 'disablepictureinpicture', 'disableremoteplayback', 'download', 'draggable', 'enctype', 'enterkeyhint', 'face', 'for', 'headers', 'height', 'hidden', 'high', 'href', 'hreflang', 'id', 'inputmode', 'integrity', 'ismap', 'kind', 'label', 'lang', 'list', 'loading', 'loop', 'low', 'max', 'maxlength', 'media', 'method', 'min', 'minlength', 'multiple', 'muted', 'name', 'nonce', 'noshade', 'novalidate', 'nowrap', 'open', 'optimum', 'pattern', 'placeholder', 'playsinline', 'popover', 'popovertarget', 'popovertargetaction', 'poster', 'preload', 'pubdate', 'radiogroup', 'readonly', 'rel', 'required', 'rev', 'reversed', 'role', 'rows', 'rowspan', 'spellcheck', 'scope', 'selected', 'shape', 'size', 'sizes', 'span', 'srclang', 'start', 'src', 'srcset', 'step', 'style', 'summary', 'tabindex', 'title', 'translate', 'type', 'usemap', 'valign', 'value', 'width', 'wrap', 'xmlns', 'slot']);\nconst svg = freeze(['accent-height', 'accumulate', 'additive', 'alignment-baseline', 'amplitude', 'ascent', 'attributename', 'attributetype', 'azimuth', 'basefrequency', 'baseline-shift', 'begin', 'bias', 'by', 'class', 'clip', 'clippathunits', 'clip-path', 'clip-rule', 'color', 'color-interpolation', 'color-interpolation-filters', 'color-profile', 'color-rendering', 'cx', 'cy', 'd', 'dx', 'dy', 'diffuseconstant', 'direction', 'display', 'divisor', 'dur', 'edgemode', 'elevation', 'end', 'exponent', 'fill', 'fill-opacity', 'fill-rule', 'filter', 'filterunits', 'flood-color', 'flood-opacity', 'font-family', 'font-size', 'font-size-adjust', 'font-stretch', 'font-style', 'font-variant', 'font-weight', 'fx', 'fy', 'g1', 'g2', 'glyph-name', 'glyphref', 'gradientunits', 'gradienttransform', 'height', 'href', 'id', 'image-rendering', 'in', 'in2', 'intercept', 'k', 'k1', 'k2', 'k3', 'k4', 'kerning', 'keypoints', 'keysplines', 'keytimes', 'lang', 'lengthadjust', 'letter-spacing', 'kernelmatrix', 'kernelunitlength', 'lighting-color', 'local', 'marker-end', 'marker-mid', 'marker-start', 'markerheight', 'markerunits', 'markerwidth', 'maskcontentunits', 'maskunits', 'max', 'mask', 'media', 'method', 'mode', 'min', 'name', 'numoctaves', 'offset', 'operator', 'opacity', 'order', 'orient', 'orientation', 'origin', 'overflow', 'paint-order', 'path', 'pathlength', 'patterncontentunits', 'patterntransform', 'patternunits', 'points', 'preservealpha', 'preserveaspectratio', 'primitiveunits', 'r', 'rx', 'ry', 'radius', 'refx', 'refy', 'repeatcount', 'repeatdur', 'restart', 'result', 'rotate', 'scale', 'seed', 'shape-rendering', 'slope', 'specularconstant', 'specularexponent', 'spreadmethod', 'startoffset', 'stddeviation', 'stitchtiles', 'stop-color', 'stop-opacity', 'stroke-dasharray', 'stroke-dashoffset', 'stroke-linecap', 'stroke-linejoin', 'stroke-miterlimit', 'stroke-opacity', 'stroke', 'stroke-width', 'style', 'surfacescale', 'systemlanguage', 'tabindex', 'tablevalues', 'targetx', 'targety', 'transform', 'transform-origin', 'text-anchor', 'text-decoration', 'text-rendering', 'textlength', 'type', 'u1', 'u2', 'unicode', 'values', 'viewbox', 'visibility', 'version', 'vert-adv-y', 'vert-origin-x', 'vert-origin-y', 'width', 'word-spacing', 'wrap', 'writing-mode', 'xchannelselector', 'ychannelselector', 'x', 'x1', 'x2', 'xmlns', 'y', 'y1', 'y2', 'z', 'zoomandpan']);\nconst mathMl = freeze(['accent', 'accentunder', 'align', 'bevelled', 'close', 'columnsalign', 'columnlines', 'columnspan', 'denomalign', 'depth', 'dir', 'display', 'displaystyle', 'encoding', 'fence', 'frame', 'height', 'href', 'id', 'largeop', 'length', 'linethickness', 'lspace', 'lquote', 'mathbackground', 'mathcolor', 'mathsize', 'mathvariant', 'maxsize', 'minsize', 'movablelimits', 'notation', 'numalign', 'open', 'rowalign', 'rowlines', 'rowspacing', 'rowspan', 'rspace', 'rquote', 'scriptlevel', 'scriptminsize', 'scriptsizemultiplier', 'selection', 'separator', 'separators', 'stretchy', 'subscriptshift', 'supscriptshift', 'symmetric', 'voffset', 'width', 'xmlns']);\nconst xml = freeze(['xlink:href', 'xml:id', 'xlink:title', 'xml:space', 'xmlns:xlink']);\n\n// eslint-disable-next-line unicorn/better-regex\nconst MUSTACHE_EXPR = seal(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm); // Specify template detection regex for SAFE_FOR_TEMPLATES mode\nconst ERB_EXPR = seal(/<%[\\w\\W]*|[\\w\\W]*%>/gm);\nconst TMPLIT_EXPR = seal(/\\$\\{[\\w\\W]*/gm); // eslint-disable-line unicorn/better-regex\nconst DATA_ATTR = seal(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/); // eslint-disable-line no-useless-escape\nconst ARIA_ATTR = seal(/^aria-[\\-\\w]+$/); // eslint-disable-line no-useless-escape\nconst IS_ALLOWED_URI = seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i // eslint-disable-line no-useless-escape\n);\nconst IS_SCRIPT_OR_DATA = seal(/^(?:\\w+script|data):/i);\nconst ATTR_WHITESPACE = seal(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g // eslint-disable-line no-control-regex\n);\nconst DOCTYPE_NAME = seal(/^html$/i);\nconst CUSTOM_ELEMENT = seal(/^[a-z][.\\w]*(-[.\\w]+)+$/i);\n\nvar EXPRESSIONS = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  ARIA_ATTR: ARIA_ATTR,\n  ATTR_WHITESPACE: ATTR_WHITESPACE,\n  CUSTOM_ELEMENT: CUSTOM_ELEMENT,\n  DATA_ATTR: DATA_ATTR,\n  DOCTYPE_NAME: DOCTYPE_NAME,\n  ERB_EXPR: ERB_EXPR,\n  IS_ALLOWED_URI: IS_ALLOWED_URI,\n  IS_SCRIPT_OR_DATA: IS_SCRIPT_OR_DATA,\n  MUSTACHE_EXPR: MUSTACHE_EXPR,\n  TMPLIT_EXPR: TMPLIT_EXPR\n});\n\n/* eslint-disable @typescript-eslint/indent */\n// https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\nconst NODE_TYPE = {\n  element: 1,\n  attribute: 2,\n  text: 3,\n  cdataSection: 4,\n  entityReference: 5,\n  // Deprecated\n  entityNode: 6,\n  // Deprecated\n  progressingInstruction: 7,\n  comment: 8,\n  document: 9,\n  documentType: 10,\n  documentFragment: 11,\n  notation: 12 // Deprecated\n};\nconst getGlobal = function getGlobal() {\n  return typeof window === 'undefined' ? null : window;\n};\n/**\n * Creates a no-op policy for internal use only.\n * Don't export this function outside this module!\n * @param trustedTypes The policy factory.\n * @param purifyHostElement The Script element used to load DOMPurify (to determine policy name suffix).\n * @return The policy created (or null, if Trusted Types\n * are not supported or creating the policy failed).\n */\nconst _createTrustedTypesPolicy = function _createTrustedTypesPolicy(trustedTypes, purifyHostElement) {\n  if (typeof trustedTypes !== 'object' || typeof trustedTypes.createPolicy !== 'function') {\n    return null;\n  }\n  // Allow the callers to control the unique policy name\n  // by adding a data-tt-policy-suffix to the script element with the DOMPurify.\n  // Policy creation with duplicate names throws in Trusted Types.\n  let suffix = null;\n  const ATTR_NAME = 'data-tt-policy-suffix';\n  if (purifyHostElement && purifyHostElement.hasAttribute(ATTR_NAME)) {\n    suffix = purifyHostElement.getAttribute(ATTR_NAME);\n  }\n  const policyName = 'dompurify' + (suffix ? '#' + suffix : '');\n  try {\n    return trustedTypes.createPolicy(policyName, {\n      createHTML(html) {\n        return html;\n      },\n      createScriptURL(scriptUrl) {\n        return scriptUrl;\n      }\n    });\n  } catch (_) {\n    // Policy creation failed (most likely another DOMPurify script has\n    // already run). Skip creating the policy, as this will only cause errors\n    // if TT are enforced.\n    console.warn('TrustedTypes policy ' + policyName + ' could not be created.');\n    return null;\n  }\n};\nconst _createHooksMap = function _createHooksMap() {\n  return {\n    afterSanitizeAttributes: [],\n    afterSanitizeElements: [],\n    afterSanitizeShadowDOM: [],\n    beforeSanitizeAttributes: [],\n    beforeSanitizeElements: [],\n    beforeSanitizeShadowDOM: [],\n    uponSanitizeAttribute: [],\n    uponSanitizeElement: [],\n    uponSanitizeShadowNode: []\n  };\n};\nfunction createDOMPurify() {\n  let window = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : getGlobal();\n  const DOMPurify = root => createDOMPurify(root);\n  DOMPurify.version = '3.2.4';\n  DOMPurify.removed = [];\n  if (!window || !window.document || window.document.nodeType !== NODE_TYPE.document || !window.Element) {\n    // Not running in a browser, provide a factory function\n    // so that you can pass your own Window\n    DOMPurify.isSupported = false;\n    return DOMPurify;\n  }\n  let {\n    document\n  } = window;\n  const originalDocument = document;\n  const currentScript = originalDocument.currentScript;\n  const {\n    DocumentFragment,\n    HTMLTemplateElement,\n    Node,\n    Element,\n    NodeFilter,\n    NamedNodeMap = window.NamedNodeMap || window.MozNamedAttrMap,\n    HTMLFormElement,\n    DOMParser,\n    trustedTypes\n  } = window;\n  const ElementPrototype = Element.prototype;\n  const cloneNode = lookupGetter(ElementPrototype, 'cloneNode');\n  const remove = lookupGetter(ElementPrototype, 'remove');\n  const getNextSibling = lookupGetter(ElementPrototype, 'nextSibling');\n  const getChildNodes = lookupGetter(ElementPrototype, 'childNodes');\n  const getParentNode = lookupGetter(ElementPrototype, 'parentNode');\n  // As per issue #47, the web-components registry is inherited by a\n  // new document created via createHTMLDocument. As per the spec\n  // (http://w3c.github.io/webcomponents/spec/custom/#creating-and-passing-registries)\n  // a new empty registry is used when creating a template contents owner\n  // document, so we use that as our parent document to ensure nothing\n  // is inherited.\n  if (typeof HTMLTemplateElement === 'function') {\n    const template = document.createElement('template');\n    if (template.content && template.content.ownerDocument) {\n      document = template.content.ownerDocument;\n    }\n  }\n  let trustedTypesPolicy;\n  let emptyHTML = '';\n  const {\n    implementation,\n    createNodeIterator,\n    createDocumentFragment,\n    getElementsByTagName\n  } = document;\n  const {\n    importNode\n  } = originalDocument;\n  let hooks = _createHooksMap();\n  /**\n   * Expose whether this browser supports running the full DOMPurify.\n   */\n  DOMPurify.isSupported = typeof entries === 'function' && typeof getParentNode === 'function' && implementation && implementation.createHTMLDocument !== undefined;\n  const {\n    MUSTACHE_EXPR,\n    ERB_EXPR,\n    TMPLIT_EXPR,\n    DATA_ATTR,\n    ARIA_ATTR,\n    IS_SCRIPT_OR_DATA,\n    ATTR_WHITESPACE,\n    CUSTOM_ELEMENT\n  } = EXPRESSIONS;\n  let {\n    IS_ALLOWED_URI: IS_ALLOWED_URI$1\n  } = EXPRESSIONS;\n  /**\n   * We consider the elements and attributes below to be safe. Ideally\n   * don't add any new ones but feel free to remove unwanted ones.\n   */\n  /* allowed element names */\n  let ALLOWED_TAGS = null;\n  const DEFAULT_ALLOWED_TAGS = addToSet({}, [...html$1, ...svg$1, ...svgFilters, ...mathMl$1, ...text]);\n  /* Allowed attribute names */\n  let ALLOWED_ATTR = null;\n  const DEFAULT_ALLOWED_ATTR = addToSet({}, [...html, ...svg, ...mathMl, ...xml]);\n  /*\n   * Configure how DOMPurify should handle custom elements and their attributes as well as customized built-in elements.\n   * @property {RegExp|Function|null} tagNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any custom elements)\n   * @property {RegExp|Function|null} attributeNameCheck one of [null, regexPattern, predicate]. Default: `null` (disallow any attributes not on the allow list)\n   * @property {boolean} allowCustomizedBuiltInElements allow custom elements derived from built-ins if they pass CUSTOM_ELEMENT_HANDLING.tagNameCheck. Default: `false`.\n   */\n  let CUSTOM_ELEMENT_HANDLING = Object.seal(create(null, {\n    tagNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    attributeNameCheck: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: null\n    },\n    allowCustomizedBuiltInElements: {\n      writable: true,\n      configurable: false,\n      enumerable: true,\n      value: false\n    }\n  }));\n  /* Explicitly forbidden tags (overrides ALLOWED_TAGS/ADD_TAGS) */\n  let FORBID_TAGS = null;\n  /* Explicitly forbidden attributes (overrides ALLOWED_ATTR/ADD_ATTR) */\n  let FORBID_ATTR = null;\n  /* Decide if ARIA attributes are okay */\n  let ALLOW_ARIA_ATTR = true;\n  /* Decide if custom data attributes are okay */\n  let ALLOW_DATA_ATTR = true;\n  /* Decide if unknown protocols are okay */\n  let ALLOW_UNKNOWN_PROTOCOLS = false;\n  /* Decide if self-closing tags in attributes are allowed.\n   * Usually removed due to a mXSS issue in jQuery 3.0 */\n  let ALLOW_SELF_CLOSE_IN_ATTR = true;\n  /* Output should be safe for common template engines.\n   * This means, DOMPurify removes data attributes, mustaches and ERB\n   */\n  let SAFE_FOR_TEMPLATES = false;\n  /* Output should be safe even for XML used within HTML and alike.\n   * This means, DOMPurify removes comments when containing risky content.\n   */\n  let SAFE_FOR_XML = true;\n  /* Decide if document with <html>... should be returned */\n  let WHOLE_DOCUMENT = false;\n  /* Track whether config is already set on this instance of DOMPurify. */\n  let SET_CONFIG = false;\n  /* Decide if all elements (e.g. style, script) must be children of\n   * document.body. By default, browsers might move them to document.head */\n  let FORCE_BODY = false;\n  /* Decide if a DOM `HTMLBodyElement` should be returned, instead of a html\n   * string (or a TrustedHTML object if Trusted Types are supported).\n   * If `WHOLE_DOCUMENT` is enabled a `HTMLHtmlElement` will be returned instead\n   */\n  let RETURN_DOM = false;\n  /* Decide if a DOM `DocumentFragment` should be returned, instead of a html\n   * string  (or a TrustedHTML object if Trusted Types are supported) */\n  let RETURN_DOM_FRAGMENT = false;\n  /* Try to return a Trusted Type object instead of a string, return a string in\n   * case Trusted Types are not supported  */\n  let RETURN_TRUSTED_TYPE = false;\n  /* Output should be free from DOM clobbering attacks?\n   * This sanitizes markups named with colliding, clobberable built-in DOM APIs.\n   */\n  let SANITIZE_DOM = true;\n  /* Achieve full DOM Clobbering protection by isolating the namespace of named\n   * properties and JS variables, mitigating attacks that abuse the HTML/DOM spec rules.\n   *\n   * HTML/DOM spec rules that enable DOM Clobbering:\n   *   - Named Access on Window (\u00A77.3.3)\n   *   - DOM Tree Accessors (\u00A73.1.5)\n   *   - Form Element Parent-Child Relations (\u00A74.10.3)\n   *   - Iframe srcdoc / Nested WindowProxies (\u00A74.8.5)\n   *   - HTMLCollection (\u00A74.2.10.2)\n   *\n   * Namespace isolation is implemented by prefixing `id` and `name` attributes\n   * with a constant string, i.e., `user-content-`\n   */\n  let SANITIZE_NAMED_PROPS = false;\n  const SANITIZE_NAMED_PROPS_PREFIX = 'user-content-';\n  /* Keep element content when removing element? */\n  let KEEP_CONTENT = true;\n  /* If a `Node` is passed to sanitize(), then performs sanitization in-place instead\n   * of importing it into a new Document and returning a sanitized copy */\n  let IN_PLACE = false;\n  /* Allow usage of profiles like html, svg and mathMl */\n  let USE_PROFILES = {};\n  /* Tags to ignore content of when KEEP_CONTENT is true */\n  let FORBID_CONTENTS = null;\n  const DEFAULT_FORBID_CONTENTS = addToSet({}, ['annotation-xml', 'audio', 'colgroup', 'desc', 'foreignobject', 'head', 'iframe', 'math', 'mi', 'mn', 'mo', 'ms', 'mtext', 'noembed', 'noframes', 'noscript', 'plaintext', 'script', 'style', 'svg', 'template', 'thead', 'title', 'video', 'xmp']);\n  /* Tags that are safe for data: URIs */\n  let DATA_URI_TAGS = null;\n  const DEFAULT_DATA_URI_TAGS = addToSet({}, ['audio', 'video', 'img', 'source', 'image', 'track']);\n  /* Attributes safe for values like \"javascript:\" */\n  let URI_SAFE_ATTRIBUTES = null;\n  const DEFAULT_URI_SAFE_ATTRIBUTES = addToSet({}, ['alt', 'class', 'for', 'id', 'label', 'name', 'pattern', 'placeholder', 'role', 'summary', 'title', 'value', 'style', 'xmlns']);\n  const MATHML_NAMESPACE = 'http://www.w3.org/1998/Math/MathML';\n  const SVG_NAMESPACE = 'http://www.w3.org/2000/svg';\n  const HTML_NAMESPACE = 'http://www.w3.org/1999/xhtml';\n  /* Document namespace */\n  let NAMESPACE = HTML_NAMESPACE;\n  let IS_EMPTY_INPUT = false;\n  /* Allowed XHTML+XML namespaces */\n  let ALLOWED_NAMESPACES = null;\n  const DEFAULT_ALLOWED_NAMESPACES = addToSet({}, [MATHML_NAMESPACE, SVG_NAMESPACE, HTML_NAMESPACE], stringToString);\n  let MATHML_TEXT_INTEGRATION_POINTS = addToSet({}, ['mi', 'mo', 'mn', 'ms', 'mtext']);\n  let HTML_INTEGRATION_POINTS = addToSet({}, ['annotation-xml']);\n  // Certain elements are allowed in both SVG and HTML\n  // namespace. We need to specify them explicitly\n  // so that they don't get erroneously deleted from\n  // HTML namespace.\n  const COMMON_SVG_AND_HTML_ELEMENTS = addToSet({}, ['title', 'style', 'font', 'a', 'script']);\n  /* Parsing of strict XHTML documents */\n  let PARSER_MEDIA_TYPE = null;\n  const SUPPORTED_PARSER_MEDIA_TYPES = ['application/xhtml+xml', 'text/html'];\n  const DEFAULT_PARSER_MEDIA_TYPE = 'text/html';\n  let transformCaseFunc = null;\n  /* Keep a reference to config to pass to hooks */\n  let CONFIG = null;\n  /* Ideally, do not touch anything below this line */\n  /* ______________________________________________ */\n  const formElement = document.createElement('form');\n  const isRegexOrFunction = function isRegexOrFunction(testValue) {\n    return testValue instanceof RegExp || testValue instanceof Function;\n  };\n  /**\n   * _parseConfig\n   *\n   * @param cfg optional config literal\n   */\n  // eslint-disable-next-line complexity\n  const _parseConfig = function _parseConfig() {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    if (CONFIG && CONFIG === cfg) {\n      return;\n    }\n    /* Shield configuration object from tampering */\n    if (!cfg || typeof cfg !== 'object') {\n      cfg = {};\n    }\n    /* Shield configuration object from prototype pollution */\n    cfg = clone(cfg);\n    PARSER_MEDIA_TYPE =\n    // eslint-disable-next-line unicorn/prefer-includes\n    SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE) === -1 ? DEFAULT_PARSER_MEDIA_TYPE : cfg.PARSER_MEDIA_TYPE;\n    // HTML tags and attributes are not case-sensitive, converting to lowercase. Keeping XHTML as is.\n    transformCaseFunc = PARSER_MEDIA_TYPE === 'application/xhtml+xml' ? stringToString : stringToLowerCase;\n    /* Set configuration parameters */\n    ALLOWED_TAGS = objectHasOwnProperty(cfg, 'ALLOWED_TAGS') ? addToSet({}, cfg.ALLOWED_TAGS, transformCaseFunc) : DEFAULT_ALLOWED_TAGS;\n    ALLOWED_ATTR = objectHasOwnProperty(cfg, 'ALLOWED_ATTR') ? addToSet({}, cfg.ALLOWED_ATTR, transformCaseFunc) : DEFAULT_ALLOWED_ATTR;\n    ALLOWED_NAMESPACES = objectHasOwnProperty(cfg, 'ALLOWED_NAMESPACES') ? addToSet({}, cfg.ALLOWED_NAMESPACES, stringToString) : DEFAULT_ALLOWED_NAMESPACES;\n    URI_SAFE_ATTRIBUTES = objectHasOwnProperty(cfg, 'ADD_URI_SAFE_ATTR') ? addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES), cfg.ADD_URI_SAFE_ATTR, transformCaseFunc) : DEFAULT_URI_SAFE_ATTRIBUTES;\n    DATA_URI_TAGS = objectHasOwnProperty(cfg, 'ADD_DATA_URI_TAGS') ? addToSet(clone(DEFAULT_DATA_URI_TAGS), cfg.ADD_DATA_URI_TAGS, transformCaseFunc) : DEFAULT_DATA_URI_TAGS;\n    FORBID_CONTENTS = objectHasOwnProperty(cfg, 'FORBID_CONTENTS') ? addToSet({}, cfg.FORBID_CONTENTS, transformCaseFunc) : DEFAULT_FORBID_CONTENTS;\n    FORBID_TAGS = objectHasOwnProperty(cfg, 'FORBID_TAGS') ? addToSet({}, cfg.FORBID_TAGS, transformCaseFunc) : {};\n    FORBID_ATTR = objectHasOwnProperty(cfg, 'FORBID_ATTR') ? addToSet({}, cfg.FORBID_ATTR, transformCaseFunc) : {};\n    USE_PROFILES = objectHasOwnProperty(cfg, 'USE_PROFILES') ? cfg.USE_PROFILES : false;\n    ALLOW_ARIA_ATTR = cfg.ALLOW_ARIA_ATTR !== false; // Default true\n    ALLOW_DATA_ATTR = cfg.ALLOW_DATA_ATTR !== false; // Default true\n    ALLOW_UNKNOWN_PROTOCOLS = cfg.ALLOW_UNKNOWN_PROTOCOLS || false; // Default false\n    ALLOW_SELF_CLOSE_IN_ATTR = cfg.ALLOW_SELF_CLOSE_IN_ATTR !== false; // Default true\n    SAFE_FOR_TEMPLATES = cfg.SAFE_FOR_TEMPLATES || false; // Default false\n    SAFE_FOR_XML = cfg.SAFE_FOR_XML !== false; // Default true\n    WHOLE_DOCUMENT = cfg.WHOLE_DOCUMENT || false; // Default false\n    RETURN_DOM = cfg.RETURN_DOM || false; // Default false\n    RETURN_DOM_FRAGMENT = cfg.RETURN_DOM_FRAGMENT || false; // Default false\n    RETURN_TRUSTED_TYPE = cfg.RETURN_TRUSTED_TYPE || false; // Default false\n    FORCE_BODY = cfg.FORCE_BODY || false; // Default false\n    SANITIZE_DOM = cfg.SANITIZE_DOM !== false; // Default true\n    SANITIZE_NAMED_PROPS = cfg.SANITIZE_NAMED_PROPS || false; // Default false\n    KEEP_CONTENT = cfg.KEEP_CONTENT !== false; // Default true\n    IN_PLACE = cfg.IN_PLACE || false; // Default false\n    IS_ALLOWED_URI$1 = cfg.ALLOWED_URI_REGEXP || IS_ALLOWED_URI;\n    NAMESPACE = cfg.NAMESPACE || HTML_NAMESPACE;\n    MATHML_TEXT_INTEGRATION_POINTS = cfg.MATHML_TEXT_INTEGRATION_POINTS || MATHML_TEXT_INTEGRATION_POINTS;\n    HTML_INTEGRATION_POINTS = cfg.HTML_INTEGRATION_POINTS || HTML_INTEGRATION_POINTS;\n    CUSTOM_ELEMENT_HANDLING = cfg.CUSTOM_ELEMENT_HANDLING || {};\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.tagNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)) {\n      CUSTOM_ELEMENT_HANDLING.attributeNameCheck = cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck;\n    }\n    if (cfg.CUSTOM_ELEMENT_HANDLING && typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements === 'boolean') {\n      CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements = cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements;\n    }\n    if (SAFE_FOR_TEMPLATES) {\n      ALLOW_DATA_ATTR = false;\n    }\n    if (RETURN_DOM_FRAGMENT) {\n      RETURN_DOM = true;\n    }\n    /* Parse profile info */\n    if (USE_PROFILES) {\n      ALLOWED_TAGS = addToSet({}, text);\n      ALLOWED_ATTR = [];\n      if (USE_PROFILES.html === true) {\n        addToSet(ALLOWED_TAGS, html$1);\n        addToSet(ALLOWED_ATTR, html);\n      }\n      if (USE_PROFILES.svg === true) {\n        addToSet(ALLOWED_TAGS, svg$1);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.svgFilters === true) {\n        addToSet(ALLOWED_TAGS, svgFilters);\n        addToSet(ALLOWED_ATTR, svg);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n      if (USE_PROFILES.mathMl === true) {\n        addToSet(ALLOWED_TAGS, mathMl$1);\n        addToSet(ALLOWED_ATTR, mathMl);\n        addToSet(ALLOWED_ATTR, xml);\n      }\n    }\n    /* Merge configuration parameters */\n    if (cfg.ADD_TAGS) {\n      if (ALLOWED_TAGS === DEFAULT_ALLOWED_TAGS) {\n        ALLOWED_TAGS = clone(ALLOWED_TAGS);\n      }\n      addToSet(ALLOWED_TAGS, cfg.ADD_TAGS, transformCaseFunc);\n    }\n    if (cfg.ADD_ATTR) {\n      if (ALLOWED_ATTR === DEFAULT_ALLOWED_ATTR) {\n        ALLOWED_ATTR = clone(ALLOWED_ATTR);\n      }\n      addToSet(ALLOWED_ATTR, cfg.ADD_ATTR, transformCaseFunc);\n    }\n    if (cfg.ADD_URI_SAFE_ATTR) {\n      addToSet(URI_SAFE_ATTRIBUTES, cfg.ADD_URI_SAFE_ATTR, transformCaseFunc);\n    }\n    if (cfg.FORBID_CONTENTS) {\n      if (FORBID_CONTENTS === DEFAULT_FORBID_CONTENTS) {\n        FORBID_CONTENTS = clone(FORBID_CONTENTS);\n      }\n      addToSet(FORBID_CONTENTS, cfg.FORBID_CONTENTS, transformCaseFunc);\n    }\n    /* Add #text in case KEEP_CONTENT is set to true */\n    if (KEEP_CONTENT) {\n      ALLOWED_TAGS['#text'] = true;\n    }\n    /* Add html, head and body to ALLOWED_TAGS in case WHOLE_DOCUMENT is true */\n    if (WHOLE_DOCUMENT) {\n      addToSet(ALLOWED_TAGS, ['html', 'head', 'body']);\n    }\n    /* Add tbody to ALLOWED_TAGS in case tables are permitted, see #286, #365 */\n    if (ALLOWED_TAGS.table) {\n      addToSet(ALLOWED_TAGS, ['tbody']);\n      delete FORBID_TAGS.tbody;\n    }\n    if (cfg.TRUSTED_TYPES_POLICY) {\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createHTML !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');\n      }\n      if (typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL !== 'function') {\n        throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');\n      }\n      // Overwrite existing TrustedTypes policy.\n      trustedTypesPolicy = cfg.TRUSTED_TYPES_POLICY;\n      // Sign local variables required by `sanitize`.\n      emptyHTML = trustedTypesPolicy.createHTML('');\n    } else {\n      // Uninitialized policy, attempt to initialize the internal dompurify policy.\n      if (trustedTypesPolicy === undefined) {\n        trustedTypesPolicy = _createTrustedTypesPolicy(trustedTypes, currentScript);\n      }\n      // If creating the internal policy succeeded sign internal variables.\n      if (trustedTypesPolicy !== null && typeof emptyHTML === 'string') {\n        emptyHTML = trustedTypesPolicy.createHTML('');\n      }\n    }\n    // Prevent further manipulation of configuration.\n    // Not available in IE8, Safari 5, etc.\n    if (freeze) {\n      freeze(cfg);\n    }\n    CONFIG = cfg;\n  };\n  /* Keep track of all possible SVG and MathML tags\n   * so that we can perform the namespace checks\n   * correctly. */\n  const ALL_SVG_TAGS = addToSet({}, [...svg$1, ...svgFilters, ...svgDisallowed]);\n  const ALL_MATHML_TAGS = addToSet({}, [...mathMl$1, ...mathMlDisallowed]);\n  /**\n   * @param element a DOM element whose namespace is being checked\n   * @returns Return false if the element has a\n   *  namespace that a spec-compliant parser would never\n   *  return. Return true otherwise.\n   */\n  const _checkValidNamespace = function _checkValidNamespace(element) {\n    let parent = getParentNode(element);\n    // In JSDOM, if we're inside shadow DOM, then parentNode\n    // can be null. We just simulate parent in this case.\n    if (!parent || !parent.tagName) {\n      parent = {\n        namespaceURI: NAMESPACE,\n        tagName: 'template'\n      };\n    }\n    const tagName = stringToLowerCase(element.tagName);\n    const parentTagName = stringToLowerCase(parent.tagName);\n    if (!ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return false;\n    }\n    if (element.namespaceURI === SVG_NAMESPACE) {\n      // The only way to switch from HTML namespace to SVG\n      // is via <svg>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'svg';\n      }\n      // The only way to switch from MathML to SVG is via`\n      // svg if parent is either <annotation-xml> or MathML\n      // text integration points.\n      if (parent.namespaceURI === MATHML_NAMESPACE) {\n        return tagName === 'svg' && (parentTagName === 'annotation-xml' || MATHML_TEXT_INTEGRATION_POINTS[parentTagName]);\n      }\n      // We only allow elements that are defined in SVG\n      // spec. All others are disallowed in SVG namespace.\n      return Boolean(ALL_SVG_TAGS[tagName]);\n    }\n    if (element.namespaceURI === MATHML_NAMESPACE) {\n      // The only way to switch from HTML namespace to MathML\n      // is via <math>. If it happens via any other tag, then\n      // it should be killed.\n      if (parent.namespaceURI === HTML_NAMESPACE) {\n        return tagName === 'math';\n      }\n      // The only way to switch from SVG to MathML is via\n      // <math> and HTML integration points\n      if (parent.namespaceURI === SVG_NAMESPACE) {\n        return tagName === 'math' && HTML_INTEGRATION_POINTS[parentTagName];\n      }\n      // We only allow elements that are defined in MathML\n      // spec. All others are disallowed in MathML namespace.\n      return Boolean(ALL_MATHML_TAGS[tagName]);\n    }\n    if (element.namespaceURI === HTML_NAMESPACE) {\n      // The only way to switch from SVG to HTML is via\n      // HTML integration points, and from MathML to HTML\n      // is via MathML text integration points\n      if (parent.namespaceURI === SVG_NAMESPACE && !HTML_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      if (parent.namespaceURI === MATHML_NAMESPACE && !MATHML_TEXT_INTEGRATION_POINTS[parentTagName]) {\n        return false;\n      }\n      // We disallow tags that are specific for MathML\n      // or SVG and should never appear in HTML namespace\n      return !ALL_MATHML_TAGS[tagName] && (COMMON_SVG_AND_HTML_ELEMENTS[tagName] || !ALL_SVG_TAGS[tagName]);\n    }\n    // For XHTML and XML documents that support custom namespaces\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && ALLOWED_NAMESPACES[element.namespaceURI]) {\n      return true;\n    }\n    // The code should never reach this place (this means\n    // that the element somehow got namespace that is not\n    // HTML, SVG, MathML or allowed via ALLOWED_NAMESPACES).\n    // Return false just in case.\n    return false;\n  };\n  /**\n   * _forceRemove\n   *\n   * @param node a DOM node\n   */\n  const _forceRemove = function _forceRemove(node) {\n    arrayPush(DOMPurify.removed, {\n      element: node\n    });\n    try {\n      // eslint-disable-next-line unicorn/prefer-dom-node-remove\n      getParentNode(node).removeChild(node);\n    } catch (_) {\n      remove(node);\n    }\n  };\n  /**\n   * _removeAttribute\n   *\n   * @param name an Attribute name\n   * @param element a DOM node\n   */\n  const _removeAttribute = function _removeAttribute(name, element) {\n    try {\n      arrayPush(DOMPurify.removed, {\n        attribute: element.getAttributeNode(name),\n        from: element\n      });\n    } catch (_) {\n      arrayPush(DOMPurify.removed, {\n        attribute: null,\n        from: element\n      });\n    }\n    element.removeAttribute(name);\n    // We void attribute values for unremovable \"is\" attributes\n    if (name === 'is') {\n      if (RETURN_DOM || RETURN_DOM_FRAGMENT) {\n        try {\n          _forceRemove(element);\n        } catch (_) {}\n      } else {\n        try {\n          element.setAttribute(name, '');\n        } catch (_) {}\n      }\n    }\n  };\n  /**\n   * _initDocument\n   *\n   * @param dirty - a string of dirty markup\n   * @return a DOM, filled with the dirty markup\n   */\n  const _initDocument = function _initDocument(dirty) {\n    /* Create a HTML document */\n    let doc = null;\n    let leadingWhitespace = null;\n    if (FORCE_BODY) {\n      dirty = '<remove></remove>' + dirty;\n    } else {\n      /* If FORCE_BODY isn't used, leading whitespace needs to be preserved manually */\n      const matches = stringMatch(dirty, /^[\\r\\n\\t ]+/);\n      leadingWhitespace = matches && matches[0];\n    }\n    if (PARSER_MEDIA_TYPE === 'application/xhtml+xml' && NAMESPACE === HTML_NAMESPACE) {\n      // Root of XHTML doc must contain xmlns declaration (see https://www.w3.org/TR/xhtml1/normative.html#strict)\n      dirty = '<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>' + dirty + '</body></html>';\n    }\n    const dirtyPayload = trustedTypesPolicy ? trustedTypesPolicy.createHTML(dirty) : dirty;\n    /*\n     * Use the DOMParser API by default, fallback later if needs be\n     * DOMParser not work for svg when has multiple root element.\n     */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      try {\n        doc = new DOMParser().parseFromString(dirtyPayload, PARSER_MEDIA_TYPE);\n      } catch (_) {}\n    }\n    /* Use createHTMLDocument in case DOMParser is not available */\n    if (!doc || !doc.documentElement) {\n      doc = implementation.createDocument(NAMESPACE, 'template', null);\n      try {\n        doc.documentElement.innerHTML = IS_EMPTY_INPUT ? emptyHTML : dirtyPayload;\n      } catch (_) {\n        // Syntax error if dirtyPayload is invalid xml\n      }\n    }\n    const body = doc.body || doc.documentElement;\n    if (dirty && leadingWhitespace) {\n      body.insertBefore(document.createTextNode(leadingWhitespace), body.childNodes[0] || null);\n    }\n    /* Work on whole document or just its body */\n    if (NAMESPACE === HTML_NAMESPACE) {\n      return getElementsByTagName.call(doc, WHOLE_DOCUMENT ? 'html' : 'body')[0];\n    }\n    return WHOLE_DOCUMENT ? doc.documentElement : body;\n  };\n  /**\n   * Creates a NodeIterator object that you can use to traverse filtered lists of nodes or elements in a document.\n   *\n   * @param root The root element or node to start traversing on.\n   * @return The created NodeIterator\n   */\n  const _createNodeIterator = function _createNodeIterator(root) {\n    return createNodeIterator.call(root.ownerDocument || root, root,\n    // eslint-disable-next-line no-bitwise\n    NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_COMMENT | NodeFilter.SHOW_TEXT | NodeFilter.SHOW_PROCESSING_INSTRUCTION | NodeFilter.SHOW_CDATA_SECTION, null);\n  };\n  /**\n   * _isClobbered\n   *\n   * @param element element to check for clobbering attacks\n   * @return true if clobbered, false if safe\n   */\n  const _isClobbered = function _isClobbered(element) {\n    return element instanceof HTMLFormElement && (typeof element.nodeName !== 'string' || typeof element.textContent !== 'string' || typeof element.removeChild !== 'function' || !(element.attributes instanceof NamedNodeMap) || typeof element.removeAttribute !== 'function' || typeof element.setAttribute !== 'function' || typeof element.namespaceURI !== 'string' || typeof element.insertBefore !== 'function' || typeof element.hasChildNodes !== 'function');\n  };\n  /**\n   * Checks whether the given object is a DOM node.\n   *\n   * @param value object to check whether it's a DOM node\n   * @return true is object is a DOM node\n   */\n  const _isNode = function _isNode(value) {\n    return typeof Node === 'function' && value instanceof Node;\n  };\n  function _executeHooks(hooks, currentNode, data) {\n    arrayForEach(hooks, hook => {\n      hook.call(DOMPurify, currentNode, data, CONFIG);\n    });\n  }\n  /**\n   * _sanitizeElements\n   *\n   * @protect nodeName\n   * @protect textContent\n   * @protect removeChild\n   * @param currentNode to check for permission to exist\n   * @return true if node was killed, false if left alive\n   */\n  const _sanitizeElements = function _sanitizeElements(currentNode) {\n    let content = null;\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeElements, currentNode, null);\n    /* Check if element is clobbered or can clobber */\n    if (_isClobbered(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Now let's check the element's type and name */\n    const tagName = transformCaseFunc(currentNode.nodeName);\n    /* Execute a hook if present */\n    _executeHooks(hooks.uponSanitizeElement, currentNode, {\n      tagName,\n      allowedTags: ALLOWED_TAGS\n    });\n    /* Detect mXSS attempts abusing namespace confusion */\n    if (currentNode.hasChildNodes() && !_isNode(currentNode.firstElementChild) && regExpTest(/<[/\\w]/g, currentNode.innerHTML) && regExpTest(/<[/\\w]/g, currentNode.textContent)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any occurrence of processing instructions */\n    if (currentNode.nodeType === NODE_TYPE.progressingInstruction) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove any kind of possibly harmful comments */\n    if (SAFE_FOR_XML && currentNode.nodeType === NODE_TYPE.comment && regExpTest(/<[/\\w]/g, currentNode.data)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Remove element if anything forbids its presence */\n    if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n      /* Check if we have a custom element to handle */\n      if (!FORBID_TAGS[tagName] && _isBasicCustomElement(tagName)) {\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, tagName)) {\n          return false;\n        }\n        if (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName)) {\n          return false;\n        }\n      }\n      /* Keep content except for bad-listed elements */\n      if (KEEP_CONTENT && !FORBID_CONTENTS[tagName]) {\n        const parentNode = getParentNode(currentNode) || currentNode.parentNode;\n        const childNodes = getChildNodes(currentNode) || currentNode.childNodes;\n        if (childNodes && parentNode) {\n          const childCount = childNodes.length;\n          for (let i = childCount - 1; i >= 0; --i) {\n            const childClone = cloneNode(childNodes[i], true);\n            childClone.__removalCount = (currentNode.__removalCount || 0) + 1;\n            parentNode.insertBefore(childClone, getNextSibling(currentNode));\n          }\n        }\n      }\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Check whether element has a valid namespace */\n    if (currentNode instanceof Element && !_checkValidNamespace(currentNode)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Make sure that older browsers don't get fallback-tag mXSS */\n    if ((tagName === 'noscript' || tagName === 'noembed' || tagName === 'noframes') && regExpTest(/<\\/no(script|embed|frames)/i, currentNode.innerHTML)) {\n      _forceRemove(currentNode);\n      return true;\n    }\n    /* Sanitize element content to be template-safe */\n    if (SAFE_FOR_TEMPLATES && currentNode.nodeType === NODE_TYPE.text) {\n      /* Get the element's text content */\n      content = currentNode.textContent;\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        content = stringReplace(content, expr, ' ');\n      });\n      if (currentNode.textContent !== content) {\n        arrayPush(DOMPurify.removed, {\n          element: currentNode.cloneNode()\n        });\n        currentNode.textContent = content;\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeElements, currentNode, null);\n    return false;\n  };\n  /**\n   * _isValidAttribute\n   *\n   * @param lcTag Lowercase tag name of containing element.\n   * @param lcName Lowercase attribute name.\n   * @param value Attribute value.\n   * @return Returns true if `value` is valid, otherwise false.\n   */\n  // eslint-disable-next-line complexity\n  const _isValidAttribute = function _isValidAttribute(lcTag, lcName, value) {\n    /* Make sure attribute cannot clobber */\n    if (SANITIZE_DOM && (lcName === 'id' || lcName === 'name') && (value in document || value in formElement)) {\n      return false;\n    }\n    /* Allow valid data-* attributes: At least one character after \"-\"\n        (https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes)\n        XML-compatible (https://html.spec.whatwg.org/multipage/infrastructure.html#xml-compatible and http://www.w3.org/TR/xml/#d0e804)\n        We don't need to check the value; it's always URI safe. */\n    if (ALLOW_DATA_ATTR && !FORBID_ATTR[lcName] && regExpTest(DATA_ATTR, lcName)) ; else if (ALLOW_ARIA_ATTR && regExpTest(ARIA_ATTR, lcName)) ; else if (!ALLOWED_ATTR[lcName] || FORBID_ATTR[lcName]) {\n      if (\n      // First condition does a very basic check if a) it's basically a valid custom element tagname AND\n      // b) if the tagName passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      // and c) if the attribute name passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.attributeNameCheck\n      _isBasicCustomElement(lcTag) && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, lcTag) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag)) && (CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck, lcName) || CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName)) ||\n      // Alternative, second condition checks if it's an `is`-attribute, AND\n      // the value passes whatever the user has configured for CUSTOM_ELEMENT_HANDLING.tagNameCheck\n      lcName === 'is' && CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements && (CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp && regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck, value) || CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function && CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))) ; else {\n        return false;\n      }\n      /* Check value is safe. First, is attr inert? If so, is safe */\n    } else if (URI_SAFE_ATTRIBUTES[lcName]) ; else if (regExpTest(IS_ALLOWED_URI$1, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if ((lcName === 'src' || lcName === 'xlink:href' || lcName === 'href') && lcTag !== 'script' && stringIndexOf(value, 'data:') === 0 && DATA_URI_TAGS[lcTag]) ; else if (ALLOW_UNKNOWN_PROTOCOLS && !regExpTest(IS_SCRIPT_OR_DATA, stringReplace(value, ATTR_WHITESPACE, ''))) ; else if (value) {\n      return false;\n    } else ;\n    return true;\n  };\n  /**\n   * _isBasicCustomElement\n   * checks if at least one dash is included in tagName, and it's not the first char\n   * for more sophisticated checking see https://github.com/sindresorhus/validate-element-name\n   *\n   * @param tagName name of the tag of the node to sanitize\n   * @returns Returns true if the tag name meets the basic criteria for a custom element, otherwise false.\n   */\n  const _isBasicCustomElement = function _isBasicCustomElement(tagName) {\n    return tagName !== 'annotation-xml' && stringMatch(tagName, CUSTOM_ELEMENT);\n  };\n  /**\n   * _sanitizeAttributes\n   *\n   * @protect attributes\n   * @protect nodeName\n   * @protect removeAttribute\n   * @protect setAttribute\n   *\n   * @param currentNode to sanitize\n   */\n  const _sanitizeAttributes = function _sanitizeAttributes(currentNode) {\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeAttributes, currentNode, null);\n    const {\n      attributes\n    } = currentNode;\n    /* Check if we have attributes; if not we might have a text node */\n    if (!attributes || _isClobbered(currentNode)) {\n      return;\n    }\n    const hookEvent = {\n      attrName: '',\n      attrValue: '',\n      keepAttr: true,\n      allowedAttributes: ALLOWED_ATTR,\n      forceKeepAttr: undefined\n    };\n    let l = attributes.length;\n    /* Go backwards over all attributes; safely remove bad ones */\n    while (l--) {\n      const attr = attributes[l];\n      const {\n        name,\n        namespaceURI,\n        value: attrValue\n      } = attr;\n      const lcName = transformCaseFunc(name);\n      let value = name === 'value' ? attrValue : stringTrim(attrValue);\n      /* Execute a hook if present */\n      hookEvent.attrName = lcName;\n      hookEvent.attrValue = value;\n      hookEvent.keepAttr = true;\n      hookEvent.forceKeepAttr = undefined; // Allows developers to see this is a property they can set\n      _executeHooks(hooks.uponSanitizeAttribute, currentNode, hookEvent);\n      value = hookEvent.attrValue;\n      /* Full DOM Clobbering protection via namespace isolation,\n       * Prefix id and name attributes with `user-content-`\n       */\n      if (SANITIZE_NAMED_PROPS && (lcName === 'id' || lcName === 'name')) {\n        // Remove the attribute with this value\n        _removeAttribute(name, currentNode);\n        // Prefix the value and later re-create the attribute with the sanitized value\n        value = SANITIZE_NAMED_PROPS_PREFIX + value;\n      }\n      /* Work around a security issue with comments inside attributes */\n      if (SAFE_FOR_XML && regExpTest(/((--!?|])>)|<\\/(style|title)/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Did the hooks approve of the attribute? */\n      if (hookEvent.forceKeepAttr) {\n        continue;\n      }\n      /* Remove attribute */\n      _removeAttribute(name, currentNode);\n      /* Did the hooks approve of the attribute? */\n      if (!hookEvent.keepAttr) {\n        continue;\n      }\n      /* Work around a security issue in jQuery 3.0 */\n      if (!ALLOW_SELF_CLOSE_IN_ATTR && regExpTest(/\\/>/i, value)) {\n        _removeAttribute(name, currentNode);\n        continue;\n      }\n      /* Sanitize attribute content to be template-safe */\n      if (SAFE_FOR_TEMPLATES) {\n        arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n          value = stringReplace(value, expr, ' ');\n        });\n      }\n      /* Is `value` valid for this attribute? */\n      const lcTag = transformCaseFunc(currentNode.nodeName);\n      if (!_isValidAttribute(lcTag, lcName, value)) {\n        continue;\n      }\n      /* Handle attributes that require Trusted Types */\n      if (trustedTypesPolicy && typeof trustedTypes === 'object' && typeof trustedTypes.getAttributeType === 'function') {\n        if (namespaceURI) ; else {\n          switch (trustedTypes.getAttributeType(lcTag, lcName)) {\n            case 'TrustedHTML':\n              {\n                value = trustedTypesPolicy.createHTML(value);\n                break;\n              }\n            case 'TrustedScriptURL':\n              {\n                value = trustedTypesPolicy.createScriptURL(value);\n                break;\n              }\n          }\n        }\n      }\n      /* Handle invalid data-* attribute set by try-catching it */\n      try {\n        if (namespaceURI) {\n          currentNode.setAttributeNS(namespaceURI, name, value);\n        } else {\n          /* Fallback to setAttribute() for browser-unrecognized namespaces e.g. \"x-schema\". */\n          currentNode.setAttribute(name, value);\n        }\n        if (_isClobbered(currentNode)) {\n          _forceRemove(currentNode);\n        } else {\n          arrayPop(DOMPurify.removed);\n        }\n      } catch (_) {}\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeAttributes, currentNode, null);\n  };\n  /**\n   * _sanitizeShadowDOM\n   *\n   * @param fragment to iterate over recursively\n   */\n  const _sanitizeShadowDOM = function _sanitizeShadowDOM(fragment) {\n    let shadowNode = null;\n    const shadowIterator = _createNodeIterator(fragment);\n    /* Execute a hook if present */\n    _executeHooks(hooks.beforeSanitizeShadowDOM, fragment, null);\n    while (shadowNode = shadowIterator.nextNode()) {\n      /* Execute a hook if present */\n      _executeHooks(hooks.uponSanitizeShadowNode, shadowNode, null);\n      /* Sanitize tags and elements */\n      _sanitizeElements(shadowNode);\n      /* Check attributes next */\n      _sanitizeAttributes(shadowNode);\n      /* Deep shadow DOM detected */\n      if (shadowNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(shadowNode.content);\n      }\n    }\n    /* Execute a hook if present */\n    _executeHooks(hooks.afterSanitizeShadowDOM, fragment, null);\n  };\n  // eslint-disable-next-line complexity\n  DOMPurify.sanitize = function (dirty) {\n    let cfg = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    let body = null;\n    let importedNode = null;\n    let currentNode = null;\n    let returnNode = null;\n    /* Make sure we have a string to sanitize.\n      DO NOT return early, as this will return the wrong type if\n      the user has requested a DOM object rather than a string */\n    IS_EMPTY_INPUT = !dirty;\n    if (IS_EMPTY_INPUT) {\n      dirty = '<!-->';\n    }\n    /* Stringify, in case dirty is an object */\n    if (typeof dirty !== 'string' && !_isNode(dirty)) {\n      if (typeof dirty.toString === 'function') {\n        dirty = dirty.toString();\n        if (typeof dirty !== 'string') {\n          throw typeErrorCreate('dirty is not a string, aborting');\n        }\n      } else {\n        throw typeErrorCreate('toString is not a function');\n      }\n    }\n    /* Return dirty HTML if DOMPurify cannot run */\n    if (!DOMPurify.isSupported) {\n      return dirty;\n    }\n    /* Assign config vars */\n    if (!SET_CONFIG) {\n      _parseConfig(cfg);\n    }\n    /* Clean up removed elements */\n    DOMPurify.removed = [];\n    /* Check if dirty is correctly typed for IN_PLACE */\n    if (typeof dirty === 'string') {\n      IN_PLACE = false;\n    }\n    if (IN_PLACE) {\n      /* Do some early pre-sanitization to avoid unsafe root nodes */\n      if (dirty.nodeName) {\n        const tagName = transformCaseFunc(dirty.nodeName);\n        if (!ALLOWED_TAGS[tagName] || FORBID_TAGS[tagName]) {\n          throw typeErrorCreate('root node is forbidden and cannot be sanitized in-place');\n        }\n      }\n    } else if (dirty instanceof Node) {\n      /* If dirty is a DOM element, append to an empty document to avoid\n         elements being stripped by the parser */\n      body = _initDocument('<!---->');\n      importedNode = body.ownerDocument.importNode(dirty, true);\n      if (importedNode.nodeType === NODE_TYPE.element && importedNode.nodeName === 'BODY') {\n        /* Node is already a body, use as is */\n        body = importedNode;\n      } else if (importedNode.nodeName === 'HTML') {\n        body = importedNode;\n      } else {\n        // eslint-disable-next-line unicorn/prefer-dom-node-append\n        body.appendChild(importedNode);\n      }\n    } else {\n      /* Exit directly if we have nothing to do */\n      if (!RETURN_DOM && !SAFE_FOR_TEMPLATES && !WHOLE_DOCUMENT &&\n      // eslint-disable-next-line unicorn/prefer-includes\n      dirty.indexOf('<') === -1) {\n        return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(dirty) : dirty;\n      }\n      /* Initialize the document to work on */\n      body = _initDocument(dirty);\n      /* Check we have a DOM node from the data */\n      if (!body) {\n        return RETURN_DOM ? null : RETURN_TRUSTED_TYPE ? emptyHTML : '';\n      }\n    }\n    /* Remove first element node (ours) if FORCE_BODY is set */\n    if (body && FORCE_BODY) {\n      _forceRemove(body.firstChild);\n    }\n    /* Get node iterator */\n    const nodeIterator = _createNodeIterator(IN_PLACE ? dirty : body);\n    /* Now start iterating over the created document */\n    while (currentNode = nodeIterator.nextNode()) {\n      /* Sanitize tags and elements */\n      _sanitizeElements(currentNode);\n      /* Check attributes next */\n      _sanitizeAttributes(currentNode);\n      /* Shadow DOM detected, sanitize it */\n      if (currentNode.content instanceof DocumentFragment) {\n        _sanitizeShadowDOM(currentNode.content);\n      }\n    }\n    /* If we sanitized `dirty` in-place, return it. */\n    if (IN_PLACE) {\n      return dirty;\n    }\n    /* Return sanitized string or DOM */\n    if (RETURN_DOM) {\n      if (RETURN_DOM_FRAGMENT) {\n        returnNode = createDocumentFragment.call(body.ownerDocument);\n        while (body.firstChild) {\n          // eslint-disable-next-line unicorn/prefer-dom-node-append\n          returnNode.appendChild(body.firstChild);\n        }\n      } else {\n        returnNode = body;\n      }\n      if (ALLOWED_ATTR.shadowroot || ALLOWED_ATTR.shadowrootmode) {\n        /*\n          AdoptNode() is not used because internal state is not reset\n          (e.g. the past names map of a HTMLFormElement), this is safe\n          in theory but we would rather not risk another attack vector.\n          The state that is cloned by importNode() is explicitly defined\n          by the specs.\n        */\n        returnNode = importNode.call(originalDocument, returnNode, true);\n      }\n      return returnNode;\n    }\n    let serializedHTML = WHOLE_DOCUMENT ? body.outerHTML : body.innerHTML;\n    /* Serialize doctype if allowed */\n    if (WHOLE_DOCUMENT && ALLOWED_TAGS['!doctype'] && body.ownerDocument && body.ownerDocument.doctype && body.ownerDocument.doctype.name && regExpTest(DOCTYPE_NAME, body.ownerDocument.doctype.name)) {\n      serializedHTML = '<!DOCTYPE ' + body.ownerDocument.doctype.name + '>\\n' + serializedHTML;\n    }\n    /* Sanitize final string template-safe */\n    if (SAFE_FOR_TEMPLATES) {\n      arrayForEach([MUSTACHE_EXPR, ERB_EXPR, TMPLIT_EXPR], expr => {\n        serializedHTML = stringReplace(serializedHTML, expr, ' ');\n      });\n    }\n    return trustedTypesPolicy && RETURN_TRUSTED_TYPE ? trustedTypesPolicy.createHTML(serializedHTML) : serializedHTML;\n  };\n  DOMPurify.setConfig = function () {\n    let cfg = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _parseConfig(cfg);\n    SET_CONFIG = true;\n  };\n  DOMPurify.clearConfig = function () {\n    CONFIG = null;\n    SET_CONFIG = false;\n  };\n  DOMPurify.isValidAttribute = function (tag, attr, value) {\n    /* Initialize shared config vars if necessary. */\n    if (!CONFIG) {\n      _parseConfig({});\n    }\n    const lcTag = transformCaseFunc(tag);\n    const lcName = transformCaseFunc(attr);\n    return _isValidAttribute(lcTag, lcName, value);\n  };\n  DOMPurify.addHook = function (entryPoint, hookFunction) {\n    if (typeof hookFunction !== 'function') {\n      return;\n    }\n    arrayPush(hooks[entryPoint], hookFunction);\n  };\n  DOMPurify.removeHook = function (entryPoint, hookFunction) {\n    if (hookFunction !== undefined) {\n      const index = arrayLastIndexOf(hooks[entryPoint], hookFunction);\n      return index === -1 ? undefined : arraySplice(hooks[entryPoint], index, 1)[0];\n    }\n    return arrayPop(hooks[entryPoint]);\n  };\n  DOMPurify.removeHooks = function (entryPoint) {\n    hooks[entryPoint] = [];\n  };\n  DOMPurify.removeAllHooks = function () {\n    hooks = _createHooksMap();\n  };\n  return DOMPurify;\n}\nvar purify = createDOMPurify();\n\nexport { purify as default };\n//# sourceMappingURL=purify.es.mjs.map\n", "import Settings, {SettingsStore} from \"@Options/Data/Settings\";\r\nimport DOMPurify, {type Config} from \"dompurify\";\r\n\r\nlet initialized = false;\r\n\r\n/**\r\n * DOMPurify setup\r\n * @see https://github.com/cure53/DOMPurify\r\n */\r\nexport default async function() {\r\n\r\n    if (initialized) { return; }\r\n    initialized = true;\r\n\r\n    await SettingsStore.init();\r\n    const allowOpenInNewTab = Settings.openinnewtab;\r\n\r\n    /*\r\n     * NOTE FOR ADDON REVIEWER:\r\n     * We are modifying default DOMPurify settings to allow other protocols in URLs\r\n     * and to allow links to safely open in new tabs.\r\n     *\r\n     * We took the original Regex and added chrome-extension://, moz-extension:// and steam://\r\n     * First two are needed for linking local resources from extension,\r\n     * steam:// protocol is used by Steam store to open their own client (e.g. when you want to launch a game).\r\n     *\r\n     * The addition of the `target` attribute to the allowed attributes is done in order to be able to open links in a new tab.\r\n     * We only allow target=\"_blank\" while adding rel=\"noreferrer noopener\" to prevent child window to access window.opener\r\n     * as described in https://www.jitbit.com/alexblog/256-targetblank---the-most-underestimated-vulnerability-ever/\r\n     */\r\n\r\n    const purifyConfig: Config = {\r\n        \"ALLOWED_URI_REGEXP\": /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|chrome-extension|moz-extension|steam):|[^a-z]|[a-z+.-]+(?:[^a-z+.\\-:]|$))/i\r\n    };\r\n\r\n    if (allowOpenInNewTab) {\r\n        purifyConfig.ADD_ATTR = [\"target\"];\r\n\r\n        DOMPurify.addHook(\"uponSanitizeAttribute\", (node, data) => {\r\n            if (data.attrName === \"target\") {\r\n                if (data.attrValue === \"_blank\") {\r\n                    node.setAttribute(\"rel\", \"noreferrer noopener\");\r\n                } else {\r\n                    data.keepAttr = false;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    DOMPurify.setConfig(purifyConfig);\r\n}\r\n", "// This is the basic configuration for the Augmented Steam extension\r\n\r\nexport default {\r\n    ApiServerHost: \"https://api.augmentedsteam.com\",\r\n    PublicHost: \"https://augmentedsteam.com\",\r\n    ITADApiServerHost: \"https://api.isthereanydeal.com\",\r\n    ITADServer: \"https://isthereanydeal.com\",\r\n    ITADClientId: \"5fe78af07889f43a\",\r\n    ITADDiscord: \"https://discord.gg/yn57q7f\",\r\n} as const;\r\n", "import browser from \"webextension-polyfill\";\r\n\r\nexport default class ExtensionResources {\r\n\r\n    static getURL(pathname: string) {\r\n        return browser.runtime.getURL(pathname);\r\n    }\r\n\r\n    static get(pathname: string): Promise<Response> {\r\n        return fetch(ExtensionResources.getURL(pathname));\r\n    }\r\n\r\n    static async getJSON<T>(pathname: string): Promise<T> {\r\n        let response = await ExtensionResources.get(pathname);\r\n        return await response.json();\r\n    }\r\n\r\n    static async getText(pathname: string): Promise<string> {\r\n        let response = await ExtensionResources.get(pathname);\r\n        return await response.text();\r\n    }\r\n}\r\n", "\r\nexport default class Language {\r\n\r\n    public static readonly map: Record<string, string> ={\r\n        \"english\": \"en\",\r\n        \"bulgarian\": \"bg\",\r\n        \"czech\": \"cs\",\r\n        \"danish\": \"da\",\r\n        \"dutch\": \"nl\",\r\n        \"finnish\": \"fi\",\r\n        \"french\": \"fr\",\r\n        \"greek\": \"el\",\r\n        \"german\": \"de\",\r\n        \"hungarian\": \"hu\",\r\n        \"italian\": \"it\",\r\n        \"japanese\": \"ja\",\r\n        \"koreana\": \"ko\",\r\n        \"norwegian\": \"no\",\r\n        \"polish\": \"pl\",\r\n        \"portuguese\": \"pt-PT\",\r\n        \"brazilian\": \"pt-BR\",\r\n        \"russian\": \"ru\",\r\n        \"romanian\": \"ro\",\r\n        \"schinese\": \"zh-CN\",\r\n        \"spanish\": \"es-ES\",\r\n        \"latam\": \"es-419\",\r\n        \"swedish\": \"sv-SE\",\r\n        \"tchinese\": \"zh-TW\",\r\n        \"thai\": \"th\",\r\n        \"turkish\": \"tr\",\r\n        \"ukrainian\": \"ua\",\r\n        \"vietnamese\": \"vi\",\r\n    };\r\n\r\n    private readonly _name: string;\r\n    private readonly _code: string|null;\r\n\r\n    constructor(language: string) {\r\n        this._name = language;\r\n        this._code = Language.map[language] ?? null;\r\n        // TODO should we throw when there is unsupported language?\r\n    }\r\n\r\n    get name(): string {\r\n        return this._name;\r\n    }\r\n\r\n    get code(): string|null {\r\n        return this._code;\r\n    }\r\n\r\n    isOneOf(...languages: string[]) {\r\n        return languages.includes(this._name);\r\n    }\r\n}\r\n\r\n", "import browser from \"webextension-polyfill\";\r\nimport ErrorParser from \"@Core/Errors/ErrorParser\";\r\n\r\nexport default class Background {\r\n\r\n    static async send<Response>(action: string, params: Record<string, any>={}): Promise<Response> {\r\n        document.dispatchEvent(new CustomEvent(\"asRequestStart\"));\r\n        try {\r\n            const result = await browser.runtime.sendMessage({action, params});\r\n            document.dispatchEvent(new CustomEvent(\"asRequestDone\"));\r\n            return result;\r\n        } catch(e: any) {\r\n            const error = ErrorParser.parse(e.message ?? \"\");\r\n            document.dispatchEvent(new CustomEvent(\"asRequestError\", {detail: error}));\r\n            throw e;\r\n        }\r\n    }\r\n}\r\n", "\r\n/**\r\n * Convenience class for passing errors between contexts.\r\n * Errors thrown in the context of a message callback on the background page are\r\n * {@link https://github.com/mozilla/webextension-polyfill/blob/87bdfa844da054d189ac28423cf01b64ebfe1e5b/src/browser-polyfill.js#L418\r\n *  cut down to only send the message of the error},\r\n * losing information about the type.\r\n */\r\nexport default class ErrorParser {\r\n\r\n    /**\r\n     * Takes an Error string and parses it by splitting it into name and message\r\n     * @param {String} errStr a string created by Error.prototype.toString\r\n     * @returns {{name: String, msg: String}} an object containing information about the error name and its message\r\n     */\r\n    static parse(errStr: string): {name: string|null, message: string|null} {\r\n        const info = errStr.match(/(.*):\\s(.+)/);\r\n        return info\r\n            ? {name: info[1] ?? \"\", message: info[2] ?? \"\"}\r\n            : {name: null, message: null}\r\n    }\r\n}\r\n", "import Background from \"@Core/Background\";\r\nimport {EAction} from \"@Background/EAction\";\r\nimport type {TAppDetail, TDynamicStoreStatusResponse} from \"@Background/Modules/Store/_types\";\r\n\r\nexport default class SteamStoreApiFacade {\r\n\r\n    static wishlistAdd(appid: number): Promise<void> {\r\n        return Background.send(EAction.Wishlist_Add, {appid});\r\n    }\r\n\r\n    static wishlistRemove(appid: number): Promise<void> {\r\n        return Background.send(EAction.Wishlist_Remove, {appid});\r\n    }\r\n\r\n    static fetchAppDetails(appid: number, filter: string|undefined=undefined): Promise<TAppDetail|null> {\r\n        return Background.send(EAction.AppDetails, {appid, filter});\r\n    }\r\n\r\n    static getPurchaseDate(appName: string, lang: string): Promise<string|null> {\r\n        return Background.send(EAction.Purchases, {appName, lang});\r\n    }\r\n\r\n    static getCurrency(): Promise<string> {\r\n        return Background.send(EAction.Currency);\r\n    }\r\n\r\n    static clearPurchases(): Promise<void> {\r\n        return Background.send(EAction.Purchases_Clear);\r\n    }\r\n\r\n    static clearDynamicStore(): Promise<void> {\r\n        return Background.send(EAction.DynamicStore_Clear);\r\n    }\r\n\r\n    static getDynamicStoreStatus(ids: string[]): Promise<TDynamicStoreStatusResponse> {\r\n        return Background.send(EAction.DynamicStore_Status, {ids});\r\n    }\r\n\r\n    static getDynamicStoreRandomApp(): Promise<number|null> {\r\n        return Background.send(EAction.DynamicStore_RandomApp);\r\n    }\r\n}\r\n", "import Settings from \"@Options/Data/Settings\";\r\nimport ExtensionResources from \"@Core/ExtensionResources\";\r\nimport Language from \"@Core/Localization/Language\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\n\r\nexport interface TLocale {\r\n    stats: {\r\n        strings: number,\r\n        translated: number,\r\n    },\r\n    strings: Record<string, string>\r\n}\r\n\r\nexport default class Localization {\r\n\r\n    public static locale: TLocale;\r\n\r\n    static load(code: string): Promise<TLocale> {\r\n        return ExtensionResources.getJSON(`/localization/compiled/${code}.json`);\r\n    }\r\n\r\n    static async init(current: Language|null): Promise<void> {\r\n        const stored: string = Settings.language;\r\n        if (current === null) {\r\n            current = new Language(stored);\r\n        } else if (current.name !== stored) {\r\n            Settings.language = current.name;\r\n            SteamStoreApiFacade.clearPurchases(); // TODO this is a nasty side effect, get rid of it\r\n        }\r\n\r\n        const lang = current.code ?? \"en\";\r\n\r\n        try {\r\n            this.locale = await this.load(lang);\r\n        } catch(e) {\r\n            console.error(`Failed to load ${lang}`);\r\n            this.locale = await this.load(\"en\");\r\n        }\r\n    }\r\n}\r\n\r\nexport function L(key: string, replacements: Record<string, string|number>|null = null): string {\r\n    let text = Localization.locale.strings[key] ?? \"<<missing text>>\";\r\n    if (replacements !== null) {\r\n        for (let [key, value] of Object.entries(replacements)) {\r\n            text = text.replaceAll(`__${key}__`, String(value));\r\n        }\r\n    }\r\n    return text;\r\n}\r\n", "\r\nexport default class HTMLParser {\r\n\r\n    private static getVariable(source: string|Element|Document, regex: RegExp): string|null {\r\n        if (typeof source === \"string\") {\r\n            const m = source.match(regex);\r\n            return m && m[1] ? m[1] : null;\r\n        }\r\n\r\n        for (const node of source.querySelectorAll<HTMLScriptElement>(\"script\")) {\r\n            if (node.textContent) {\r\n                const m = node.textContent.match(regex)\r\n                if (m) {\r\n                    return m && m[1] ? m[1] : null;\r\n                }\r\n            }\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    static getStringVariable(nameOrRegex: string|RegExp, source: string|Element|Document = document): string|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*['\"](.+?)['\"];`)\r\n            : nameOrRegex;\r\n        return this.getVariable(source, regex);\r\n    }\r\n\r\n    static getIntVariable(nameOrRegex: string|RegExp, source: string|Element|Document = document): number|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*(.+?);`)\r\n            : nameOrRegex;\r\n        const v = this.getVariable(source, regex);\r\n        return v ? Number(v) : null;\r\n    }\r\n\r\n    static getArrayVariable<T>(nameOrRegex: string|RegExp, source: string|Element|Document = document): T[]|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*(\\\\[.+?]);`)\r\n            : nameOrRegex;\r\n        const v = this.getVariable(source, regex);\r\n        return v ? JSON.parse(v) : null;\r\n    }\r\n\r\n    static getObjectVariable<T extends Record<string, any>>(nameOrRegex: string|RegExp, source: string|Element|Document = document): T|null {\r\n        const regex = typeof nameOrRegex === \"string\"\r\n            ? new RegExp(`${nameOrRegex}\\\\s*=\\\\s*(\\\\{.+?});`)\r\n            : nameOrRegex;\r\n        const v = this.getVariable(source, regex);\r\n        return v ? JSON.parse(v) : null;\r\n    }\r\n}\r\n", "\r\n/**\r\n * @see https://partner.steamgames.com/doc/store/pricing/currencies\r\n */\r\n\r\nexport interface TCurrency {\r\n    id: number,\r\n    abbr: string,\r\n    symbol: string|null,\r\n    hint: string,\r\n    multiplier: number,\r\n    unit: number,\r\n    format: {\r\n        places: number,\r\n        hidePlacesWhenZero: boolean,\r\n        symbolFormat: string,\r\n        thousand: string,\r\n        group?: number,\r\n        decimal: string,\r\n        right: boolean\r\n    }\r\n}\r\n\r\nexport default <ReadonlyArray<TCurrency>>[\r\n    { \"id\": 1, \"abbr\": \"USD\", \"symbol\": \"$\", \"hint\": \"United States Dollars\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"$\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 2, \"abbr\": \"GBP\", \"symbol\": \"\u00A3\", \"hint\": \"British Pound\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u00A3\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 3, \"abbr\": \"EUR\", \"symbol\": \"\u20AC\", \"hint\": \"European Union Euro\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20AC\", \"thousand\": \" \", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 4, \"abbr\": \"CHF\", \"symbol\": \"CHF\", \"hint\": \"Swiss Francs\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"CHF \", \"thousand\": \"'\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 5, \"abbr\": \"RUB\", \"symbol\": \"p\u0443\u0431\", \"hint\": \"Russian Rouble\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": true,  \"symbolFormat\": \" p\u0443\u0431.\", \"thousand\": \"\", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 6, \"abbr\": \"PLN\", \"symbol\": \"z\u0142\", \"hint\": \"Polish Z\u0142oty\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" z\u0142\", \"thousand\": \" \", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 7, \"abbr\": \"BRL\", \"symbol\": \"R$\", \"hint\": \"Brazilian Reals\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"R$ \", \"thousand\": \".\", \"decimal\": \",\", \"right\": false } },\r\n    { \"id\": 8, \"abbr\": \"JPY\", \"symbol\": \"\u00A5\", \"hint\": \"Japanese Yen\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u00A5 \", \"thousand\": \" \", \"group\": 4, \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 9, \"abbr\": \"NOK\", \"symbol\": \"kr\", \"hint\": \"Norwegian Krone\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" kr\", \"thousand\": \".\", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 10, \"abbr\": \"IDR\", \"symbol\": \"Rp\", \"hint\": \"Indonesian Rupiah\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"Rp \", \"thousand\": \" \", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 11, \"abbr\": \"MYR\", \"symbol\": \"RM\", \"hint\": \"Malaysian Ringgit\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"RM\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 12, \"abbr\": \"PHP\", \"symbol\": \"P\", \"hint\": \"Philippine Pes\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"P\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 13, \"abbr\": \"SGD\", \"symbol\": \"S$\", \"hint\": \"Singapore Dollar\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"S$\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 14, \"abbr\": \"THB\", \"symbol\": \"\u0E3F\", \"hint\": \"Thai Baht\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u0E3F\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 15, \"abbr\": \"VND\", \"symbol\": \"\u20AB\", \"hint\": \"Vietnamese Dong\", \"multiplier\": 100, \"unit\": 50000, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20AB\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 16, \"abbr\": \"KRW\", \"symbol\": \"\u20A9\", \"hint\": \"South Korean Won\", \"multiplier\": 100, \"unit\": 1000, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20A9\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 17, \"abbr\": \"TRY\", \"symbol\": \"TL\", \"hint\": \"Turkish Lira\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" TL\", \"thousand\": \"\", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 18, \"abbr\": \"UAH\", \"symbol\": \"\u20B4\", \"hint\": \"Ukrainian Hryvnia\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20B4\", \"thousand\": \"\", \"decimal\": \",\", \"right\": true } },\r\n    { \"id\": 19, \"abbr\": \"MXN\", \"symbol\": \"Mex$\", \"hint\": \"Mexican Peso\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"Mex$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 20, \"abbr\": \"CAD\", \"symbol\": \"CDN$\", \"hint\": \"Canadian Dollars\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"CDN$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 21, \"abbr\": \"AUD\", \"symbol\": \"A$\", \"hint\": \"Australian Dollars\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"A$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 22, \"abbr\": \"NZD\", \"symbol\": \"NZ$\", \"hint\": \"New Zealand Dollar\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"NZ$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 23, \"abbr\": \"CNY\", \"symbol\": null, \"hint\": \"Chinese Renminbi (yuan)\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u00A5 \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 24, \"abbr\": \"INR\", \"symbol\": \"\u20B9\", \"hint\": \"Indian Rupee\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20B9 \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 25, \"abbr\": \"CLP\", \"symbol\": \"CLP$\", \"hint\": \"Chilean Peso\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": true, \"symbolFormat\": \"CLP$ \", \"thousand\": \".\", \"decimal\": \",\", \"right\": false } },\r\n    { \"id\": 26, \"abbr\": \"PEN\", \"symbol\": \"S/.\", \"hint\": \"Peruvian Nuevo Sol\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"S/.\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 27, \"abbr\": \"COP\", \"symbol\": \"COL$\", \"hint\": \"Colombian Peso\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": true, \"symbolFormat\": \"COL$ \", \"thousand\": \".\", \"decimal\": \",\", \"right\": false } },\r\n    { \"id\": 28, \"abbr\": \"ZAR\", \"symbol\": \"R \", \"hint\": \"South African Rand\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"R \", \"thousand\": \" \", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 29, \"abbr\": \"HKD\", \"symbol\": \"HK$\", \"hint\": \"Hong Kong Dollar\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"HK$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 30, \"abbr\": \"TWD\", \"symbol\": \"NT$\", \"hint\": \"New Taiwan Dollar\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"NT$ \", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 31, \"abbr\": \"SAR\", \"symbol\": \"SR\", \"hint\": \"Saudi Riyal\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" SR\", \"thousand\": \",\", \"decimal\": \".\", \"right\": true } },\r\n    { \"id\": 32, \"abbr\": \"AED\", \"symbol\": \"DH\", \"hint\": \"United Arab Emirates Dirham\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" DH\", \"thousand\": \",\", \"decimal\": \".\", \"right\": true } },\r\n    { \"id\": 34, \"abbr\": \"ARS\", \"symbol\": \"ARS$\", \"hint\": \"Argentine Peso\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"ARS$ \", \"thousand\": \".\", \"decimal\": \",\", \"right\": false } },\r\n    { \"id\": 35, \"abbr\": \"ILS\", \"symbol\": \"\u20AA\", \"hint\": \"Israeli New Shekel\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20AA\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 37, \"abbr\": \"KZT\", \"symbol\": \"\u20B8\", \"hint\": \"Kazakhstani Tenge\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": true, \"symbolFormat\": \"\u20B8 \", \"thousand\": \" \", \"decimal\": \".\", \"right\": false } },\r\n    { \"id\": 38, \"abbr\": \"KWD\", \"symbol\": \"KD\", \"hint\": \"Kuwaiti Dinar\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 3, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" KD\", \"thousand\": \",\", \"decimal\": \".\", \"right\": true } },\r\n    { \"id\": 39, \"abbr\": \"QAR\", \"symbol\": \"QR\", \"hint\": \"Qatari Riyal\", \"multiplier\": 100, \"unit\": 1, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \" QR\", \"thousand\": \",\", \"decimal\": \".\", \"right\": true } },\r\n    { \"id\": 40, \"abbr\": \"CRC\", \"symbol\": \"\u20A1\", \"hint\": \"Costa Rican Col\u00F3n\", \"multiplier\": 100, \"unit\": 500, \"format\": { \"places\": 2, \"hidePlacesWhenZero\": false, \"symbolFormat\": \"\u20A1\", \"thousand\": \".\", \"decimal\": \",\", \"right\": false } },\r\n    { \"id\": 41, \"abbr\": \"UYU\", \"symbol\": \"$U\", \"hint\": \"Uruguayan Peso\", \"multiplier\": 100, \"unit\": 100, \"format\": { \"places\": 0, \"hidePlacesWhenZero\": true, \"symbolFormat\": \"$U\", \"thousand\": \",\", \"decimal\": \".\", \"right\": false } }\r\n];\r\n", "import Background from \"@Core/Background\";\r\nimport type {\r\n    TDlcInfo,\r\n    TFetchMarketCardAveragePricesResponse,\r\n    TFetchMarketCardPricesResponse,\r\n    TFetchPricesResponse,\r\n    TFetchProfileBackgroundsGamesResponse,\r\n    TFetchProfileBackgroundsResponse,\r\n    TFetchRatesResponse,\r\n    TStorePageData,\r\n    TFetchTwitchStreamResponse,\r\n    TIsEarlyAccessResponse, TProfileData,\r\n    TSimilarResponse\r\n} from \"@Background/Modules/AugmentedSteam/_types\";\r\nimport {EAction} from \"@Background/EAction\";\r\n\r\nexport default class AugmentedSteamApiFacade {\r\n\r\n    static fetchPrices(\r\n        country: string,\r\n        apps: number[],\r\n        subs: number[],\r\n        bundles: number[],\r\n        voucher: boolean,\r\n        shops: number[]\r\n    ): Promise<TFetchPricesResponse> {\r\n        return Background.send(EAction.Prices, {country, apps, subs, bundles, voucher, shops});\r\n    }\r\n\r\n    static fetchDlcInfo(appid: number): Promise<TDlcInfo> {\r\n        return Background.send(EAction.DlcInfo, {appid});\r\n    }\r\n\r\n    static getStorePageData(appid: number): Promise<TStorePageData> {\r\n        return Background.send(EAction.StorePageData, {appid});\r\n    }\r\n\r\n    static expireStorePageData(appid: number): Promise<void> {\r\n        return Background.send(EAction.StorePageData_Expire, {appid});\r\n    }\r\n\r\n    static getRates(to: string[]): Promise<TFetchRatesResponse> {\r\n        return Background.send(EAction.Rates, {to});\r\n    }\r\n\r\n    static clearRates(): Promise<void> {\r\n        return Background.send(EAction.Rates_Clear);\r\n    }\r\n\r\n    static isEarlyAccess(appids: number[]): Promise<TIsEarlyAccessResponse> {\r\n        return Background.send(EAction.IsEA, {appids});\r\n    }\r\n\r\n    static fetchProfileBackground(appid: number): Promise<TFetchProfileBackgroundsResponse> {\r\n        return Background.send(EAction.ProfileBackground, {appid});\r\n    }\r\n\r\n    static fetchProfileBackgroundGames(): Promise<TFetchProfileBackgroundsGamesResponse> {\r\n        return Background.send(EAction.ProfileBackgroundGames);\r\n    }\r\n\r\n    static fetchTwitchStream(channelId: string): Promise<TFetchTwitchStreamResponse> {\r\n        return Background.send(EAction.TwitchStream, {channelId});\r\n    }\r\n\r\n    static fetchMarketCardAveragePrices(currency: string, appids: number[]): Promise<TFetchMarketCardAveragePricesResponse> {\r\n        return Background.send(EAction.Market_AverageCardPrices, {currency, appids});\r\n    }\r\n\r\n    static fetchSteamPeek(appid: number): Promise<TSimilarResponse> {\r\n        return Background.send(EAction.SteamPeek, {appid});\r\n    }\r\n\r\n    static async getProfileData(steamId: string): Promise<TProfileData> {\r\n        return Background.send(EAction.Profile, {steamId});\r\n    }\r\n\r\n    static clearOwn(steamId: string): Promise<void> {\r\n        return Background.send(EAction.Profile_Clear, {steamId});\r\n    }\r\n}\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport type {TCurrency} from \"@Core/Currencies\";\r\nimport Currencies from \"@Core/Currencies\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport AugmentedSteamApiFacade from \"@Content/Modules/Facades/AugmentedSteamApiFacade\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\n\r\nexport default class CurrencyManager {\r\n\r\n    private static promise: Promise<void>;\r\n    private static _rates: Record<string, Record<string, number>>;\r\n\r\n    private static readonly _defaultCurrency: string = \"USD\";\r\n    private static storeCurrencyCode: string;\r\n    private static customCurrencyCode: string;\r\n\r\n    static get storeCurrency(): string {\r\n        return this.storeCurrencyCode;\r\n    }\r\n\r\n    static get customCurrency(): string {\r\n        return this.customCurrencyCode;\r\n    }\r\n\r\n    static getRate(from: string, to: string): number|null {\r\n        if (from === to) {\r\n            return 1;\r\n        }\r\n        return this._rates?.[from]?.[to] ?? null;\r\n    }\r\n\r\n    static getCurrencyInfo(code: string): TCurrency {\r\n        for (let currency of Currencies) {\r\n            if (currency.abbr === code) {\r\n                return currency;\r\n            }\r\n        }\r\n        throw new Error(\"Unknown currency\");\r\n    }\r\n\r\n    static currencyIdToCode(id: number): string {\r\n        for (let currency of Currencies) {\r\n            if (currency.id  === id) {\r\n                return currency.abbr;\r\n            }\r\n        }\r\n        throw new Error(\"Unknown currency\");\r\n    }\r\n\r\n    private static _getCurrencyCodeFromDom(): string|null {\r\n        const currencyNode = document.querySelector(\"meta[itemprop=priceCurrency][content]\");\r\n        if (currencyNode) {\r\n            return currencyNode.getAttribute(\"content\");\r\n        }\r\n        return null\r\n    }\r\n\r\n    private static _getCurrencyCodeFromWallet(): string|null {\r\n        const walletInfo = HTMLParser.getObjectVariable(\"g_rgWalletInfo\");\r\n        if (walletInfo && walletInfo.wallet_currency) {\r\n            return this.currencyIdToCode(walletInfo.wallet_currency);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    private static async _getStoreCurrency(): Promise<string> {\r\n        let currency = this._getCurrencyCodeFromDom() ?? this._getCurrencyCodeFromWallet();\r\n        if (currency) {\r\n            return currency;\r\n        }\r\n\r\n        try {\r\n            return await SteamStoreApiFacade.getCurrency();\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n        return \"USD\"; // fallback\r\n    }\r\n\r\n    private static async _loadCurrency(): Promise<void> {\r\n        const currencySetting = Settings.override_price;\r\n        this.storeCurrencyCode = await this._getStoreCurrency();\r\n        this.customCurrencyCode = (currencySetting === \"auto\")\r\n            ? this.storeCurrencyCode\r\n            : currencySetting;\r\n    }\r\n\r\n    private static async _loadRates(): Promise<void> {\r\n        const toCurrencies = [this.storeCurrencyCode];\r\n        if (this.customCurrencyCode !== this.storeCurrencyCode) {\r\n            toCurrencies.push(this.customCurrencyCode);\r\n        }\r\n        this._rates = await AugmentedSteamApiFacade.getRates(toCurrencies);\r\n    }\r\n\r\n    static init(): Promise<void> {\r\n        if (!this.promise) {\r\n            this.promise = (async () => {\r\n                try {\r\n                    await this._loadCurrency();\r\n                    await this._loadRates();\r\n                } catch (err) {\r\n                    console.error(\"Failed to initialize Currency\");\r\n                    console.error(err);\r\n                }\r\n            })();\r\n        }\r\n\r\n        return this.promise;\r\n    }\r\n}\r\n", "import type Context from \"@Content/Modules/Context/Context\";\r\n\r\nexport default abstract class Feature<C extends Context> {\r\n\r\n    public constructor(\r\n        protected context: C,\r\n    ) {}\r\n\r\n    public checkPrerequisites(): boolean|Promise<boolean> {\r\n        return true;\r\n    }\r\n\r\n    public abstract apply(): void|Promise<void>;\r\n\r\n    protected logError(err: unknown, msg: unknown, ...args: unknown[]): void {\r\n        console.group(this.constructor.name);\r\n        console.error(msg, ...args);\r\n        console.error(err);\r\n        console.groupEnd();\r\n    }\r\n}\r\n", "\r\nclass LoginError extends Error {\r\n    constructor(type: string) {\r\n        super(type);\r\n        this.name = \"LoginError\";\r\n    }\r\n}\r\n\r\nclass ServerOutageError extends Error {\r\n    constructor(msg: string) {\r\n        super(msg);\r\n        this.name = \"ServerOutageError\";\r\n    }\r\n}\r\n\r\nclass OAuthUnauthorized extends Error {\r\n    constructor(msg?: string) {\r\n        super(msg);\r\n        this.name = \"OAuth Unauthorized\";\r\n    }\r\n}\r\n\r\nclass HTTPError extends Error {\r\n    public code: number;\r\n\r\n    constructor(code: number, message: string) {\r\n        super(message);\r\n        this.code = code;\r\n    }\r\n}\r\n\r\nclass FeatureDependencyError extends Error {\r\n    public featureName: string;\r\n\r\n    constructor(msg: string, featureName: string) {\r\n        super(msg);\r\n        this.featureName = featureName;\r\n    }\r\n}\r\n\r\nexport default {\r\n    LoginError,\r\n    ServerOutageError,\r\n    HTTPError,\r\n    FeatureDependencyError,\r\n    OAuthUnauthorized\r\n};\r\n", "import Feature from \"@Content/Modules/Context/Feature\";\r\nimport type ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport Errors from \"@Core/Errors/Errors\";\r\nimport type Language from \"@Core/Localization/Language\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport interface ContextParams {\r\n    language: Language|null,\r\n    user: UserInterface\r\n}\r\n\r\nexport default class Context {\r\n\r\n    public readonly language: Language|null = null;\r\n    public readonly user: UserInterface;\r\n    public readonly type: ContextType;\r\n\r\n    private readonly featureMap: Map<Function, Feature<Context>> = new Map();\r\n    private readonly promiseMap: Map<Function, Promise<boolean>> = new Map();\r\n    private readonly dependencies: Map<Function, Map<Function, boolean>> = new Map();\r\n\r\n    private stats = {\r\n        completed: 0,\r\n        failed: 0,\r\n        dependency: 0,\r\n    };\r\n\r\n    public static async create(_params: ContextParams): Promise<Context|null> {\r\n        // left for overrides, when init requires async things to finish because we can't await constructor\r\n        // TODO we should move all instantiation to init, make constructor private, probably?\r\n        return null;\r\n    }\r\n\r\n    constructor(\r\n        params: ContextParams,\r\n        type: ContextType,\r\n        features: (typeof Feature<Context>)[]\r\n    ) {\r\n        this.language = params.language;\r\n        this.user = params.user;\r\n        this.type = type;\r\n\r\n        for (let ref of features) {\r\n            // @ts-ignore\r\n            const feature = new ref(this);\r\n            this.featureMap.set(feature.constructor, feature)\r\n        }\r\n    }\r\n\r\n    dependency(dependent: Function, ...dependencies: Array<[Function, boolean]>) {\r\n        this.dependencies.set(dependent, new Map(dependencies));\r\n    }\r\n\r\n    async applyFeatures(): Promise<void> {\r\n\r\n        let promises = [...this.featureMap.values()].map(feature => this.getFeaturePromise(feature));\r\n        await Promise.allSettled(promises);\r\n\r\n        console.log(\r\n            \"Feature loading complete, %i successfully loaded, %i failed to load, %i didn't load due to dependency errors\",\r\n            this.stats.completed,\r\n            this.stats.failed,\r\n            this.stats.dependency\r\n        );\r\n    }\r\n\r\n    private getFeaturePromise(feature: Feature<Context>): Promise<boolean> {\r\n        const func = feature.constructor;\r\n\r\n        let promise = this.promiseMap.get(func);\r\n        if (!promise) {\r\n            promise = this.applyInternal(feature);\r\n            this.promiseMap.set(func, promise);\r\n\r\n        }\r\n        return promise;\r\n    }\r\n\r\n    private async applyInternal(feature: Feature<Context>): Promise<boolean> {\r\n        const func = feature.constructor;\r\n\r\n        const dependencies = this.dependencies.get(func);\r\n        if (dependencies) {\r\n            try {\r\n                let promises = [];\r\n                for (let [dependencyFunc, weak] of dependencies) {\r\n                    promises.push((async () => {\r\n                        const dependency = this.featureMap.get(dependencyFunc);\r\n                        if (!dependency) {\r\n                            throw new Errors.FeatureDependencyError(\"Dependency feature not found\", dependencyFunc.name);\r\n                        }\r\n                        let pass = await this.getFeaturePromise(dependency);\r\n                        return weak || pass;\r\n                    })());\r\n                }\r\n\r\n                if (!(await Promise.all(promises)).every(res => res)) {\r\n                    return false;\r\n                }\r\n            } catch(e) {\r\n                console.warn(\r\n                    \"Not applying feature %s due to an error in the dependency chain\",\r\n                    func.name\r\n                );\r\n                ++this.stats.dependency;\r\n            }\r\n        }\r\n\r\n        let pass = Boolean(await feature.checkPrerequisites());\r\n        if (pass) {\r\n            try {\r\n                await feature.apply();\r\n                ++this.stats.completed;\r\n            } catch(e) {\r\n                const featureName = func.name;\r\n\r\n                console.group(featureName);\r\n                console.error(\"Error while applying feature %s\", featureName);\r\n                console.error(e);\r\n                console.groupEnd();\r\n\r\n                ++this.stats.failed;\r\n                throw new Errors.FeatureDependencyError(\"Failed to apply\", featureName);\r\n            }\r\n        }\r\n        return pass;\r\n    }\r\n}\r\n", "export enum ContextType {\r\n    Unknown,\r\n    Background,\r\n    ContentScript,\r\n    Options,\r\n    Offscreen\r\n}\r\n\r\nexport default class Environment {\r\n\r\n    private static currentContext: ContextType = ContextType.Unknown;\r\n\r\n    public static set CurrentContext(context: ContextType) {\r\n        this.currentContext = context;\r\n    }\r\n\r\n    static isBackgroundScript(): boolean {\r\n        return this.currentContext === ContextType.Background;\r\n    }\r\n\r\n    static isContentScript(): boolean {\r\n        return this.currentContext === ContextType.ContentScript;\r\n    }\r\n\r\n    static isOptions(): boolean {\r\n        return this.currentContext === ContextType.Options;\r\n    }\r\n}\r\n", "import Environment from \"@Core/Environment\";\r\n\r\nexport default class CookieReader {\r\n\r\n    private static cache: Map<string, string>|null;\r\n\r\n    private static load(): void {\r\n        this.cache = new Map<string, string>();\r\n\r\n        if (!Environment.isBackgroundScript() && typeof document !== \"undefined\") {\r\n            for (let [key, val] of <[string, string][]>document.cookie.split(\";\").map(kv => kv.split(\"=\", 2))) {\r\n                key = key.trim();\r\n                this.cache.set(key, decodeURIComponent(val));\r\n            }\r\n        }\r\n    }\r\n\r\n    static get(name: string, defaultValue: string|null = null): string|null {\r\n        if (this.cache === null) {\r\n            this.load();\r\n        }\r\n        return this.cache!.get(name.trim()) ?? defaultValue;\r\n    }\r\n}\r\n", "import Language from \"@Core/Localization/Language\";\r\nimport CookieReader from \"@Core/Storage/CookieReader\";\r\nimport type AppConfig from \"@Core/AppConfig/AppConfig\";\r\n\r\nexport default class LanguageFactory {\r\n\r\n    constructor(\r\n        private readonly config: AppConfig\r\n    ) {}\r\n\r\n    createFromLegacy(): Language|null {\r\n\r\n        if (this.config.language) {\r\n            return new Language(this.config.language);\r\n        }\r\n\r\n        for (const script of document.querySelectorAll<HTMLScriptElement>(\"script[src]\")) {\r\n            const language = new URL(script.src).searchParams.get(\"l\");\r\n            if (language) {\r\n                return new Language(language);\r\n            }\r\n        }\r\n\r\n        // last resort, try cookie\r\n        const cookie = CookieReader.get(\"Steam_Language\", null);\r\n        if (cookie) {\r\n            return new Language(cookie);\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    createFromReact(): Language|null {\r\n        if (this.config.language) {\r\n            return new Language(this.config.language);\r\n        }\r\n\r\n        return null;\r\n    }\r\n}", "import Background from \"@Core/Background\";\r\nimport type {TFetchBadgeInfoResponse, TFetchReviewsResponse, TLogin} from \"@Background/Modules/Community/_types\";\r\nimport {EAction} from \"@Background/EAction\";\r\n\r\nexport default class SteamCommunityApiFacade {\r\n\r\n    static fetchBadgeInfo(steamId: string, appid: number): Promise<TFetchBadgeInfoResponse> {\r\n        return Background.send(EAction.BadgeInfo, {steamId, appid});\r\n    }\r\n\r\n    static getWorkshopFileSize(id: number, preventFetch: boolean): Promise<number|null> {\r\n        return Background.send(EAction.WorkshopFileSize, {id, preventFetch});\r\n    }\r\n\r\n    static getReviews(steamId: string, pages: number): Promise<TFetchReviewsResponse> {\r\n        return Background.send(EAction.Reviews, {steamId, pages});\r\n    }\r\n\r\n    static login(profilePath: string): Promise<TLogin> {\r\n        return Background.send(EAction.Login, {profilePath});\r\n    }\r\n\r\n    static logout(force: boolean|undefined=undefined): Promise<void> {\r\n        return Background.send(EAction.Logout, {force});\r\n    }\r\n\r\n    static setStoreCountry(newCountry: string): Promise<void> {\r\n        return Background.send(EAction.StoreCountry_Set, {newCountry});\r\n    }\r\n\r\n    static getStoreCountry(): Promise<string|null> {\r\n        return Background.send(EAction.StoreCountry_Get);\r\n    }\r\n}\r\n", "import Errors from \"@Core/Errors/Errors\";\r\n\r\ndeclare global {\r\n    let content: any;\r\n}\r\n\r\nexport default class RequestData {\r\n\r\n    /**\r\n     * In Firefox, the global fetch lies in the sandbox environment, thus we have to\r\n     * access the fetch function of the content window.\r\n     * See https://bugzilla.mozilla.org/show_bug.cgi?id=1579347#c5\r\n     */\r\n    // FIXME this will not work anymore in Manifest V3\r\n    private static _fetchFn\r\n        = (typeof content !== \"undefined\" && content && content.fetch)\r\n        || fetch.bind(window);\r\n\r\n\r\n    private static async getHttp(url: URL|string, settings: RequestInit = {}): Promise<Response> {\r\n\r\n        const _settings: RequestInit = {\r\n            \"method\": \"GET\",\r\n            \"credentials\": \"include\",\r\n            \"headers\": {\"origin\": window.location.origin},\r\n            \"referrer\": window.location.origin + window.location.pathname,\r\n            \"cache\": \"default\",\r\n            ...settings\r\n        };\r\n\r\n        document.dispatchEvent(new CustomEvent(\"asRequestStart\"));\r\n\r\n        let response;\r\n        try {\r\n            response = await RequestData._fetchFn(url, _settings);\r\n\r\n            if (!response.ok) {\r\n                throw new Errors.HTTPError(response.status, `HTTP ${response.status} ${response.statusText} for ${response.url}`);\r\n            }\r\n        } catch (e) {\r\n            document.dispatchEvent(new CustomEvent(\"asRequestError\", {detail: e}));\r\n            throw e;\r\n        }\r\n\r\n        document.dispatchEvent(new CustomEvent(\"asRequestDone\"));\r\n        return response;\r\n    }\r\n\r\n    static async getText(url: URL|string, settings: RequestInit={}): Promise<string> {\r\n        const response = await this.getHttp(url, settings);\r\n        return response.text();\r\n    }\r\n\r\n    static async getJson<T>(url: URL|string, settings: RequestInit={}): Promise<T> {\r\n        const response = await this.getHttp(url, settings);\r\n        return response.json();\r\n    }\r\n\r\n    static async getBlob(url: URL|string, settings: RequestInit={}): Promise<Blob> {\r\n        const response = await this.getHttp(url, settings);\r\n        return response.blob();\r\n    }\r\n\r\n    static async post(\r\n        url: URL|string,\r\n        data: Record<string, string>,\r\n        settings: RequestInit = {}\r\n    ): Promise<Response> {\r\n\r\n        const _settings = {\r\n            \"method\": \"POST\",\r\n            \"body\": new URLSearchParams(data),\r\n            \"credentials\": \"include\",\r\n            \"headers\": {\"origin\": window.location.origin},\r\n            \"referrer\": window.location.origin + window.location.pathname,\r\n            ...settings\r\n        };\r\n\r\n        return await RequestData._fetchFn(url, _settings);\r\n    }\r\n}\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport StringUtils from \"@Core/Utils/StringUtils\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\nimport RequestData from \"@Content/Modules/RequestData\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport default class LegacyUser implements UserInterface {\r\n\r\n    private _signedIn: boolean = false;\r\n    private _steamId: string|undefined;\r\n    private _storeCountry: string|undefined;\r\n    private _profileUrl: string|undefined;\r\n    private _profilePath: string|undefined;\r\n\r\n    private _sessionId: string|null|undefined;\r\n    private _webApiToken: string|undefined;\r\n\r\n    set isSignedIn(value: boolean) {\r\n        this._signedIn = value;\r\n    }\r\n\r\n    get isSignedIn(): boolean {\r\n        return this._signedIn;\r\n    }\r\n\r\n    set steamId(value: string) {\r\n        this._steamId = value;\r\n    }\r\n\r\n    get steamId(): string {\r\n        return this._steamId!;\r\n    }\r\n\r\n    set storeCountry(value: string) {\r\n        this._storeCountry = value;\r\n    }\r\n\r\n    get storeCountry(): string {\r\n        let country;\r\n\r\n        const params = new URLSearchParams(window.location.search);\r\n        if (params.has(\"cc\")) {\r\n            // Support overrides, though this only works when logged out now\r\n            country = params.get(\"cc\");\r\n        } else {\r\n            country = this._storeCountry;\r\n        }\r\n\r\n        if (!country) {\r\n            console.warn(\"Failed to detect store country, falling back to US\");\r\n            country = \"US\";\r\n        }\r\n\r\n        return country;\r\n    }\r\n\r\n    set profileUrl(value: string) {\r\n        this._profileUrl = value;\r\n    }\r\n\r\n    get profileUrl(): string {\r\n        return this._profileUrl!;\r\n    }\r\n\r\n    set profilePath(value: string) {\r\n        this._profilePath = value;\r\n    }\r\n\r\n    get profilePath(): string {\r\n        return this._profilePath!;\r\n    }\r\n\r\n    get sessionId(): string|null {\r\n        if (!this._sessionId) {\r\n            this._sessionId = HTMLParser.getStringVariable(\"g_sessionID\");\r\n        }\r\n        return this._sessionId;\r\n    }\r\n\r\n    /*\r\n     * Fetch the user's web api token to use in new style WebAPI calls (Services)\r\n     * https://github.com/Revadike/UnofficialSteamWebAPI/wiki/Get-Points-Summary-Config\r\n     * Works on both store and community, but only returns the store token\r\n     */\r\n    async getWebApiToken(): Promise<string> {\r\n        if (!this._webApiToken) {\r\n            const response = await RequestData.getJson<{\r\n                success?: boolean,\r\n                data?: {\r\n                    webapi_token?: string\r\n                }\r\n            }>(`${window.location.origin}/pointssummary/ajaxgetasyncconfig`);\r\n\r\n            if (!response.success || !response.data?.webapi_token) {\r\n                throw new Error(\"Failed to get webapi token\");\r\n            }\r\n\r\n            this._webApiToken = response.data.webapi_token;\r\n        }\r\n\r\n        return this._webApiToken;\r\n    }\r\n}\r\n\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport StringUtils from \"@Core/Utils/StringUtils\";\r\nimport SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport default class ReactUser implements UserInterface {\r\n\r\n    private _signedIn: boolean = false;\r\n    private _steamId: string|undefined;\r\n    private _storeCountry: string|undefined;\r\n    private _profileUrl: string|undefined;\r\n    private _profilePath: string|undefined;\r\n    private _sessionId: string|null|undefined;\r\n    private _webApiToken: string|undefined;\r\n\r\n    get isSignedIn(): boolean {\r\n        return !!this._steamId;\r\n    }\r\n\r\n    set steamId(value: string) {\r\n        this._steamId = value;\r\n    }\r\n\r\n    get steamId(): string {\r\n        return this._steamId!;\r\n    }\r\n\r\n    set storeCountry(value: string) {\r\n        this._storeCountry = value;\r\n    }\r\n\r\n    get storeCountry(): string {\r\n        return this._storeCountry!;\r\n    }\r\n\r\n    get profileUrl(): string {\r\n        return `https://steamcommunity.com${this.profilePath}`\r\n    }\r\n\r\n    get profilePath(): string {\r\n        return `/profiles/${this.steamId}/`\r\n    }\r\n\r\n    get sessionId(): string|null {\r\n        throw new Error(\"Not supported\");\r\n    }\r\n\r\n    set webApiToken(value: string | undefined) {\r\n        this._webApiToken = value;\r\n    }\r\n\r\n    async getWebApiToken(): Promise<string> {\r\n        return this._webApiToken!;\r\n    }\r\n}\r\n\r\n", "import HTMLParser from \"@Core/Html/HtmlParser\";\r\nimport SteamCommunityApiFacade from \"@Content/Modules/Facades/SteamCommunityApiFacade\";\r\nimport LegacyUser from \"@Core/User/LegacyUser\";\r\nimport type AppConfig from \"@Core/AppConfig/AppConfig\";\r\nimport ReactUser from \"@Core/User/ReactUser\";\r\n\r\nexport default class UserFactory {\r\n\r\n    constructor(\r\n        private readonly appConfig: AppConfig\r\n    ) {}\r\n\r\n    async createFromLegacy(): Promise<LegacyUser> {\r\n        const user = new LegacyUser();\r\n\r\n        const avatarNode = document.querySelector<HTMLAnchorElement>(\"#global_actions > a.user_avatar\");\r\n\r\n        try {\r\n            if (avatarNode) {\r\n                user.profileUrl = avatarNode.href;\r\n                user.profilePath = avatarNode.pathname;\r\n\r\n                const login = await SteamCommunityApiFacade.login(user.profilePath);\r\n                user.isSignedIn = true;\r\n                user.steamId = login.steamId;\r\n            } else {\r\n                await SteamCommunityApiFacade.logout();\r\n            }\r\n        } catch(e) {\r\n            console.log(e);\r\n        }\r\n\r\n        try {\r\n            let country = await SteamCommunityApiFacade.getStoreCountry();\r\n            if (country) {\r\n                user.storeCountry = country;\r\n                return user;\r\n            }\r\n\r\n            let newCountry: string|null = null;\r\n\r\n            // Check config first since it's the fastest and present on most pages\r\n            const config = document.querySelector<HTMLElement>(\"#webui_config, #application_config\");\r\n            if (config) {\r\n                newCountry = config.dataset.config\r\n                    ? JSON.parse(config.dataset.config).COUNTRY\r\n                    : null;\r\n            } else if (window.location.hostname === \"steamcommunity.com\") {\r\n                // This variable is present on market-related pages\r\n                newCountry = HTMLParser.getStringVariable(\"g_strCountryCode\");\r\n            } else {\r\n                newCountry = HTMLParser.getStringVariable(/GDynamicStore\\.Init\\(.+?,\\s*'([A-Z]{2})'/);\r\n            }\r\n\r\n            if (!newCountry) {\r\n                throw new Error(\"Script with user store country not found\");\r\n            }\r\n\r\n            user.storeCountry = newCountry;\r\n            await SteamCommunityApiFacade.setStoreCountry(newCountry);\r\n        } catch(e) {\r\n            console.group(\"Store country detection\");\r\n            console.warn(\"Failed to detect store country from page\");\r\n            console.error(e);\r\n            console.groupEnd();\r\n        }\r\n\r\n        return user;\r\n    }\r\n\r\n\r\n    async createFromReact(): Promise<ReactUser> {\r\n        const user = new ReactUser();\r\n\r\n        if (this.appConfig.steamId && this.appConfig.steamId !== \"0\") {\r\n            user.steamId = this.appConfig.steamId;\r\n        }\r\n\r\n        user.storeCountry = this.appConfig.countryCode!;\r\n\r\n        if (this.appConfig.webApiToken) {\r\n            user.webApiToken = this.appConfig.webApiToken;\r\n        }\r\n\r\n        return user;\r\n    }\r\n}\r\n\r\n", "import browser from \"webextension-polyfill\";\r\nimport ExtensionResources from \"@Core/ExtensionResources\";\r\n\r\nexport default class DOMHelper {\r\n\r\n    static selectLastNode<T extends Element=Element>(parent: HTMLElement|Document, selector: string): T|null {\r\n        const nodes = parent.querySelectorAll<T>(selector);\r\n        return nodes[nodes.length - 1] ?? null;\r\n    }\r\n\r\n    static insertRemoteStylesheet(url: string): void {\r\n        const stylesheet = document.createElement(\"link\");\r\n        stylesheet.rel = \"stylesheet\";\r\n        stylesheet.type = \"text/css\";\r\n        stylesheet.href = url;\r\n        document.head.appendChild(stylesheet);\r\n    }\r\n\r\n    static insertStylesheet(path: string): void {\r\n        const stylesheet = document.createElement(\"link\");\r\n        stylesheet.rel = \"stylesheet\";\r\n        stylesheet.type = \"text/css\";\r\n        stylesheet.href = ExtensionResources.getURL(path);\r\n        document.head.appendChild(stylesheet);\r\n    }\r\n\r\n    static insertCSS(content: string): void {\r\n        const style = document.createElement(\"style\");\r\n        style.textContent = content;\r\n        document.head.appendChild(style);\r\n    }\r\n\r\n    /**\r\n     * @see https://stackoverflow.com/a/9517879\r\n     */\r\n    static insertScript(path: string, params: Record<string, any>|undefined=undefined): void {\r\n        let s = document.createElement(\"script\");\r\n        s.src = browser.runtime.getURL(path);\r\n        // @ts-ignore\r\n        s.onload = function() { this.remove(); };\r\n\r\n        if (params) {\r\n            s.dataset.params = JSON.stringify(params);\r\n        }\r\n\r\n        // see also \"Dynamic values in the injected code\" section in this answer\r\n        (document.head || document.documentElement).appendChild(s);\r\n    }\r\n}\r\n", "import type {MessageHandler} from \"@Content/Modules/Messaging/MessageHandler\";\r\nimport DOMHelper from \"@Content/Modules/DOMHelper\";\r\n\r\nexport default class Messenger {\r\n\r\n    private static id: number = 0;\r\n\r\n    private static dispatchEvent(handler: MessageHandler, action: string, params: any[]=[], id: string|undefined=undefined): void {\r\n\r\n        DOMHelper.insertScript(\"scriptlets/event.js\", {handler, detail: {\r\n            action, params, id\r\n        }});\r\n    }\r\n\r\n    static call(handler: MessageHandler, action: string, params: any[]=[]): void {\r\n        this.dispatchEvent(handler, action, params);\r\n    }\r\n\r\n    static get<T>(handler: MessageHandler, action: string, params: any[]=[]): Promise<T> {\r\n        return new Promise(resolve => {\r\n            const id = `as_msg_${this.id++}`;\r\n\r\n            // @ts-ignore\r\n            document.addEventListener(id, (e) => resolve(e.detail), {once: true});\r\n            this.dispatchEvent(handler, action, params, id);\r\n        });\r\n    }\r\n}\r\n", "import Messenger from \"@Content/Modules/Messaging/Messenger\";\r\nimport {MessageHandler} from \"@Content/Modules/Messaging/MessageHandler\";\r\n\r\nexport default class SteamFacade {\r\n\r\n    // variables\r\n\r\n    static global<T=any>(name: string): Promise<T> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"global\", [name]);\r\n    }\r\n\r\n    static globalExists(name: string): Promise<boolean> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"globalExists\", [name]);\r\n    }\r\n\r\n    static globalSet(name: string, value: any): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"globalSet\", [name, value]);\r\n    }\r\n\r\n    // dialogs\r\n\r\n    static showDialog(strTitle: string, strDescription: string, rgModalParams?: any): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"showDialog\", [strTitle, strDescription, rgModalParams]);\r\n    }\r\n\r\n    static showConfirmDialog(\r\n        title: string,\r\n        description: string,\r\n        options: {\r\n            okButton?: string, // Default \"OK\"\r\n            cancelButton?: string,  // Default \"Cancel\"\r\n            secondaryActionButton?: string, // Needs a value else won't get rendered\r\n            explicitConfirm?: boolean, // Avoids releasing Enter from auto-confirming\r\n            explicitDismissal?: boolean // Avoids dismissal on clicking on background\r\n        } = {}\r\n    ): Promise<\"OK\"|\"SECONDARY\"|\"CANCEL\"> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"showConfirmDialog\", [\r\n            title,\r\n            description,\r\n            options.okButton ?? null,\r\n            options.cancelButton ?? null,\r\n            options.secondaryActionButton ?? null,\r\n            options.explicitConfirm ?? false,\r\n            options.explicitDismissal ?? false\r\n        ]);\r\n    }\r\n\r\n    static showAlertDialog(\r\n        strTitle: string,\r\n        strDescription: string,\r\n        strOKButton?: string\r\n    ): Promise<void> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"showAlertDialog\", [\r\n            strTitle, strDescription, strOKButton\r\n        ]);\r\n    }\r\n\r\n    static showBlockingWaitDialog(strTitle: string, strDescription: string): Promise<void> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"showBlockingWaitDialog\", [\r\n            strTitle, strDescription\r\n        ]);\r\n    }\r\n\r\n    static dismissActiveModal(id?: string): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"dismissActiveModal\", [id]);\r\n    }\r\n\r\n    // menu\r\n\r\n    static showMenu(elemLink: string, elemPopup: string, align?: string, valign?: string, bLinkHasBorder?: boolean): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"showMenu\", [elemLink, elemPopup, align, valign, bLinkHasBorder]);\r\n    }\r\n\r\n    static hideMenu(elemLink: string, elemPopup: string): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"hideMenu\", [elemLink, elemPopup]);\r\n    }\r\n\r\n    static changeLanguage(strTargetLanguage: string, bStayOnPage: boolean): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"changeLanguage\", [strTargetLanguage, bStayOnPage]);\r\n    }\r\n\r\n    // app pages\r\n\r\n    static collapseLongStrings(selector: string): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"collapseLongStrings\", [selector]);\r\n    }\r\n\r\n    static removeFromWishlist(\r\n        appid: number,\r\n        divToHide: string,\r\n        divToShowSuccess: string,\r\n        divToShowError: string,\r\n        navref?: string,\r\n        divToHide2?: string,\r\n    ): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"removeFromWishlist\", [\r\n            appid, divToHide, divToShowSuccess, divToShowError, navref, divToHide2\r\n        ]);\r\n    }\r\n\r\n    static addToWishlist(\r\n        appid: number,\r\n        divToHide: string,\r\n        divToShowSuccess: string,\r\n        divToShowError: string,\r\n        navref?: string,\r\n        divToHide2?: string,\r\n    ): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"addToWishlist\", [\r\n            appid, divToHide, divToShowSuccess, divToShowError, navref, divToHide2\r\n        ]);\r\n    }\r\n\r\n    // events\r\n\r\n    static bindAutoFlyoutEvents(): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"bindAutoFlyoutEvents\");\r\n    }\r\n\r\n    // tooltips\r\n\r\n    static vTooltip(selector: string, isHtml: boolean = false): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"vTooltip\", [selector, isHtml]);\r\n    }\r\n\r\n    // market\r\n\r\n    static calculateFeeAmount(amount: number, publisherFee: number): Promise<{\r\n        amount: number,\r\n        fees: number\r\n    }> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"calculateFeeAmount\", [amount, publisherFee]);\r\n    }\r\n\r\n    static vCurrencyFormat(amount: number, currencyCode: string): Promise<string> {\r\n        return Messenger.get(MessageHandler.SteamFacade, \"vCurrencyFormat\", [amount, currencyCode])\r\n    }\r\n\r\n    // profile home\r\n\r\n    static openFriendChatInWebChat(steamid: string, accountid: number): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"openFriendChatInWebChat\", [steamid, accountid]);\r\n    }\r\n\r\n    // edit guide\r\n\r\n    static submitGuide(): void {\r\n        Messenger.call(MessageHandler.SteamFacade, \"submitGuide\");\r\n    }\r\n}\r\n", "\r\nexport interface AppConfigData {\r\n    language?: string,\r\n    countryCode?: string,\r\n    webApiToken?: string,\r\n    steamId?: string\r\n}\r\n\r\nexport default class AppConfig {\r\n    public readonly language: string|undefined;\r\n    public readonly countryCode: string|undefined;\r\n    public readonly webApiToken: string|undefined;\r\n    public readonly steamId: string|undefined;\r\n\r\n    public constructor(data: AppConfigData) {\r\n        this.language = data.language;\r\n        this.countryCode = data.countryCode;\r\n        this.webApiToken = data.webApiToken;\r\n        this.steamId = data.steamId;\r\n    }\r\n}\r\n", "import SteamFacade from \"@Content/Modules/Facades/SteamFacade\";\r\nimport AppConfig, {type AppConfigData} from \"@Core/AppConfig/AppConfig\";\r\n\r\nexport default class AppConfigFactory {\r\n\r\n    public createFromLegacy(): AppConfig {\r\n        const configNode: HTMLElement|null = document.querySelector(\"#application_config\");\r\n\r\n        const data: AppConfigData = {};\r\n\r\n        if (configNode?.dataset.config) {\r\n            const config = JSON.parse(configNode.dataset.config);\r\n            data.language = config.LANGUAGE;\r\n            data.countryCode = config.COUNTRY;\r\n        }\r\n\r\n        if (configNode?.dataset.store_user_config) {\r\n            const storeUserConfig = JSON.parse(configNode.dataset.store_user_config);\r\n            data.webApiToken = storeUserConfig.webapi_token;\r\n        }\r\n\r\n        return new AppConfig(data);\r\n    }\r\n\r\n    public async createFromReact(): Promise<AppConfig> {\r\n\r\n        const [loaderData, Config, UserConfig] = await Promise.all([\r\n            SteamFacade.global(\"SSR.loaderData\"),\r\n            SteamFacade.global(\"Config\"),\r\n            SteamFacade.global(\"UserConfig\")\r\n        ]);\r\n\r\n        const data: AppConfigData = {\r\n            language: Config.LANGUAGE,\r\n            countryCode: Config.COUNTRY\r\n        }\r\n\r\n        if (Array.isArray(loaderData) && loaderData[0]) {\r\n            for (let item of loaderData) {\r\n                item = JSON.parse(item);\r\n                if (item.strWebAPIToken) {\r\n                    data.webApiToken = item.strWebAPIToken;\r\n                }\r\n\r\n                if (item.storeBrowseContext && item.steamid) { // find correct object\r\n                    data.steamId = item.steamid;\r\n                }\r\n            }\r\n        }\r\n        return new AppConfig(data);\r\n    }\r\n}", "import bootstrapDomPurify from \"../../bootstrapDomPurify\";\r\nimport Config from \"config\";\r\nimport Info from \"@Core/Info\";\r\nimport Localization from \"@Core/Localization/Localization\";\r\nimport {SettingsStore} from \"@Options/Data/Settings\";\r\nimport CurrencyManager from \"@Content/Modules/Currency/CurrencyManager\";\r\nimport Context, {type ContextParams} from \"@Content/Modules/Context/Context\";\r\nimport Environment, {ContextType} from \"@Core/Environment\";\r\nimport Language from \"@Core/Localization/Language\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\nimport type AppConfig from \"@Core/AppConfig/AppConfig\";\r\nimport LanguageFactory from \"@Core/Localization/LanguageFactory\";\r\nimport UserFactory from \"@Core/User/UserFactory\";\r\nimport AppConfigFactory from \"@Core/AppConfig/AppConfigFactory\";\r\n\r\nEnvironment.CurrentContext = ContextType.ContentScript;\r\n\r\n/**\r\n * Event handler for uncaught Background errors\r\n */\r\nfunction unhandledrejection(e: PromiseRejectionEvent) {\r\n    const err = e.reason;\r\n    if (!err || !err.error) {\r\n        return;\r\n    } // Not a background error\r\n\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    console.group(\"An error occurred in the background context.\");\r\n    console.error(err.stack);\r\n    console.groupEnd();\r\n}\r\nwindow.addEventListener(\"unhandledrejection\", unhandledrejection);\r\n\r\ninterface ContextClass {\r\n    create: (params: ContextParams) => Promise<InstanceType<typeof Context>|null>,\r\n    new(params: ContextParams, ...rest: any[]): InstanceType<typeof Context>\r\n}\r\n\r\nexport default abstract class Page {\r\n\r\n    constructor(\r\n        private readonly contextClass: ContextClass\r\n    ) {}\r\n\r\n    /**\r\n     * Run any kind of checks we might need to do, to see if the page is properly loaded\r\n     */\r\n    protected abstract check(): boolean;\r\n    protected abstract preApply(language: Language|null, user: UserInterface): Promise<void>\r\n\r\n    protected abstract getAppConfig(factory: AppConfigFactory): Promise<AppConfig>;\r\n    protected abstract getLanguage(factory: LanguageFactory): Promise<Language|null>;\r\n    protected abstract getUser(factory: UserFactory): Promise<UserInterface>;\r\n\r\n    async run(): Promise<void> {\r\n        if (!this.check()) { return; }\r\n\r\n        let language: Language|null;\r\n        let user: UserInterface;\r\n\r\n        // TODO What errors can be \"suppressed\" here?\r\n        try {\r\n            await SettingsStore.init();\r\n            await bootstrapDomPurify();\r\n        } catch (err) {\r\n            console.error(err);\r\n        }\r\n\r\n        try {\r\n            const appFactory = new AppConfigFactory();\r\n            const appConfig = await this.getAppConfig(appFactory);\r\n\r\n            const languageFactory = new LanguageFactory(appConfig);\r\n            language = await this.getLanguage(languageFactory);\r\n\r\n            const userFactory = new UserFactory(appConfig);\r\n            user = await this.getUser(userFactory);\r\n\r\n            await Promise.all([\r\n                Localization.init(language),\r\n                CurrencyManager.init()\r\n            ]);\r\n        } catch (err) {\r\n            console.group(\"Augmented Steam initialization\");\r\n            console.error(\"Failed to initialize Augmented Steam\");\r\n            console.error(err);\r\n            console.groupEnd();\r\n            return;\r\n        }\r\n\r\n        console.log(\r\n            `%c Augmented %cSteam v${Info.version} %c ${Config.PublicHost}`,\r\n            \"background: #000000; color: #046eb2\",\r\n            \"background: #000000; color: #ffffff\",\r\n            \"\",\r\n        );\r\n\r\n        await this.preApply(language, user);\r\n\r\n        const params = {language, user};\r\n        const context: Context = await this.contextClass.create(params)\r\n            ?? new (this.contextClass)(params);\r\n        await context.applyFeatures();\r\n    }\r\n}\r\n", "/** @returns {void} */\nexport function noop() {}\n\nexport const identity = (x) => x;\n\n/**\n * @template T\n * @template S\n * @param {T} tar\n * @param {S} src\n * @returns {T & S}\n */\nexport function assign(tar, src) {\n\t// @ts-ignore\n\tfor (const k in src) tar[k] = src[k];\n\treturn /** @type {T & S} */ (tar);\n}\n\n// Adapted from https://github.com/then/is-promise/blob/master/index.js\n// Distributed under MIT License https://github.com/then/is-promise/blob/master/LICENSE\n/**\n * @param {any} value\n * @returns {value is PromiseLike<any>}\n */\nexport function is_promise(value) {\n\treturn (\n\t\t!!value &&\n\t\t(typeof value === 'object' || typeof value === 'function') &&\n\t\ttypeof (/** @type {any} */ (value).then) === 'function'\n\t);\n}\n\n/** @returns {void} */\nexport function add_location(element, file, line, column, char) {\n\telement.__svelte_meta = {\n\t\tloc: { file, line, column, char }\n\t};\n}\n\nexport function run(fn) {\n\treturn fn();\n}\n\nexport function blank_object() {\n\treturn Object.create(null);\n}\n\n/**\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function run_all(fns) {\n\tfns.forEach(run);\n}\n\n/**\n * @param {any} thing\n * @returns {thing is Function}\n */\nexport function is_function(thing) {\n\treturn typeof thing === 'function';\n}\n\n/** @returns {boolean} */\nexport function safe_not_equal(a, b) {\n\treturn a != a ? b == b : a !== b || (a && typeof a === 'object') || typeof a === 'function';\n}\n\nlet src_url_equal_anchor;\n\n/**\n * @param {string} element_src\n * @param {string} url\n * @returns {boolean}\n */\nexport function src_url_equal(element_src, url) {\n\tif (element_src === url) return true;\n\tif (!src_url_equal_anchor) {\n\t\tsrc_url_equal_anchor = document.createElement('a');\n\t}\n\t// This is actually faster than doing URL(..).href\n\tsrc_url_equal_anchor.href = url;\n\treturn element_src === src_url_equal_anchor.href;\n}\n\n/** @param {string} srcset */\nfunction split_srcset(srcset) {\n\treturn srcset.split(',').map((src) => src.trim().split(' ').filter(Boolean));\n}\n\n/**\n * @param {HTMLSourceElement | HTMLImageElement} element_srcset\n * @param {string | undefined | null} srcset\n * @returns {boolean}\n */\nexport function srcset_url_equal(element_srcset, srcset) {\n\tconst element_urls = split_srcset(element_srcset.srcset);\n\tconst urls = split_srcset(srcset || '');\n\n\treturn (\n\t\turls.length === element_urls.length &&\n\t\turls.every(\n\t\t\t([url, width], i) =>\n\t\t\t\twidth === element_urls[i][1] &&\n\t\t\t\t// We need to test both ways because Vite will create an a full URL with\n\t\t\t\t// `new URL(asset, import.meta.url).href` for the client when `base: './'`, and the\n\t\t\t\t// relative URLs inside srcset are not automatically resolved to absolute URLs by\n\t\t\t\t// browsers (in contrast to img.src). This means both SSR and DOM code could\n\t\t\t\t// contain relative or absolute URLs.\n\t\t\t\t(src_url_equal(element_urls[i][0], url) || src_url_equal(url, element_urls[i][0]))\n\t\t)\n\t);\n}\n\n/** @returns {boolean} */\nexport function not_equal(a, b) {\n\treturn a != a ? b == b : a !== b;\n}\n\n/** @returns {boolean} */\nexport function is_empty(obj) {\n\treturn Object.keys(obj).length === 0;\n}\n\n/** @returns {void} */\nexport function validate_store(store, name) {\n\tif (store != null && typeof store.subscribe !== 'function') {\n\t\tthrow new Error(`'${name}' is not a store with a 'subscribe' method`);\n\t}\n}\n\nexport function subscribe(store, ...callbacks) {\n\tif (store == null) {\n\t\tfor (const callback of callbacks) {\n\t\t\tcallback(undefined);\n\t\t}\n\t\treturn noop;\n\t}\n\tconst unsub = store.subscribe(...callbacks);\n\treturn unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\n\n/**\n * Get the current value from a store by subscribing and immediately unsubscribing.\n *\n * https://svelte.dev/docs/svelte-store#get\n * @template T\n * @param {import('../store/public.js').Readable<T>} store\n * @returns {T}\n */\nexport function get_store_value(store) {\n\tlet value;\n\tsubscribe(store, (_) => (value = _))();\n\treturn value;\n}\n\n/** @returns {void} */\nexport function component_subscribe(component, store, callback) {\n\tcomponent.$$.on_destroy.push(subscribe(store, callback));\n}\n\nexport function create_slot(definition, ctx, $$scope, fn) {\n\tif (definition) {\n\t\tconst slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n\t\treturn definition[0](slot_ctx);\n\t}\n}\n\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n\treturn definition[1] && fn ? assign($$scope.ctx.slice(), definition[1](fn(ctx))) : $$scope.ctx;\n}\n\nexport function get_slot_changes(definition, $$scope, dirty, fn) {\n\tif (definition[2] && fn) {\n\t\tconst lets = definition[2](fn(dirty));\n\t\tif ($$scope.dirty === undefined) {\n\t\t\treturn lets;\n\t\t}\n\t\tif (typeof lets === 'object') {\n\t\t\tconst merged = [];\n\t\t\tconst len = Math.max($$scope.dirty.length, lets.length);\n\t\t\tfor (let i = 0; i < len; i += 1) {\n\t\t\t\tmerged[i] = $$scope.dirty[i] | lets[i];\n\t\t\t}\n\t\t\treturn merged;\n\t\t}\n\t\treturn $$scope.dirty | lets;\n\t}\n\treturn $$scope.dirty;\n}\n\n/** @returns {void} */\nexport function update_slot_base(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tslot_changes,\n\tget_slot_context_fn\n) {\n\tif (slot_changes) {\n\t\tconst slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n\t\tslot.p(slot_context, slot_changes);\n\t}\n}\n\n/** @returns {void} */\nexport function update_slot(\n\tslot,\n\tslot_definition,\n\tctx,\n\t$$scope,\n\tdirty,\n\tget_slot_changes_fn,\n\tget_slot_context_fn\n) {\n\tconst slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n\tupdate_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\n\n/** @returns {any[] | -1} */\nexport function get_all_dirty_from_scope($$scope) {\n\tif ($$scope.ctx.length > 32) {\n\t\tconst dirty = [];\n\t\tconst length = $$scope.ctx.length / 32;\n\t\tfor (let i = 0; i < length; i++) {\n\t\t\tdirty[i] = -1;\n\t\t}\n\t\treturn dirty;\n\t}\n\treturn -1;\n}\n\n/** @returns {{}} */\nexport function exclude_internal_props(props) {\n\tconst result = {};\n\tfor (const k in props) if (k[0] !== '$') result[k] = props[k];\n\treturn result;\n}\n\n/** @returns {{}} */\nexport function compute_rest_props(props, keys) {\n\tconst rest = {};\n\tkeys = new Set(keys);\n\tfor (const k in props) if (!keys.has(k) && k[0] !== '$') rest[k] = props[k];\n\treturn rest;\n}\n\n/** @returns {{}} */\nexport function compute_slots(slots) {\n\tconst result = {};\n\tfor (const key in slots) {\n\t\tresult[key] = true;\n\t}\n\treturn result;\n}\n\n/** @returns {(this: any, ...args: any[]) => void} */\nexport function once(fn) {\n\tlet ran = false;\n\treturn function (...args) {\n\t\tif (ran) return;\n\t\tran = true;\n\t\tfn.call(this, ...args);\n\t};\n}\n\nexport function null_to_empty(value) {\n\treturn value == null ? '' : value;\n}\n\nexport function set_store_value(store, ret, value) {\n\tstore.set(value);\n\treturn ret;\n}\n\nexport const has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\n\nexport function action_destroyer(action_result) {\n\treturn action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\n/** @param {number | string} value\n * @returns {[number, string]}\n */\nexport function split_css_unit(value) {\n\tconst split = typeof value === 'string' && value.match(/^\\s*(-?[\\d.]+)([^\\s]*)\\s*$/);\n\treturn split ? [parseFloat(split[1]), split[2] || 'px'] : [/** @type {number} */ (value), 'px'];\n}\n\nexport const contenteditable_truthy_values = ['', true, 1, 'true', 'contenteditable'];\n", "import { noop } from './utils.js';\n\nexport const is_client = typeof window !== 'undefined';\n\n/** @type {() => number} */\nexport let now = is_client ? () => window.performance.now() : () => Date.now();\n\nexport let raf = is_client ? (cb) => requestAnimationFrame(cb) : noop;\n\n// used internally for testing\n/** @returns {void} */\nexport function set_now(fn) {\n\tnow = fn;\n}\n\n/** @returns {void} */\nexport function set_raf(fn) {\n\traf = fn;\n}\n", "import { raf } from './environment.js';\n\nconst tasks = new Set();\n\n/**\n * @param {number} now\n * @returns {void}\n */\nfunction run_tasks(now) {\n\ttasks.forEach((task) => {\n\t\tif (!task.c(now)) {\n\t\t\ttasks.delete(task);\n\t\t\ttask.f();\n\t\t}\n\t});\n\tif (tasks.size !== 0) raf(run_tasks);\n}\n\n/**\n * For testing purposes only!\n * @returns {void}\n */\nexport function clear_loops() {\n\ttasks.clear();\n}\n\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n * @param {import('./private.js').TaskCallback} callback\n * @returns {import('./private.js').Task}\n */\nexport function loop(callback) {\n\t/** @type {import('./private.js').TaskEntry} */\n\tlet task;\n\tif (tasks.size === 0) raf(run_tasks);\n\treturn {\n\t\tpromise: new Promise((fulfill) => {\n\t\t\ttasks.add((task = { c: callback, f: fulfill }));\n\t\t}),\n\t\tabort() {\n\t\t\ttasks.delete(task);\n\t\t}\n\t};\n}\n", "/** @type {typeof globalThis} */\nexport const globals =\n\ttypeof window !== 'undefined'\n\t\t? window\n\t\t: typeof globalThis !== 'undefined'\n\t\t? globalThis\n\t\t: // @ts-ignore Node typings have this\n\t\t  global;\n", "import { globals } from './globals.js';\n\n/**\n * Resize observer singleton.\n * One listener per element only!\n * https://groups.google.com/a/chromium.org/g/blink-dev/c/z6ienONUb5A/m/F5-VcUZtBAAJ\n */\nexport class ResizeObserverSingleton {\n\t/**\n\t * @private\n\t * @readonly\n\t * @type {WeakMap<Element, import('./private.js').Listener>}\n\t */\n\t_listeners = 'WeakMap' in globals ? new WeakMap() : undefined;\n\n\t/**\n\t * @private\n\t * @type {ResizeObserver}\n\t */\n\t_observer = undefined;\n\n\t/** @type {ResizeObserverOptions} */\n\toptions;\n\n\t/** @param {ResizeObserverOptions} options */\n\tconstructor(options) {\n\t\tthis.options = options;\n\t}\n\n\t/**\n\t * @param {Element} element\n\t * @param {import('./private.js').Listener} listener\n\t * @returns {() => void}\n\t */\n\tobserve(element, listener) {\n\t\tthis._listeners.set(element, listener);\n\t\tthis._getObserver().observe(element, this.options);\n\t\treturn () => {\n\t\t\tthis._listeners.delete(element);\n\t\t\tthis._observer.unobserve(element); // this line can probably be removed\n\t\t};\n\t}\n\n\t/**\n\t * @private\n\t */\n\t_getObserver() {\n\t\treturn (\n\t\t\tthis._observer ??\n\t\t\t(this._observer = new ResizeObserver((entries) => {\n\t\t\t\tfor (const entry of entries) {\n\t\t\t\t\tResizeObserverSingleton.entries.set(entry.target, entry);\n\t\t\t\t\tthis._listeners.get(entry.target)?.(entry);\n\t\t\t\t}\n\t\t\t}))\n\t\t);\n\t}\n}\n\n// Needs to be written like this to pass the tree-shake-test\nResizeObserverSingleton.entries = 'WeakMap' in globals ? new WeakMap() : undefined;\n", "import { contenteditable_truthy_values, has_prop } from './utils.js';\n\nimport { ResizeObserverSingleton } from './ResizeObserverSingleton.js';\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\n\n/**\n * @returns {void}\n */\nexport function start_hydrating() {\n\tis_hydrating = true;\n}\n\n/**\n * @returns {void}\n */\nexport function end_hydrating() {\n\tis_hydrating = false;\n}\n\n/**\n * @param {number} low\n * @param {number} high\n * @param {(index: number) => number} key\n * @param {number} value\n * @returns {number}\n */\nfunction upper_bound(low, high, key, value) {\n\t// Return first index of value larger than input value in the range [low, high)\n\twhile (low < high) {\n\t\tconst mid = low + ((high - low) >> 1);\n\t\tif (key(mid) <= value) {\n\t\t\tlow = mid + 1;\n\t\t} else {\n\t\t\thigh = mid;\n\t\t}\n\t}\n\treturn low;\n}\n\n/**\n * @param {NodeEx} target\n * @returns {void}\n */\nfunction init_hydrate(target) {\n\tif (target.hydrate_init) return;\n\ttarget.hydrate_init = true;\n\t// We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n\n\tlet children = /** @type {ArrayLike<NodeEx2>} */ (target.childNodes);\n\t// If target is <head>, there may be children without claim_order\n\tif (target.nodeName === 'HEAD') {\n\t\tconst my_children = [];\n\t\tfor (let i = 0; i < children.length; i++) {\n\t\t\tconst node = children[i];\n\t\t\tif (node.claim_order !== undefined) {\n\t\t\t\tmy_children.push(node);\n\t\t\t}\n\t\t}\n\t\tchildren = my_children;\n\t}\n\t/*\n\t * Reorder claimed children optimally.\n\t * We can reorder claimed children optimally by finding the longest subsequence of\n\t * nodes that are already claimed in order and only moving the rest. The longest\n\t * subsequence of nodes that are claimed in order can be found by\n\t * computing the longest increasing subsequence of .claim_order values.\n\t *\n\t * This algorithm is optimal in generating the least amount of reorder operations\n\t * possible.\n\t *\n\t * Proof:\n\t * We know that, given a set of reordering operations, the nodes that do not move\n\t * always form an increasing subsequence, since they do not move among each other\n\t * meaning that they must be already ordered among each other. Thus, the maximal\n\t * set of nodes that do not move form a longest increasing subsequence.\n\t */\n\t// Compute longest increasing subsequence\n\t// m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n\tconst m = new Int32Array(children.length + 1);\n\t// Predecessor indices + 1\n\tconst p = new Int32Array(children.length);\n\tm[0] = -1;\n\tlet longest = 0;\n\tfor (let i = 0; i < children.length; i++) {\n\t\tconst current = children[i].claim_order;\n\t\t// Find the largest subsequence length such that it ends in a value less than our current value\n\t\t// upper_bound returns first greater value, so we subtract one\n\t\t// with fast path for when we are on the current longest subsequence\n\t\tconst seq_len =\n\t\t\t(longest > 0 && children[m[longest]].claim_order <= current\n\t\t\t\t? longest + 1\n\t\t\t\t: upper_bound(1, longest, (idx) => children[m[idx]].claim_order, current)) - 1;\n\t\tp[i] = m[seq_len] + 1;\n\t\tconst new_len = seq_len + 1;\n\t\t// We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n\t\tm[new_len] = i;\n\t\tlongest = Math.max(new_len, longest);\n\t}\n\t// The longest increasing subsequence of nodes (initially reversed)\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst lis = [];\n\t// The rest of the nodes, nodes that will be moved\n\n\t/**\n\t * @type {NodeEx2[]}\n\t */\n\tconst to_move = [];\n\tlet last = children.length - 1;\n\tfor (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n\t\tlis.push(children[cur - 1]);\n\t\tfor (; last >= cur; last--) {\n\t\t\tto_move.push(children[last]);\n\t\t}\n\t\tlast--;\n\t}\n\tfor (; last >= 0; last--) {\n\t\tto_move.push(children[last]);\n\t}\n\tlis.reverse();\n\t// We sort the nodes being moved to guarantee that their insertion order matches the claim order\n\tto_move.sort((a, b) => a.claim_order - b.claim_order);\n\t// Finally, we move the nodes\n\tfor (let i = 0, j = 0; i < to_move.length; i++) {\n\t\twhile (j < lis.length && to_move[i].claim_order >= lis[j].claim_order) {\n\t\t\tj++;\n\t\t}\n\t\tconst anchor = j < lis.length ? lis[j] : null;\n\t\ttarget.insertBefore(to_move[i], anchor);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @returns {void}\n */\nexport function append(target, node) {\n\ttarget.appendChild(node);\n}\n\n/**\n * @param {Node} target\n * @param {string} style_sheet_id\n * @param {string} styles\n * @returns {void}\n */\nexport function append_styles(target, style_sheet_id, styles) {\n\tconst append_styles_to = get_root_for_style(target);\n\tif (!append_styles_to.getElementById(style_sheet_id)) {\n\t\tconst style = element('style');\n\t\tstyle.id = style_sheet_id;\n\t\tstyle.textContent = styles;\n\t\tappend_stylesheet(append_styles_to, style);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {ShadowRoot | Document}\n */\nexport function get_root_for_style(node) {\n\tif (!node) return document;\n\tconst root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n\tif (root && /** @type {ShadowRoot} */ (root).host) {\n\t\treturn /** @type {ShadowRoot} */ (root);\n\t}\n\treturn node.ownerDocument;\n}\n\n/**\n * @param {Node} node\n * @returns {CSSStyleSheet}\n */\nexport function append_empty_stylesheet(node) {\n\tconst style_element = element('style');\n\t// For transitions to work without 'style-src: unsafe-inline' Content Security Policy,\n\t// these empty tags need to be allowed with a hash as a workaround until we move to the Web Animations API.\n\t// Using the hash for the empty string (for an empty tag) works in all browsers except Safari.\n\t// So as a workaround for the workaround, when we append empty style tags we set their content to /* empty */.\n\t// The hash 'sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=' will then work even in Safari.\n\tstyle_element.textContent = '/* empty */';\n\tappend_stylesheet(get_root_for_style(node), style_element);\n\treturn style_element.sheet;\n}\n\n/**\n * @param {ShadowRoot | Document} node\n * @param {HTMLStyleElement} style\n * @returns {CSSStyleSheet}\n */\nfunction append_stylesheet(node, style) {\n\tappend(/** @type {Document} */ (node).head || node, style);\n\treturn style.sheet;\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @returns {void}\n */\nexport function append_hydration(target, node) {\n\tif (is_hydrating) {\n\t\tinit_hydrate(target);\n\t\tif (\n\t\t\ttarget.actual_end_child === undefined ||\n\t\t\t(target.actual_end_child !== null && target.actual_end_child.parentNode !== target)\n\t\t) {\n\t\t\ttarget.actual_end_child = target.firstChild;\n\t\t}\n\t\t// Skip nodes of undefined ordering\n\t\twhile (target.actual_end_child !== null && target.actual_end_child.claim_order === undefined) {\n\t\t\ttarget.actual_end_child = target.actual_end_child.nextSibling;\n\t\t}\n\t\tif (node !== target.actual_end_child) {\n\t\t\t// We only insert if the ordering of this node should be modified or the parent node is not target\n\t\t\tif (node.claim_order !== undefined || node.parentNode !== target) {\n\t\t\t\ttarget.insertBefore(node, target.actual_end_child);\n\t\t\t}\n\t\t} else {\n\t\t\ttarget.actual_end_child = node.nextSibling;\n\t\t}\n\t} else if (node.parentNode !== target || node.nextSibling !== null) {\n\t\ttarget.appendChild(node);\n\t}\n}\n\n/**\n * @param {Node} target\n * @param {Node} node\n * @param {Node} [anchor]\n * @returns {void}\n */\nexport function insert(target, node, anchor) {\n\ttarget.insertBefore(node, anchor || null);\n}\n\n/**\n * @param {NodeEx} target\n * @param {NodeEx} node\n * @param {NodeEx} [anchor]\n * @returns {void}\n */\nexport function insert_hydration(target, node, anchor) {\n\tif (is_hydrating && !anchor) {\n\t\tappend_hydration(target, node);\n\t} else if (node.parentNode !== target || node.nextSibling != anchor) {\n\t\ttarget.insertBefore(node, anchor || null);\n\t}\n}\n\n/**\n * @param {Node} node\n * @returns {void}\n */\nexport function detach(node) {\n\tif (node.parentNode) {\n\t\tnode.parentNode.removeChild(node);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function destroy_each(iterations, detaching) {\n\tfor (let i = 0; i < iterations.length; i += 1) {\n\t\tif (iterations[i]) iterations[i].d(detaching);\n\t}\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element(name) {\n\treturn document.createElement(name);\n}\n\n/**\n * @template {keyof HTMLElementTagNameMap} K\n * @param {K} name\n * @param {string} is\n * @returns {HTMLElementTagNameMap[K]}\n */\nexport function element_is(name, is) {\n\treturn document.createElement(name, { is });\n}\n\n/**\n * @template T\n * @template {keyof T} K\n * @param {T} obj\n * @param {K[]} exclude\n * @returns {Pick<T, Exclude<keyof T, K>>}\n */\nexport function object_without_properties(obj, exclude) {\n\tconst target = /** @type {Pick<T, Exclude<keyof T, K>>} */ ({});\n\tfor (const k in obj) {\n\t\tif (\n\t\t\thas_prop(obj, k) &&\n\t\t\t// @ts-ignore\n\t\t\texclude.indexOf(k) === -1\n\t\t) {\n\t\t\t// @ts-ignore\n\t\t\ttarget[k] = obj[k];\n\t\t}\n\t}\n\treturn target;\n}\n\n/**\n * @template {keyof SVGElementTagNameMap} K\n * @param {K} name\n * @returns {SVGElement}\n */\nexport function svg_element(name) {\n\treturn document.createElementNS('http://www.w3.org/2000/svg', name);\n}\n\n/**\n * @param {string} data\n * @returns {Text}\n */\nexport function text(data) {\n\treturn document.createTextNode(data);\n}\n\n/**\n * @returns {Text} */\nexport function space() {\n\treturn text(' ');\n}\n\n/**\n * @returns {Text} */\nexport function empty() {\n\treturn text('');\n}\n\n/**\n * @param {string} content\n * @returns {Comment}\n */\nexport function comment(content) {\n\treturn document.createComment(content);\n}\n\n/**\n * @param {EventTarget} node\n * @param {string} event\n * @param {EventListenerOrEventListenerObject} handler\n * @param {boolean | AddEventListenerOptions | EventListenerOptions} [options]\n * @returns {() => void}\n */\nexport function listen(node, event, handler, options) {\n\tnode.addEventListener(event, handler, options);\n\treturn () => node.removeEventListener(event, handler, options);\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function prevent_default(fn) {\n\treturn function (event) {\n\t\tevent.preventDefault();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopPropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => any} */\nexport function stop_immediate_propagation(fn) {\n\treturn function (event) {\n\t\tevent.stopImmediatePropagation();\n\t\t// @ts-ignore\n\t\treturn fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function self(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.target === this) fn.call(this, event);\n\t};\n}\n\n/**\n * @returns {(event: any) => void} */\nexport function trusted(fn) {\n\treturn function (event) {\n\t\t// @ts-ignore\n\t\tif (event.isTrusted) fn.call(this, event);\n\t};\n}\n\n/**\n * @param {Element} node\n * @param {string} attribute\n * @param {string} [value]\n * @returns {void}\n */\nexport function attr(node, attribute, value) {\n\tif (value == null) node.removeAttribute(attribute);\n\telse if (node.getAttribute(attribute) !== value) node.setAttribute(attribute, value);\n}\n/**\n * List of attributes that should always be set through the attr method,\n * because updating them through the property setter doesn't work reliably.\n * In the example of `width`/`height`, the problem is that the setter only\n * accepts numeric values, but the attribute can also be set to a string like `50%`.\n * If this list becomes too big, rethink this approach.\n */\nconst always_set_through_set_attribute = ['width', 'height'];\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_attributes(node, attributes) {\n\t// @ts-ignore\n\tconst descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n\tfor (const key in attributes) {\n\t\tif (attributes[key] == null) {\n\t\t\tnode.removeAttribute(key);\n\t\t} else if (key === 'style') {\n\t\t\tnode.style.cssText = attributes[key];\n\t\t} else if (key === '__value') {\n\t\t\t/** @type {any} */ (node).value = node[key] = attributes[key];\n\t\t} else if (\n\t\t\tdescriptors[key] &&\n\t\t\tdescriptors[key].set &&\n\t\t\talways_set_through_set_attribute.indexOf(key) === -1\n\t\t) {\n\t\t\tnode[key] = attributes[key];\n\t\t} else {\n\t\t\tattr(node, key, attributes[key]);\n\t\t}\n\t}\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {{ [x: string]: string }} attributes\n * @returns {void}\n */\nexport function set_svg_attributes(node, attributes) {\n\tfor (const key in attributes) {\n\t\tattr(node, key, attributes[key]);\n\t}\n}\n\n/**\n * @param {Record<string, unknown>} data_map\n * @returns {void}\n */\nexport function set_custom_element_data_map(node, data_map) {\n\tObject.keys(data_map).forEach((key) => {\n\t\tset_custom_element_data(node, key, data_map[key]);\n\t});\n}\n\n/**\n * @returns {void} */\nexport function set_custom_element_data(node, prop, value) {\n\tconst lower = prop.toLowerCase(); // for backwards compatibility with existing behavior we do lowercase first\n\tif (lower in node) {\n\t\tnode[lower] = typeof node[lower] === 'boolean' && value === '' ? true : value;\n\t} else if (prop in node) {\n\t\tnode[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n\t} else {\n\t\tattr(node, prop, value);\n\t}\n}\n\n/**\n * @param {string} tag\n */\nexport function set_dynamic_element_data(tag) {\n\treturn /-/.test(tag) ? set_custom_element_data_map : set_attributes;\n}\n\n/**\n * @returns {void}\n */\nexport function xlink_attr(node, attribute, value) {\n\tnode.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\n\n/**\n * @param {HTMLElement} node\n * @returns {string}\n */\nexport function get_svelte_dataset(node) {\n\treturn node.dataset.svelteH;\n}\n\n/**\n * @returns {unknown[]} */\nexport function get_binding_group_value(group, __value, checked) {\n\tconst value = new Set();\n\tfor (let i = 0; i < group.length; i += 1) {\n\t\tif (group[i].checked) value.add(group[i].__value);\n\t}\n\tif (!checked) {\n\t\tvalue.delete(__value);\n\t}\n\treturn Array.from(value);\n}\n\n/**\n * @param {HTMLInputElement[]} group\n * @returns {{ p(...inputs: HTMLInputElement[]): void; r(): void; }}\n */\nexport function init_binding_group(group) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\treturn {\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\t_inputs.forEach((input) => group.push(input));\n\t\t},\n\t\t/* remove */ r() {\n\t\t\t_inputs.forEach((input) => group.splice(group.indexOf(input), 1));\n\t\t}\n\t};\n}\n\n/**\n * @param {number[]} indexes\n * @returns {{ u(new_indexes: number[]): void; p(...inputs: HTMLInputElement[]): void; r: () => void; }}\n */\nexport function init_binding_group_dynamic(group, indexes) {\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _group = get_binding_group(group);\n\n\t/**\n\t * @type {HTMLInputElement[]} */\n\tlet _inputs;\n\n\tfunction get_binding_group(group) {\n\t\tfor (let i = 0; i < indexes.length; i++) {\n\t\t\tgroup = group[indexes[i]] = group[indexes[i]] || [];\n\t\t}\n\t\treturn group;\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction push() {\n\t\t_inputs.forEach((input) => _group.push(input));\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction remove() {\n\t\t_inputs.forEach((input) => _group.splice(_group.indexOf(input), 1));\n\t}\n\treturn {\n\t\t/* update */ u(new_indexes) {\n\t\t\tindexes = new_indexes;\n\t\t\tconst new_group = get_binding_group(group);\n\t\t\tif (new_group !== _group) {\n\t\t\t\tremove();\n\t\t\t\t_group = new_group;\n\t\t\t\tpush();\n\t\t\t}\n\t\t},\n\t\t/* push */ p(...inputs) {\n\t\t\t_inputs = inputs;\n\t\t\tpush();\n\t\t},\n\t\t/* remove */ r: remove\n\t};\n}\n\n/** @returns {number} */\nexport function to_number(value) {\n\treturn value === '' ? null : +value;\n}\n\n/** @returns {any[]} */\nexport function time_ranges_to_array(ranges) {\n\tconst array = [];\n\tfor (let i = 0; i < ranges.length; i += 1) {\n\t\tarray.push({ start: ranges.start(i), end: ranges.end(i) });\n\t}\n\treturn array;\n}\n\n/**\n * @param {Element} element\n * @returns {ChildNode[]}\n */\nexport function children(element) {\n\treturn Array.from(element.childNodes);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {void}\n */\nfunction init_claim_info(nodes) {\n\tif (nodes.claim_info === undefined) {\n\t\tnodes.claim_info = { last_index: 0, total_claimed: 0 };\n\t}\n}\n\n/**\n * @template {ChildNodeEx} R\n * @param {ChildNodeArray} nodes\n * @param {(node: ChildNodeEx) => node is R} predicate\n * @param {(node: ChildNodeEx) => ChildNodeEx | undefined} process_node\n * @param {() => R} create_node\n * @param {boolean} dont_update_last_index\n * @returns {R}\n */\nfunction claim_node(nodes, predicate, process_node, create_node, dont_update_last_index = false) {\n\t// Try to find nodes in an order such that we lengthen the longest increasing subsequence\n\tinit_claim_info(nodes);\n\tconst result_node = (() => {\n\t\t// We first try to find an element after the previous one\n\t\tfor (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// Otherwise, we try to find one before\n\t\t// We iterate in reverse so that we don't go too far back\n\t\tfor (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n\t\t\tconst node = nodes[i];\n\t\t\tif (predicate(node)) {\n\t\t\t\tconst replacement = process_node(node);\n\t\t\t\tif (replacement === undefined) {\n\t\t\t\t\tnodes.splice(i, 1);\n\t\t\t\t} else {\n\t\t\t\t\tnodes[i] = replacement;\n\t\t\t\t}\n\t\t\t\tif (!dont_update_last_index) {\n\t\t\t\t\tnodes.claim_info.last_index = i;\n\t\t\t\t} else if (replacement === undefined) {\n\t\t\t\t\t// Since we spliced before the last_index, we decrease it\n\t\t\t\t\tnodes.claim_info.last_index--;\n\t\t\t\t}\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\t// If we can't find any matching node, we create a new one\n\t\treturn create_node();\n\t})();\n\tresult_node.claim_order = nodes.claim_info.total_claimed;\n\tnodes.claim_info.total_claimed += 1;\n\treturn result_node;\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @param {(name: string) => Element | SVGElement} create_element\n * @returns {Element | SVGElement}\n */\nfunction claim_element_base(nodes, name, attributes, create_element) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Element | SVGElement} */\n\t\t(node) => node.nodeName === name,\n\t\t/** @param {Element} node */\n\t\t(node) => {\n\t\t\tconst remove = [];\n\t\t\tfor (let j = 0; j < node.attributes.length; j++) {\n\t\t\t\tconst attribute = node.attributes[j];\n\t\t\t\tif (!attributes[attribute.name]) {\n\t\t\t\t\tremove.push(attribute.name);\n\t\t\t\t}\n\t\t\t}\n\t\t\tremove.forEach((v) => node.removeAttribute(v));\n\t\t\treturn undefined;\n\t\t},\n\t\t() => create_element(name)\n\t);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @param {string} name\n * @param {{ [key: string]: boolean }} attributes\n * @returns {Element | SVGElement}\n */\nexport function claim_svg_element(nodes, name, attributes) {\n\treturn claim_element_base(nodes, name, attributes, svg_element);\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Text}\n */\nexport function claim_text(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Text} */\n\t\t(node) => node.nodeType === 3,\n\t\t/** @param {Text} node */\n\t\t(node) => {\n\t\t\tconst data_str = '' + data;\n\t\t\tif (node.data.startsWith(data_str)) {\n\t\t\t\tif (node.data.length !== data_str.length) {\n\t\t\t\t\treturn node.splitText(data_str.length);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tnode.data = data_str;\n\t\t\t}\n\t\t},\n\t\t() => text(data),\n\t\ttrue // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n\t);\n}\n\n/**\n * @returns {Text} */\nexport function claim_space(nodes) {\n\treturn claim_text(nodes, ' ');\n}\n\n/**\n * @param {ChildNodeArray} nodes\n * @returns {Comment}\n */\nexport function claim_comment(nodes, data) {\n\treturn claim_node(\n\t\tnodes,\n\t\t/** @returns {node is Comment} */\n\t\t(node) => node.nodeType === 8,\n\t\t/** @param {Comment} node */\n\t\t(node) => {\n\t\t\tnode.data = '' + data;\n\t\t\treturn undefined;\n\t\t},\n\t\t() => comment(data),\n\t\ttrue\n\t);\n}\n\nfunction get_comment_idx(nodes, text, start) {\n\tfor (let i = start; i < nodes.length; i += 1) {\n\t\tconst node = nodes[i];\n\t\tif (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * @param {boolean} is_svg\n * @returns {HtmlTagHydration}\n */\nexport function claim_html_tag(nodes, is_svg) {\n\t// find html opening tag\n\tconst start_index = get_comment_idx(nodes, 'HTML_TAG_START', 0);\n\tconst end_index = get_comment_idx(nodes, 'HTML_TAG_END', start_index + 1);\n\tif (start_index === -1 || end_index === -1) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\n\tinit_claim_info(nodes);\n\tconst html_tag_nodes = nodes.splice(start_index, end_index - start_index + 1);\n\tdetach(html_tag_nodes[0]);\n\tdetach(html_tag_nodes[html_tag_nodes.length - 1]);\n\tconst claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n\tif (claimed_nodes.length === 0) {\n\t\treturn new HtmlTagHydration(is_svg);\n\t}\n\tfor (const n of claimed_nodes) {\n\t\tn.claim_order = nodes.claim_info.total_claimed;\n\t\tnodes.claim_info.total_claimed += 1;\n\t}\n\treturn new HtmlTagHydration(is_svg, claimed_nodes);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data(text, data) {\n\tdata = '' + data;\n\tif (text.data === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @returns {void}\n */\nexport function set_data_contenteditable(text, data) {\n\tdata = '' + data;\n\tif (text.wholeText === data) return;\n\ttext.data = /** @type {string} */ (data);\n}\n\n/**\n * @param {Text} text\n * @param {unknown} data\n * @param {string} attr_value\n * @returns {void}\n */\nexport function set_data_maybe_contenteditable(text, data, attr_value) {\n\tif (~contenteditable_truthy_values.indexOf(attr_value)) {\n\t\tset_data_contenteditable(text, data);\n\t} else {\n\t\tset_data(text, data);\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_input_value(input, value) {\n\tinput.value = value == null ? '' : value;\n}\n\n/**\n * @returns {void} */\nexport function set_input_type(input, type) {\n\ttry {\n\t\tinput.type = type;\n\t} catch (e) {\n\t\t// do nothing\n\t}\n}\n\n/**\n * @returns {void} */\nexport function set_style(node, key, value, important) {\n\tif (value == null) {\n\t\tnode.style.removeProperty(key);\n\t} else {\n\t\tnode.style.setProperty(key, value, important ? 'important' : '');\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_option(select, value, mounting) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\tif (option.__value === value) {\n\t\t\toption.selected = true;\n\t\t\treturn;\n\t\t}\n\t}\n\tif (!mounting || value !== undefined) {\n\t\tselect.selectedIndex = -1; // no option should be selected\n\t}\n}\n\n/**\n * @returns {void} */\nexport function select_options(select, value) {\n\tfor (let i = 0; i < select.options.length; i += 1) {\n\t\tconst option = select.options[i];\n\t\toption.selected = ~value.indexOf(option.__value);\n\t}\n}\n\nexport function select_value(select) {\n\tconst selected_option = select.querySelector(':checked');\n\treturn selected_option && selected_option.__value;\n}\n\nexport function select_multiple_value(select) {\n\treturn [].map.call(select.querySelectorAll(':checked'), (option) => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\n\n/**\n * @type {boolean} */\nlet crossorigin;\n\n/**\n * @returns {boolean} */\nexport function is_crossorigin() {\n\tif (crossorigin === undefined) {\n\t\tcrossorigin = false;\n\t\ttry {\n\t\t\tif (typeof window !== 'undefined' && window.parent) {\n\t\t\t\tvoid window.parent.document;\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tcrossorigin = true;\n\t\t}\n\t}\n\treturn crossorigin;\n}\n\n/**\n * @param {HTMLElement} node\n * @param {() => void} fn\n * @returns {() => void}\n */\nexport function add_iframe_resize_listener(node, fn) {\n\tconst computed_style = getComputedStyle(node);\n\tif (computed_style.position === 'static') {\n\t\tnode.style.position = 'relative';\n\t}\n\tconst iframe = element('iframe');\n\tiframe.setAttribute(\n\t\t'style',\n\t\t'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n\t\t\t'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;'\n\t);\n\tiframe.setAttribute('aria-hidden', 'true');\n\tiframe.tabIndex = -1;\n\tconst crossorigin = is_crossorigin();\n\n\t/**\n\t * @type {() => void}\n\t */\n\tlet unsubscribe;\n\tif (crossorigin) {\n\t\tiframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n\t\tunsubscribe = listen(\n\t\t\twindow,\n\t\t\t'message',\n\t\t\t/** @param {MessageEvent} event */ (event) => {\n\t\t\t\tif (event.source === iframe.contentWindow) fn();\n\t\t\t}\n\t\t);\n\t} else {\n\t\tiframe.src = 'about:blank';\n\t\tiframe.onload = () => {\n\t\t\tunsubscribe = listen(iframe.contentWindow, 'resize', fn);\n\t\t\t// make sure an initial resize event is fired _after_ the iframe is loaded (which is asynchronous)\n\t\t\t// see https://github.com/sveltejs/svelte/issues/4233\n\t\t\tfn();\n\t\t};\n\t}\n\tappend(node, iframe);\n\treturn () => {\n\t\tif (crossorigin) {\n\t\t\tunsubscribe();\n\t\t} else if (unsubscribe && iframe.contentWindow) {\n\t\t\tunsubscribe();\n\t\t}\n\t\tdetach(iframe);\n\t};\n}\nexport const resize_observer_content_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'content-box'\n});\nexport const resize_observer_border_box = /* @__PURE__ */ new ResizeObserverSingleton({\n\tbox: 'border-box'\n});\nexport const resize_observer_device_pixel_content_box = /* @__PURE__ */ new ResizeObserverSingleton(\n\t{ box: 'device-pixel-content-box' }\n);\nexport { ResizeObserverSingleton };\n\n/**\n * @returns {void} */\nexport function toggle_class(element, name, toggle) {\n\t// The `!!` is required because an `undefined` flag means flipping the current state.\n\telement.classList.toggle(name, !!toggle);\n}\n\n/**\n * @template T\n * @param {string} type\n * @param {T} [detail]\n * @param {{ bubbles?: boolean, cancelable?: boolean }} [options]\n * @returns {CustomEvent<T>}\n */\nexport function custom_event(type, detail, { bubbles = false, cancelable = false } = {}) {\n\treturn new CustomEvent(type, { detail, bubbles, cancelable });\n}\n\n/**\n * @param {string} selector\n * @param {HTMLElement} parent\n * @returns {ChildNodeArray}\n */\nexport function query_selector_all(selector, parent = document.body) {\n\treturn Array.from(parent.querySelectorAll(selector));\n}\n\n/**\n * @param {string} nodeId\n * @param {HTMLElement} head\n * @returns {any[]}\n */\nexport function head_selector(nodeId, head) {\n\tconst result = [];\n\tlet started = 0;\n\tfor (const node of head.childNodes) {\n\t\tif (node.nodeType === 8 /* comment node */) {\n\t\t\tconst comment = node.textContent.trim();\n\t\t\tif (comment === `HEAD_${nodeId}_END`) {\n\t\t\t\tstarted -= 1;\n\t\t\t\tresult.push(node);\n\t\t\t} else if (comment === `HEAD_${nodeId}_START`) {\n\t\t\t\tstarted += 1;\n\t\t\t\tresult.push(node);\n\t\t\t}\n\t\t} else if (started > 0) {\n\t\t\tresult.push(node);\n\t\t}\n\t}\n\treturn result;\n}\n/** */\nexport class HtmlTag {\n\t/**\n\t * @private\n\t * @default false\n\t */\n\tis_svg = false;\n\t/** parent for creating node */\n\te = undefined;\n\t/** html tag nodes */\n\tn = undefined;\n\t/** target */\n\tt = undefined;\n\t/** anchor */\n\ta = undefined;\n\tconstructor(is_svg = false) {\n\t\tthis.is_svg = is_svg;\n\t\tthis.e = this.n = null;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tthis.h(html);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @param {HTMLElement | SVGElement} target\n\t * @param {HTMLElement | SVGElement} anchor\n\t * @returns {void}\n\t */\n\tm(html, target, anchor = null) {\n\t\tif (!this.e) {\n\t\t\tif (this.is_svg)\n\t\t\t\tthis.e = svg_element(/** @type {keyof SVGElementTagNameMap} */ (target.nodeName));\n\t\t\t/** #7364  target for <template> may be provided as #document-fragment(11) */ else\n\t\t\t\tthis.e = element(\n\t\t\t\t\t/** @type {keyof HTMLElementTagNameMap} */ (\n\t\t\t\t\t\ttarget.nodeType === 11 ? 'TEMPLATE' : target.nodeName\n\t\t\t\t\t)\n\t\t\t\t);\n\t\t\tthis.t =\n\t\t\t\ttarget.tagName !== 'TEMPLATE'\n\t\t\t\t\t? target\n\t\t\t\t\t: /** @type {HTMLTemplateElement} */ (target).content;\n\t\t\tthis.c(html);\n\t\t}\n\t\tthis.i(anchor);\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\th(html) {\n\t\tthis.e.innerHTML = html;\n\t\tthis.n = Array.from(\n\t\t\tthis.e.nodeName === 'TEMPLATE' ? this.e.content.childNodes : this.e.childNodes\n\t\t);\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert(this.t, this.n[i], anchor);\n\t\t}\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tp(html) {\n\t\tthis.d();\n\t\tthis.h(html);\n\t\tthis.i(this.a);\n\t}\n\n\t/**\n\t * @returns {void} */\n\td() {\n\t\tthis.n.forEach(detach);\n\t}\n}\n\nexport class HtmlTagHydration extends HtmlTag {\n\t/** @type {Element[]} hydration claimed nodes */\n\tl = undefined;\n\n\tconstructor(is_svg = false, claimed_nodes) {\n\t\tsuper(is_svg);\n\t\tthis.e = this.n = null;\n\t\tthis.l = claimed_nodes;\n\t}\n\n\t/**\n\t * @param {string} html\n\t * @returns {void}\n\t */\n\tc(html) {\n\t\tif (this.l) {\n\t\t\tthis.n = this.l;\n\t\t} else {\n\t\t\tsuper.c(html);\n\t\t}\n\t}\n\n\t/**\n\t * @returns {void} */\n\ti(anchor) {\n\t\tfor (let i = 0; i < this.n.length; i += 1) {\n\t\t\tinsert_hydration(this.t, this.n[i], anchor);\n\t\t}\n\t}\n}\n\n/**\n * @param {NamedNodeMap} attributes\n * @returns {{}}\n */\nexport function attribute_to_object(attributes) {\n\tconst result = {};\n\tfor (const attribute of attributes) {\n\t\tresult[attribute.name] = attribute.value;\n\t}\n\treturn result;\n}\n\nconst escaped = {\n\t'\"': '&quot;',\n\t'&': '&amp;',\n\t'<': '&lt;'\n};\n\nconst regex_attribute_characters_to_escape = /[\"&<]/g;\n\n/**\n * Note that the attribute itself should be surrounded in double quotes\n * @param {any} attribute\n */\nfunction escape_attribute(attribute) {\n\treturn String(attribute).replace(regex_attribute_characters_to_escape, (match) => escaped[match]);\n}\n\n/**\n * @param {Record<string, string>} attributes\n */\nexport function stringify_spread(attributes) {\n\tlet str = ' ';\n\tfor (const key in attributes) {\n\t\tif (attributes[key] != null) {\n\t\t\tstr += `${key}=\"${escape_attribute(attributes[key])}\" `;\n\t\t}\n\t}\n\n\treturn str;\n}\n\n/**\n * @param {HTMLElement} element\n * @returns {{}}\n */\nexport function get_custom_elements_slots(element) {\n\tconst result = {};\n\telement.childNodes.forEach(\n\t\t/** @param {Element} node */ (node) => {\n\t\t\tresult[node.slot || 'default'] = true;\n\t\t}\n\t);\n\treturn result;\n}\n\nexport function construct_svelte_component(component, props) {\n\treturn new component(props);\n}\n\n/**\n * @typedef {Node & {\n * \tclaim_order?: number;\n * \thydrate_init?: true;\n * \tactual_end_child?: NodeEx;\n * \tchildNodes: NodeListOf<NodeEx>;\n * }} NodeEx\n */\n\n/** @typedef {ChildNode & NodeEx} ChildNodeEx */\n\n/** @typedef {NodeEx & { claim_order: number }} NodeEx2 */\n\n/**\n * @typedef {ChildNodeEx[] & {\n * \tclaim_info?: {\n * \t\tlast_index: number;\n * \t\ttotal_claimed: number;\n * \t};\n * }} ChildNodeArray\n */\n", "import { append_empty_stylesheet, detach, get_root_for_style } from './dom.js';\nimport { raf } from './environment.js';\n\n// we need to store the information for multiple documents because a Svelte application could also contain iframes\n// https://github.com/sveltejs/svelte/issues/3624\n/** @type {Map<Document | ShadowRoot, import('./private.d.ts').StyleInformation>} */\nconst managed_styles = new Map();\n\nlet active = 0;\n\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\n/**\n * @param {string} str\n * @returns {number}\n */\nfunction hash(str) {\n\tlet hash = 5381;\n\tlet i = str.length;\n\twhile (i--) hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n\treturn hash >>> 0;\n}\n\n/**\n * @param {Document | ShadowRoot} doc\n * @param {Element & ElementCSSInlineStyle} node\n * @returns {{ stylesheet: any; rules: {}; }}\n */\nfunction create_style_information(doc, node) {\n\tconst info = { stylesheet: append_empty_stylesheet(node), rules: {} };\n\tmanaged_styles.set(doc, info);\n\treturn info;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {number} a\n * @param {number} b\n * @param {number} duration\n * @param {number} delay\n * @param {(t: number) => number} ease\n * @param {(t: number, u: number) => string} fn\n * @param {number} uid\n * @returns {string}\n */\nexport function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n\tconst step = 16.666 / duration;\n\tlet keyframes = '{\\n';\n\tfor (let p = 0; p <= 1; p += step) {\n\t\tconst t = a + (b - a) * ease(p);\n\t\tkeyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n\t}\n\tconst rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n\tconst name = `__svelte_${hash(rule)}_${uid}`;\n\tconst doc = get_root_for_style(node);\n\tconst { stylesheet, rules } = managed_styles.get(doc) || create_style_information(doc, node);\n\tif (!rules[name]) {\n\t\trules[name] = true;\n\t\tstylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n\t}\n\tconst animation = node.style.animation || '';\n\tnode.style.animation = `${\n\t\tanimation ? `${animation}, ` : ''\n\t}${name} ${duration}ms linear ${delay}ms 1 both`;\n\tactive += 1;\n\treturn name;\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {string} [name]\n * @returns {void}\n */\nexport function delete_rule(node, name) {\n\tconst previous = (node.style.animation || '').split(', ');\n\tconst next = previous.filter(\n\t\tname\n\t\t\t? (anim) => anim.indexOf(name) < 0 // remove specific animation\n\t\t\t: (anim) => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n\t);\n\tconst deleted = previous.length - next.length;\n\tif (deleted) {\n\t\tnode.style.animation = next.join(', ');\n\t\tactive -= deleted;\n\t\tif (!active) clear_rules();\n\t}\n}\n\n/** @returns {void} */\nexport function clear_rules() {\n\traf(() => {\n\t\tif (active) return;\n\t\tmanaged_styles.forEach((info) => {\n\t\t\tconst { ownerNode } = info.stylesheet;\n\t\t\t// there is no ownerNode if it runs on jsdom.\n\t\t\tif (ownerNode) detach(ownerNode);\n\t\t});\n\t\tmanaged_styles.clear();\n\t});\n}\n", "import { custom_event } from './dom.js';\n\nexport let current_component;\n\n/** @returns {void} */\nexport function set_current_component(component) {\n\tcurrent_component = component;\n}\n\nexport function get_current_component() {\n\tif (!current_component) throw new Error('Function called outside component initialization');\n\treturn current_component;\n}\n\n/**\n * Schedules a callback to run immediately before the component is updated after any state change.\n *\n * The first time the callback runs will be before the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#beforeupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function beforeUpdate(fn) {\n\tget_current_component().$$.before_update.push(fn);\n}\n\n/**\n * The `onMount` function schedules a callback to run as soon as the component has been mounted to the DOM.\n * It must be called during the component's initialisation (but doesn't need to live *inside* the component;\n * it can be called from an external module).\n *\n * If a function is returned _synchronously_ from `onMount`, it will be called when the component is unmounted.\n *\n * `onMount` does not run inside a [server-side component](https://svelte.dev/docs#run-time-server-side-component-api).\n *\n * https://svelte.dev/docs/svelte#onmount\n * @template T\n * @param {() => import('./private.js').NotFunction<T> | Promise<import('./private.js').NotFunction<T>> | (() => any)} fn\n * @returns {void}\n */\nexport function onMount(fn) {\n\tget_current_component().$$.on_mount.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately after the component has been updated.\n *\n * The first time the callback runs will be after the initial `onMount`\n *\n * https://svelte.dev/docs/svelte#afterupdate\n * @param {() => any} fn\n * @returns {void}\n */\nexport function afterUpdate(fn) {\n\tget_current_component().$$.after_update.push(fn);\n}\n\n/**\n * Schedules a callback to run immediately before the component is unmounted.\n *\n * Out of `onMount`, `beforeUpdate`, `afterUpdate` and `onDestroy`, this is the\n * only one that runs inside a server-side component.\n *\n * https://svelte.dev/docs/svelte#ondestroy\n * @param {() => any} fn\n * @returns {void}\n */\nexport function onDestroy(fn) {\n\tget_current_component().$$.on_destroy.push(fn);\n}\n\n/**\n * Creates an event dispatcher that can be used to dispatch [component events](https://svelte.dev/docs#template-syntax-component-directives-on-eventname).\n * Event dispatchers are functions that can take two arguments: `name` and `detail`.\n *\n * Component events created with `createEventDispatcher` create a\n * [CustomEvent](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent).\n * These events do not [bubble](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture).\n * The `detail` argument corresponds to the [CustomEvent.detail](https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/detail)\n * property and can contain any type of data.\n *\n * The event dispatcher can be typed to narrow the allowed event names and the type of the `detail` argument:\n * ```ts\n * const dispatch = createEventDispatcher<{\n *  loaded: never; // does not take a detail argument\n *  change: string; // takes a detail argument of type string, which is required\n *  optional: number | null; // takes an optional detail argument of type number\n * }>();\n * ```\n *\n * https://svelte.dev/docs/svelte#createeventdispatcher\n * @template {Record<string, any>} [EventMap=any]\n * @returns {import('./public.js').EventDispatcher<EventMap>}\n */\nexport function createEventDispatcher() {\n\tconst component = get_current_component();\n\treturn (type, detail, { cancelable = false } = {}) => {\n\t\tconst callbacks = component.$$.callbacks[type];\n\t\tif (callbacks) {\n\t\t\t// TODO are there situations where events could be dispatched\n\t\t\t// in a server (non-DOM) environment?\n\t\t\tconst event = custom_event(/** @type {string} */ (type), detail, { cancelable });\n\t\t\tcallbacks.slice().forEach((fn) => {\n\t\t\t\tfn.call(component, event);\n\t\t\t});\n\t\t\treturn !event.defaultPrevented;\n\t\t}\n\t\treturn true;\n\t};\n}\n\n/**\n * Associates an arbitrary `context` object with the current component and the specified `key`\n * and returns that object. The context is then available to children of the component\n * (including slotted content) with `getContext`.\n *\n * Like lifecycle functions, this must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#setcontext\n * @template T\n * @param {any} key\n * @param {T} context\n * @returns {T}\n */\nexport function setContext(key, context) {\n\tget_current_component().$$.context.set(key, context);\n\treturn context;\n}\n\n/**\n * Retrieves the context that belongs to the closest parent component with the specified `key`.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#getcontext\n * @template T\n * @param {any} key\n * @returns {T}\n */\nexport function getContext(key) {\n\treturn get_current_component().$$.context.get(key);\n}\n\n/**\n * Retrieves the whole context map that belongs to the closest parent component.\n * Must be called during component initialisation. Useful, for example, if you\n * programmatically create a component and want to pass the existing context to it.\n *\n * https://svelte.dev/docs/svelte#getallcontexts\n * @template {Map<any, any>} [T=Map<any, any>]\n * @returns {T}\n */\nexport function getAllContexts() {\n\treturn get_current_component().$$.context;\n}\n\n/**\n * Checks whether a given `key` has been set in the context of a parent component.\n * Must be called during component initialisation.\n *\n * https://svelte.dev/docs/svelte#hascontext\n * @param {any} key\n * @returns {boolean}\n */\nexport function hasContext(key) {\n\treturn get_current_component().$$.context.has(key);\n}\n\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\n/**\n * @param component\n * @param event\n * @returns {void}\n */\nexport function bubble(component, event) {\n\tconst callbacks = component.$$.callbacks[event.type];\n\tif (callbacks) {\n\t\t// @ts-ignore\n\t\tcallbacks.slice().forEach((fn) => fn.call(this, event));\n\t}\n}\n", "import { run_all } from './utils.js';\nimport { current_component, set_current_component } from './lifecycle.js';\n\nexport const dirty_components = [];\nexport const intros = { enabled: false };\nexport const binding_callbacks = [];\n\nlet render_callbacks = [];\n\nconst flush_callbacks = [];\n\nconst resolved_promise = /* @__PURE__ */ Promise.resolve();\n\nlet update_scheduled = false;\n\n/** @returns {void} */\nexport function schedule_update() {\n\tif (!update_scheduled) {\n\t\tupdate_scheduled = true;\n\t\tresolved_promise.then(flush);\n\t}\n}\n\n/** @returns {Promise<void>} */\nexport function tick() {\n\tschedule_update();\n\treturn resolved_promise;\n}\n\n/** @returns {void} */\nexport function add_render_callback(fn) {\n\trender_callbacks.push(fn);\n}\n\n/** @returns {void} */\nexport function add_flush_callback(fn) {\n\tflush_callbacks.push(fn);\n}\n\n// flush() calls callbacks in this order:\n// 1. All beforeUpdate callbacks, in order: parents before children\n// 2. All bind:this callbacks, in reverse order: children before parents.\n// 3. All afterUpdate callbacks, in order: parents before children. EXCEPT\n//    for afterUpdates called during the initial onMount, which are called in\n//    reverse order: children before parents.\n// Since callbacks might update component values, which could trigger another\n// call to flush(), the following steps guard against this:\n// 1. During beforeUpdate, any updated components will be added to the\n//    dirty_components array and will cause a reentrant call to flush(). Because\n//    the flush index is kept outside the function, the reentrant call will pick\n//    up where the earlier call left off and go through all dirty components. The\n//    current_component value is saved and restored so that the reentrant call will\n//    not interfere with the \"parent\" flush() call.\n// 2. bind:this callbacks cannot trigger new flush() calls.\n// 3. During afterUpdate, any updated components will NOT have their afterUpdate\n//    callback called a second time; the seen_callbacks set, outside the flush()\n//    function, guarantees this behavior.\nconst seen_callbacks = new Set();\n\nlet flushidx = 0; // Do *not* move this inside the flush() function\n\n/** @returns {void} */\nexport function flush() {\n\t// Do not reenter flush while dirty components are updated, as this can\n\t// result in an infinite loop. Instead, let the inner flush handle it.\n\t// Reentrancy is ok afterwards for bindings etc.\n\tif (flushidx !== 0) {\n\t\treturn;\n\t}\n\tconst saved_component = current_component;\n\tdo {\n\t\t// first, call beforeUpdate functions\n\t\t// and update components\n\t\ttry {\n\t\t\twhile (flushidx < dirty_components.length) {\n\t\t\t\tconst component = dirty_components[flushidx];\n\t\t\t\tflushidx++;\n\t\t\t\tset_current_component(component);\n\t\t\t\tupdate(component.$$);\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t// reset dirty state to not end up in a deadlocked state and then rethrow\n\t\t\tdirty_components.length = 0;\n\t\t\tflushidx = 0;\n\t\t\tthrow e;\n\t\t}\n\t\tset_current_component(null);\n\t\tdirty_components.length = 0;\n\t\tflushidx = 0;\n\t\twhile (binding_callbacks.length) binding_callbacks.pop()();\n\t\t// then, once components are updated, call\n\t\t// afterUpdate functions. This may cause\n\t\t// subsequent updates...\n\t\tfor (let i = 0; i < render_callbacks.length; i += 1) {\n\t\t\tconst callback = render_callbacks[i];\n\t\t\tif (!seen_callbacks.has(callback)) {\n\t\t\t\t// ...so guard against infinite loops\n\t\t\t\tseen_callbacks.add(callback);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t}\n\t\trender_callbacks.length = 0;\n\t} while (dirty_components.length);\n\twhile (flush_callbacks.length) {\n\t\tflush_callbacks.pop()();\n\t}\n\tupdate_scheduled = false;\n\tseen_callbacks.clear();\n\tset_current_component(saved_component);\n}\n\n/** @returns {void} */\nfunction update($$) {\n\tif ($$.fragment !== null) {\n\t\t$$.update();\n\t\trun_all($$.before_update);\n\t\tconst dirty = $$.dirty;\n\t\t$$.dirty = [-1];\n\t\t$$.fragment && $$.fragment.p($$.ctx, dirty);\n\t\t$$.after_update.forEach(add_render_callback);\n\t}\n}\n\n/**\n * Useful for example to execute remaining `afterUpdate` callbacks before executing `destroy`.\n * @param {Function[]} fns\n * @returns {void}\n */\nexport function flush_render_callbacks(fns) {\n\tconst filtered = [];\n\tconst targets = [];\n\trender_callbacks.forEach((c) => (fns.indexOf(c) === -1 ? filtered.push(c) : targets.push(c)));\n\ttargets.forEach((c) => c());\n\trender_callbacks = filtered;\n}\n", "import { identity as linear, is_function, noop, run_all } from './utils.js';\nimport { now } from './environment.js';\nimport { loop } from './loop.js';\nimport { create_rule, delete_rule } from './style_manager.js';\nimport { custom_event } from './dom.js';\nimport { add_render_callback } from './scheduler.js';\n\n/**\n * @type {Promise<void> | null}\n */\nlet promise;\n\n/**\n * @returns {Promise<void>}\n */\nfunction wait() {\n\tif (!promise) {\n\t\tpromise = Promise.resolve();\n\t\tpromise.then(() => {\n\t\t\tpromise = null;\n\t\t});\n\t}\n\treturn promise;\n}\n\n/**\n * @param {Element} node\n * @param {INTRO | OUTRO | boolean} direction\n * @param {'start' | 'end'} kind\n * @returns {void}\n */\nfunction dispatch(node, direction, kind) {\n\tnode.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\n\nconst outroing = new Set();\n\n/**\n * @type {Outro}\n */\nlet outros;\n\n/**\n * @returns {void} */\nexport function group_outros() {\n\toutros = {\n\t\tr: 0,\n\t\tc: [],\n\t\tp: outros // parent group\n\t};\n}\n\n/**\n * @returns {void} */\nexport function check_outros() {\n\tif (!outros.r) {\n\t\trun_all(outros.c);\n\t}\n\toutros = outros.p;\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} [local]\n * @returns {void}\n */\nexport function transition_in(block, local) {\n\tif (block && block.i) {\n\t\toutroing.delete(block);\n\t\tblock.i(local);\n\t}\n}\n\n/**\n * @param {import('./private.js').Fragment} block\n * @param {0 | 1} local\n * @param {0 | 1} [detach]\n * @param {() => void} [callback]\n * @returns {void}\n */\nexport function transition_out(block, local, detach, callback) {\n\tif (block && block.o) {\n\t\tif (outroing.has(block)) return;\n\t\toutroing.add(block);\n\t\toutros.c.push(() => {\n\t\t\toutroing.delete(block);\n\t\t\tif (callback) {\n\t\t\t\tif (detach) block.d(1);\n\t\t\t\tcallback();\n\t\t\t}\n\t\t});\n\t\tblock.o(local);\n\t} else if (callback) {\n\t\tcallback();\n\t}\n}\n\n/**\n * @type {import('../transition/public.js').TransitionConfig}\n */\nconst null_transition = { duration: 0 };\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ start(): void; invalidate(): void; end(): void; }}\n */\nexport function create_in_transition(node, fn, params) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'in' };\n\tlet config = fn(node, params, options);\n\tlet running = false;\n\tlet animation_name;\n\tlet task;\n\tlet uid = 0;\n\n\t/**\n\t * @returns {void} */\n\tfunction cleanup() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\t\tif (css) animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n\t\ttick(0, 1);\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tif (task) task.abort();\n\t\trunning = true;\n\t\tadd_render_callback(() => dispatch(node, true, 'start'));\n\t\ttask = loop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(1, 0);\n\t\t\t\t\tdispatch(node, true, 'end');\n\t\t\t\t\tcleanup();\n\t\t\t\t\treturn (running = false);\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\tlet started = false;\n\treturn {\n\t\tstart() {\n\t\t\tif (started) return;\n\t\t\tstarted = true;\n\t\t\tdelete_rule(node);\n\t\t\tif (is_function(config)) {\n\t\t\t\tconfig = config(options);\n\t\t\t\twait().then(go);\n\t\t\t} else {\n\t\t\t\tgo();\n\t\t\t}\n\t\t},\n\t\tinvalidate() {\n\t\t\tstarted = false;\n\t\t},\n\t\tend() {\n\t\t\tif (running) {\n\t\t\t\tcleanup();\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @returns {{ end(reset: any): void; }}\n */\nexport function create_out_transition(node, fn, params) {\n\t/** @type {TransitionOptions} */\n\tconst options = { direction: 'out' };\n\tlet config = fn(node, params, options);\n\tlet running = true;\n\tlet animation_name;\n\tconst group = outros;\n\tgroup.r += 1;\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction go() {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\tif (css) animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n\n\t\tconst start_time = now() + delay;\n\t\tconst end_time = start_time + duration;\n\t\tadd_render_callback(() => dispatch(node, false, 'start'));\n\n\t\tif ('inert' in node) {\n\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\tnode.inert = true;\n\t\t}\n\n\t\tloop((now) => {\n\t\t\tif (running) {\n\t\t\t\tif (now >= end_time) {\n\t\t\t\t\ttick(0, 1);\n\t\t\t\t\tdispatch(node, false, 'end');\n\t\t\t\t\tif (!--group.r) {\n\t\t\t\t\t\t// this will result in `end()` being called,\n\t\t\t\t\t\t// so we don't need to clean up here\n\t\t\t\t\t\trun_all(group.c);\n\t\t\t\t\t}\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tif (now >= start_time) {\n\t\t\t\t\tconst t = easing((now - start_time) / duration);\n\t\t\t\t\ttick(1 - t, t);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn running;\n\t\t});\n\t}\n\n\tif (is_function(config)) {\n\t\twait().then(() => {\n\t\t\t// @ts-ignore\n\t\t\tconfig = config(options);\n\t\t\tgo();\n\t\t});\n\t} else {\n\t\tgo();\n\t}\n\n\treturn {\n\t\tend(reset) {\n\t\t\tif (reset && 'inert' in node) {\n\t\t\t\tnode.inert = original_inert_value;\n\t\t\t}\n\t\t\tif (reset && config.tick) {\n\t\t\t\tconfig.tick(1, 0);\n\t\t\t}\n\t\t\tif (running) {\n\t\t\t\tif (animation_name) delete_rule(node, animation_name);\n\t\t\t\trunning = false;\n\t\t\t}\n\t\t}\n\t};\n}\n\n/**\n * @param {Element & ElementCSSInlineStyle} node\n * @param {TransitionFn} fn\n * @param {any} params\n * @param {boolean} intro\n * @returns {{ run(b: 0 | 1): void; end(): void; }}\n */\nexport function create_bidirectional_transition(node, fn, params, intro) {\n\t/**\n\t * @type {TransitionOptions} */\n\tconst options = { direction: 'both' };\n\tlet config = fn(node, params, options);\n\tlet t = intro ? 0 : 1;\n\n\t/**\n\t * @type {Program | null} */\n\tlet running_program = null;\n\n\t/**\n\t * @type {PendingProgram | null} */\n\tlet pending_program = null;\n\tlet animation_name = null;\n\n\t/** @type {boolean} */\n\tlet original_inert_value;\n\n\t/**\n\t * @returns {void} */\n\tfunction clear_animation() {\n\t\tif (animation_name) delete_rule(node, animation_name);\n\t}\n\n\t/**\n\t * @param {PendingProgram} program\n\t * @param {number} duration\n\t * @returns {Program}\n\t */\n\tfunction init(program, duration) {\n\t\tconst d = /** @type {Program['d']} */ (program.b - t);\n\t\tduration *= Math.abs(d);\n\t\treturn {\n\t\t\ta: t,\n\t\t\tb: program.b,\n\t\t\td,\n\t\t\tduration,\n\t\t\tstart: program.start,\n\t\t\tend: program.start + duration,\n\t\t\tgroup: program.group\n\t\t};\n\t}\n\n\t/**\n\t * @param {INTRO | OUTRO} b\n\t * @returns {void}\n\t */\n\tfunction go(b) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = 300,\n\t\t\teasing = linear,\n\t\t\ttick = noop,\n\t\t\tcss\n\t\t} = config || null_transition;\n\n\t\t/**\n\t\t * @type {PendingProgram} */\n\t\tconst program = {\n\t\t\tstart: now() + delay,\n\t\t\tb\n\t\t};\n\n\t\tif (!b) {\n\t\t\t// @ts-ignore todo: improve typings\n\t\t\tprogram.group = outros;\n\t\t\toutros.r += 1;\n\t\t}\n\n\t\tif ('inert' in node) {\n\t\t\tif (b) {\n\t\t\t\tif (original_inert_value !== undefined) {\n\t\t\t\t\t// aborted/reversed outro \u2014 restore previous inert value\n\t\t\t\t\tnode.inert = original_inert_value;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toriginal_inert_value = /** @type {HTMLElement} */ (node).inert;\n\t\t\t\tnode.inert = true;\n\t\t\t}\n\t\t}\n\n\t\tif (running_program || pending_program) {\n\t\t\tpending_program = program;\n\t\t} else {\n\t\t\t// if this is an intro, and there's a delay, we need to do\n\t\t\t// an initial tick and/or apply CSS animation immediately\n\t\t\tif (css) {\n\t\t\t\tclear_animation();\n\t\t\t\tanimation_name = create_rule(node, t, b, duration, delay, easing, css);\n\t\t\t}\n\t\t\tif (b) tick(0, 1);\n\t\t\trunning_program = init(program, duration);\n\t\t\tadd_render_callback(() => dispatch(node, b, 'start'));\n\t\t\tloop((now) => {\n\t\t\t\tif (pending_program && now > pending_program.start) {\n\t\t\t\t\trunning_program = init(pending_program, duration);\n\t\t\t\t\tpending_program = null;\n\t\t\t\t\tdispatch(node, running_program.b, 'start');\n\t\t\t\t\tif (css) {\n\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\tanimation_name = create_rule(\n\t\t\t\t\t\t\tnode,\n\t\t\t\t\t\t\tt,\n\t\t\t\t\t\t\trunning_program.b,\n\t\t\t\t\t\t\trunning_program.duration,\n\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\teasing,\n\t\t\t\t\t\t\tconfig.css\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (running_program) {\n\t\t\t\t\tif (now >= running_program.end) {\n\t\t\t\t\t\ttick((t = running_program.b), 1 - t);\n\t\t\t\t\t\tdispatch(node, running_program.b, 'end');\n\t\t\t\t\t\tif (!pending_program) {\n\t\t\t\t\t\t\t// we're done\n\t\t\t\t\t\t\tif (running_program.b) {\n\t\t\t\t\t\t\t\t// intro \u2014 we can tidy up immediately\n\t\t\t\t\t\t\t\tclear_animation();\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t// outro \u2014 needs to be coordinated\n\t\t\t\t\t\t\t\tif (!--running_program.group.r) run_all(running_program.group.c);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\trunning_program = null;\n\t\t\t\t\t} else if (now >= running_program.start) {\n\t\t\t\t\t\tconst p = now - running_program.start;\n\t\t\t\t\t\tt = running_program.a + running_program.d * easing(p / running_program.duration);\n\t\t\t\t\t\ttick(t, 1 - t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn !!(running_program || pending_program);\n\t\t\t});\n\t\t}\n\t}\n\treturn {\n\t\trun(b) {\n\t\t\tif (is_function(config)) {\n\t\t\t\twait().then(() => {\n\t\t\t\t\tconst opts = { direction: b ? 'in' : 'out' };\n\t\t\t\t\t// @ts-ignore\n\t\t\t\t\tconfig = config(opts);\n\t\t\t\t\tgo(b);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tgo(b);\n\t\t\t}\n\t\t},\n\t\tend() {\n\t\t\tclear_animation();\n\t\t\trunning_program = pending_program = null;\n\t\t}\n\t};\n}\n\n/** @typedef {1} INTRO */\n/** @typedef {0} OUTRO */\n/** @typedef {{ direction: 'in' | 'out' | 'both' }} TransitionOptions */\n/** @typedef {(node: Element, params: any, options: TransitionOptions) => import('../transition/public.js').TransitionConfig} TransitionFn */\n\n/**\n * @typedef {Object} Outro\n * @property {number} r\n * @property {Function[]} c\n * @property {Object} p\n */\n\n/**\n * @typedef {Object} PendingProgram\n * @property {number} start\n * @property {INTRO|OUTRO} b\n * @property {Outro} [group]\n */\n\n/**\n * @typedef {Object} Program\n * @property {number} a\n * @property {INTRO|OUTRO} b\n * @property {1|-1} d\n * @property {number} duration\n * @property {number} start\n * @property {number} end\n * @property {Outro} [group]\n */\n", "import { is_promise } from './utils.js';\nimport { check_outros, group_outros, transition_in, transition_out } from './transitions.js';\nimport { flush } from './scheduler.js';\nimport { get_current_component, set_current_component } from './lifecycle.js';\n\n/**\n * @template T\n * @param {Promise<T>} promise\n * @param {import('./private.js').PromiseInfo<T>} info\n * @returns {boolean}\n */\nexport function handle_promise(promise, info) {\n\tconst token = (info.token = {});\n\t/**\n\t * @param {import('./private.js').FragmentFactory} type\n\t * @param {0 | 1 | 2} index\n\t * @param {number} [key]\n\t * @param {any} [value]\n\t * @returns {void}\n\t */\n\tfunction update(type, index, key, value) {\n\t\tif (info.token !== token) return;\n\t\tinfo.resolved = value;\n\t\tlet child_ctx = info.ctx;\n\t\tif (key !== undefined) {\n\t\t\tchild_ctx = child_ctx.slice();\n\t\t\tchild_ctx[key] = value;\n\t\t}\n\t\tconst block = type && (info.current = type)(child_ctx);\n\t\tlet needs_flush = false;\n\t\tif (info.block) {\n\t\t\tif (info.blocks) {\n\t\t\t\tinfo.blocks.forEach((block, i) => {\n\t\t\t\t\tif (i !== index && block) {\n\t\t\t\t\t\tgroup_outros();\n\t\t\t\t\t\ttransition_out(block, 1, 1, () => {\n\t\t\t\t\t\t\tif (info.blocks[i] === block) {\n\t\t\t\t\t\t\t\tinfo.blocks[i] = null;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcheck_outros();\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tinfo.block.d(1);\n\t\t\t}\n\t\t\tblock.c();\n\t\t\ttransition_in(block, 1);\n\t\t\tblock.m(info.mount(), info.anchor);\n\t\t\tneeds_flush = true;\n\t\t}\n\t\tinfo.block = block;\n\t\tif (info.blocks) info.blocks[index] = block;\n\t\tif (needs_flush) {\n\t\t\tflush();\n\t\t}\n\t}\n\tif (is_promise(promise)) {\n\t\tconst current_component = get_current_component();\n\t\tpromise.then(\n\t\t\t(value) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.then, 1, info.value, value);\n\t\t\t\tset_current_component(null);\n\t\t\t},\n\t\t\t(error) => {\n\t\t\t\tset_current_component(current_component);\n\t\t\t\tupdate(info.catch, 2, info.error, error);\n\t\t\t\tset_current_component(null);\n\t\t\t\tif (!info.hasCatch) {\n\t\t\t\t\tthrow error;\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\t\t// if we previously had a then/catch block, destroy it\n\t\tif (info.current !== info.pending) {\n\t\t\tupdate(info.pending, 0);\n\t\t\treturn true;\n\t\t}\n\t} else {\n\t\tif (info.current !== info.then) {\n\t\t\tupdate(info.then, 1, info.value, promise);\n\t\t\treturn true;\n\t\t}\n\t\tinfo.resolved = /** @type {T} */ (promise);\n\t}\n}\n\n/** @returns {void} */\nexport function update_await_block_branch(info, ctx, dirty) {\n\tconst child_ctx = ctx.slice();\n\tconst { resolved } = info;\n\tif (info.current === info.then) {\n\t\tchild_ctx[info.value] = resolved;\n\t}\n\tif (info.current === info.catch) {\n\t\tchild_ctx[info.error] = resolved;\n\t}\n\tinfo.block.p(child_ctx, dirty);\n}\n", "import { transition_in, transition_out } from './transitions.js';\nimport { run_all } from './utils.js';\n\n// general each functions:\n\nexport function ensure_array_like(array_like_or_iterator) {\n\treturn array_like_or_iterator?.length !== undefined\n\t\t? array_like_or_iterator\n\t\t: Array.from(array_like_or_iterator);\n}\n\n// keyed each functions:\n\n/** @returns {void} */\nexport function destroy_block(block, lookup) {\n\tblock.d(1);\n\tlookup.delete(block.key);\n}\n\n/** @returns {void} */\nexport function outro_and_destroy_block(block, lookup) {\n\ttransition_out(block, 1, 1, () => {\n\t\tlookup.delete(block.key);\n\t});\n}\n\n/** @returns {void} */\nexport function fix_and_destroy_block(block, lookup) {\n\tblock.f();\n\tdestroy_block(block, lookup);\n}\n\n/** @returns {void} */\nexport function fix_and_outro_and_destroy_block(block, lookup) {\n\tblock.f();\n\toutro_and_destroy_block(block, lookup);\n}\n\n/** @returns {any[]} */\nexport function update_keyed_each(\n\told_blocks,\n\tdirty,\n\tget_key,\n\tdynamic,\n\tctx,\n\tlist,\n\tlookup,\n\tnode,\n\tdestroy,\n\tcreate_each_block,\n\tnext,\n\tget_context\n) {\n\tlet o = old_blocks.length;\n\tlet n = list.length;\n\tlet i = o;\n\tconst old_indexes = {};\n\twhile (i--) old_indexes[old_blocks[i].key] = i;\n\tconst new_blocks = [];\n\tconst new_lookup = new Map();\n\tconst deltas = new Map();\n\tconst updates = [];\n\ti = n;\n\twhile (i--) {\n\t\tconst child_ctx = get_context(ctx, list, i);\n\t\tconst key = get_key(child_ctx);\n\t\tlet block = lookup.get(key);\n\t\tif (!block) {\n\t\t\tblock = create_each_block(key, child_ctx);\n\t\t\tblock.c();\n\t\t} else if (dynamic) {\n\t\t\t// defer updates until all the DOM shuffling is done\n\t\t\tupdates.push(() => block.p(child_ctx, dirty));\n\t\t}\n\t\tnew_lookup.set(key, (new_blocks[i] = block));\n\t\tif (key in old_indexes) deltas.set(key, Math.abs(i - old_indexes[key]));\n\t}\n\tconst will_move = new Set();\n\tconst did_move = new Set();\n\t/** @returns {void} */\n\tfunction insert(block) {\n\t\ttransition_in(block, 1);\n\t\tblock.m(node, next);\n\t\tlookup.set(block.key, block);\n\t\tnext = block.first;\n\t\tn--;\n\t}\n\twhile (o && n) {\n\t\tconst new_block = new_blocks[n - 1];\n\t\tconst old_block = old_blocks[o - 1];\n\t\tconst new_key = new_block.key;\n\t\tconst old_key = old_block.key;\n\t\tif (new_block === old_block) {\n\t\t\t// do nothing\n\t\t\tnext = new_block.first;\n\t\t\to--;\n\t\t\tn--;\n\t\t} else if (!new_lookup.has(old_key)) {\n\t\t\t// remove old block\n\t\t\tdestroy(old_block, lookup);\n\t\t\to--;\n\t\t} else if (!lookup.has(new_key) || will_move.has(new_key)) {\n\t\t\tinsert(new_block);\n\t\t} else if (did_move.has(old_key)) {\n\t\t\to--;\n\t\t} else if (deltas.get(new_key) > deltas.get(old_key)) {\n\t\t\tdid_move.add(new_key);\n\t\t\tinsert(new_block);\n\t\t} else {\n\t\t\twill_move.add(old_key);\n\t\t\to--;\n\t\t}\n\t}\n\twhile (o--) {\n\t\tconst old_block = old_blocks[o];\n\t\tif (!new_lookup.has(old_block.key)) destroy(old_block, lookup);\n\t}\n\twhile (n) insert(new_blocks[n - 1]);\n\trun_all(updates);\n\treturn new_blocks;\n}\n\n/** @returns {void} */\nexport function validate_each_keys(ctx, list, get_context, get_key) {\n\tconst keys = new Map();\n\tfor (let i = 0; i < list.length; i++) {\n\t\tconst key = get_key(get_context(ctx, list, i));\n\t\tif (keys.has(key)) {\n\t\t\tlet value = '';\n\t\t\ttry {\n\t\t\t\tvalue = `with value '${String(key)}' `;\n\t\t\t} catch (e) {\n\t\t\t\t// can't stringify\n\t\t\t}\n\t\t\tthrow new Error(\n\t\t\t\t`Cannot have duplicate keys in a keyed each: Keys at index ${keys.get(\n\t\t\t\t\tkey\n\t\t\t\t)} and ${i} ${value}are duplicates`\n\t\t\t);\n\t\t}\n\t\tkeys.set(key, i);\n\t}\n}\n", "const _boolean_attributes = /** @type {const} */ ([\n\t'allowfullscreen',\n\t'allowpaymentrequest',\n\t'async',\n\t'autofocus',\n\t'autoplay',\n\t'checked',\n\t'controls',\n\t'default',\n\t'defer',\n\t'disabled',\n\t'formnovalidate',\n\t'hidden',\n\t'inert',\n\t'ismap',\n\t'loop',\n\t'multiple',\n\t'muted',\n\t'nomodule',\n\t'novalidate',\n\t'open',\n\t'playsinline',\n\t'readonly',\n\t'required',\n\t'reversed',\n\t'selected'\n]);\n\n/**\n * List of HTML boolean attributes (e.g. `<input disabled>`).\n * Source: https://html.spec.whatwg.org/multipage/indices.html\n *\n * @type {Set<string>}\n */\nexport const boolean_attributes = new Set([..._boolean_attributes]);\n\n/** @typedef {typeof _boolean_attributes[number]} BooleanAttributes */\n", "import {\n\tadd_render_callback,\n\tflush,\n\tflush_render_callbacks,\n\tschedule_update,\n\tdirty_components\n} from './scheduler.js';\nimport { current_component, set_current_component } from './lifecycle.js';\nimport { blank_object, is_empty, is_function, run, run_all, noop } from './utils.js';\nimport {\n\tchildren,\n\tdetach,\n\tstart_hydrating,\n\tend_hydrating,\n\tget_custom_elements_slots,\n\tinsert,\n\telement,\n\tattr\n} from './dom.js';\nimport { transition_in } from './transitions.js';\n\n/** @returns {void} */\nexport function bind(component, name, callback) {\n\tconst index = component.$$.props[name];\n\tif (index !== undefined) {\n\t\tcomponent.$$.bound[index] = callback;\n\t\tcallback(component.$$.ctx[index]);\n\t}\n}\n\n/** @returns {void} */\nexport function create_component(block) {\n\tblock && block.c();\n}\n\n/** @returns {void} */\nexport function claim_component(block, parent_nodes) {\n\tblock && block.l(parent_nodes);\n}\n\n/** @returns {void} */\nexport function mount_component(component, target, anchor) {\n\tconst { fragment, after_update } = component.$$;\n\tfragment && fragment.m(target, anchor);\n\t// onMount happens before the initial afterUpdate\n\tadd_render_callback(() => {\n\t\tconst new_on_destroy = component.$$.on_mount.map(run).filter(is_function);\n\t\t// if the component was destroyed immediately\n\t\t// it will update the `$$.on_destroy` reference to `null`.\n\t\t// the destructured on_destroy may still reference to the old array\n\t\tif (component.$$.on_destroy) {\n\t\t\tcomponent.$$.on_destroy.push(...new_on_destroy);\n\t\t} else {\n\t\t\t// Edge case - component was destroyed immediately,\n\t\t\t// most likely as a result of a binding initialising\n\t\t\trun_all(new_on_destroy);\n\t\t}\n\t\tcomponent.$$.on_mount = [];\n\t});\n\tafter_update.forEach(add_render_callback);\n}\n\n/** @returns {void} */\nexport function destroy_component(component, detaching) {\n\tconst $$ = component.$$;\n\tif ($$.fragment !== null) {\n\t\tflush_render_callbacks($$.after_update);\n\t\trun_all($$.on_destroy);\n\t\t$$.fragment && $$.fragment.d(detaching);\n\t\t// TODO null out other refs, including component.$$ (but need to\n\t\t// preserve final state?)\n\t\t$$.on_destroy = $$.fragment = null;\n\t\t$$.ctx = [];\n\t}\n}\n\n/** @returns {void} */\nfunction make_dirty(component, i) {\n\tif (component.$$.dirty[0] === -1) {\n\t\tdirty_components.push(component);\n\t\tschedule_update();\n\t\tcomponent.$$.dirty.fill(0);\n\t}\n\tcomponent.$$.dirty[(i / 31) | 0] |= 1 << i % 31;\n}\n\n// TODO: Document the other params\n/**\n * @param {SvelteComponent} component\n * @param {import('./public.js').ComponentConstructorOptions} options\n *\n * @param {import('./utils.js')['not_equal']} not_equal Used to compare props and state values.\n * @param {(target: Element | ShadowRoot) => void} [append_styles] Function that appends styles to the DOM when the component is first initialised.\n * This will be the `add_css` function from the compiled component.\n *\n * @returns {void}\n */\nexport function init(\n\tcomponent,\n\toptions,\n\tinstance,\n\tcreate_fragment,\n\tnot_equal,\n\tprops,\n\tappend_styles = null,\n\tdirty = [-1]\n) {\n\tconst parent_component = current_component;\n\tset_current_component(component);\n\t/** @type {import('./private.js').T$$} */\n\tconst $$ = (component.$$ = {\n\t\tfragment: null,\n\t\tctx: [],\n\t\t// state\n\t\tprops,\n\t\tupdate: noop,\n\t\tnot_equal,\n\t\tbound: blank_object(),\n\t\t// lifecycle\n\t\ton_mount: [],\n\t\ton_destroy: [],\n\t\ton_disconnect: [],\n\t\tbefore_update: [],\n\t\tafter_update: [],\n\t\tcontext: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n\t\t// everything else\n\t\tcallbacks: blank_object(),\n\t\tdirty,\n\t\tskip_bound: false,\n\t\troot: options.target || parent_component.$$.root\n\t});\n\tappend_styles && append_styles($$.root);\n\tlet ready = false;\n\t$$.ctx = instance\n\t\t? instance(component, options.props || {}, (i, ret, ...rest) => {\n\t\t\t\tconst value = rest.length ? rest[0] : ret;\n\t\t\t\tif ($$.ctx && not_equal($$.ctx[i], ($$.ctx[i] = value))) {\n\t\t\t\t\tif (!$$.skip_bound && $$.bound[i]) $$.bound[i](value);\n\t\t\t\t\tif (ready) make_dirty(component, i);\n\t\t\t\t}\n\t\t\t\treturn ret;\n\t\t  })\n\t\t: [];\n\t$$.update();\n\tready = true;\n\trun_all($$.before_update);\n\t// `false` as a special case of no DOM component\n\t$$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n\tif (options.target) {\n\t\tif (options.hydrate) {\n\t\t\tstart_hydrating();\n\t\t\t// TODO: what is the correct type here?\n\t\t\t// @ts-expect-error\n\t\t\tconst nodes = children(options.target);\n\t\t\t$$.fragment && $$.fragment.l(nodes);\n\t\t\tnodes.forEach(detach);\n\t\t} else {\n\t\t\t// eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\t\t\t$$.fragment && $$.fragment.c();\n\t\t}\n\t\tif (options.intro) transition_in(component.$$.fragment);\n\t\tmount_component(component, options.target, options.anchor);\n\t\tend_hydrating();\n\t\tflush();\n\t}\n\tset_current_component(parent_component);\n}\n\nexport let SvelteElement;\n\nif (typeof HTMLElement === 'function') {\n\tSvelteElement = class extends HTMLElement {\n\t\t/** The Svelte component constructor */\n\t\t$$ctor;\n\t\t/** Slots */\n\t\t$$s;\n\t\t/** The Svelte component instance */\n\t\t$$c;\n\t\t/** Whether or not the custom element is connected */\n\t\t$$cn = false;\n\t\t/** Component props data */\n\t\t$$d = {};\n\t\t/** `true` if currently in the process of reflecting component props back to attributes */\n\t\t$$r = false;\n\t\t/** @type {Record<string, CustomElementPropDefinition>} Props definition (name, reflected, type etc) */\n\t\t$$p_d = {};\n\t\t/** @type {Record<string, Function[]>} Event listeners */\n\t\t$$l = {};\n\t\t/** @type {Map<Function, Function>} Event listener unsubscribe functions */\n\t\t$$l_u = new Map();\n\n\t\tconstructor($$componentCtor, $$slots, use_shadow_dom) {\n\t\t\tsuper();\n\t\t\tthis.$$ctor = $$componentCtor;\n\t\t\tthis.$$s = $$slots;\n\t\t\tif (use_shadow_dom) {\n\t\t\t\tthis.attachShadow({ mode: 'open' });\n\t\t\t}\n\t\t}\n\n\t\taddEventListener(type, listener, options) {\n\t\t\t// We can't determine upfront if the event is a custom event or not, so we have to\n\t\t\t// listen to both. If someone uses a custom event with the same name as a regular\n\t\t\t// browser event, this fires twice - we can't avoid that.\n\t\t\tthis.$$l[type] = this.$$l[type] || [];\n\t\t\tthis.$$l[type].push(listener);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t}\n\t\t\tsuper.addEventListener(type, listener, options);\n\t\t}\n\n\t\tremoveEventListener(type, listener, options) {\n\t\t\tsuper.removeEventListener(type, listener, options);\n\t\t\tif (this.$$c) {\n\t\t\t\tconst unsub = this.$$l_u.get(listener);\n\t\t\t\tif (unsub) {\n\t\t\t\t\tunsub();\n\t\t\t\t\tthis.$$l_u.delete(listener);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tasync connectedCallback() {\n\t\t\tthis.$$cn = true;\n\t\t\tif (!this.$$c) {\n\t\t\t\t// We wait one tick to let possible child slot elements be created/mounted\n\t\t\t\tawait Promise.resolve();\n\t\t\t\tif (!this.$$cn || this.$$c) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tfunction create_slot(name) {\n\t\t\t\t\treturn () => {\n\t\t\t\t\t\tlet node;\n\t\t\t\t\t\tconst obj = {\n\t\t\t\t\t\t\tc: function create() {\n\t\t\t\t\t\t\t\tnode = element('slot');\n\t\t\t\t\t\t\t\tif (name !== 'default') {\n\t\t\t\t\t\t\t\t\tattr(node, 'name', name);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t/**\n\t\t\t\t\t\t\t * @param {HTMLElement} target\n\t\t\t\t\t\t\t * @param {HTMLElement} [anchor]\n\t\t\t\t\t\t\t */\n\t\t\t\t\t\t\tm: function mount(target, anchor) {\n\t\t\t\t\t\t\t\tinsert(target, node, anchor);\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\td: function destroy(detaching) {\n\t\t\t\t\t\t\t\tif (detaching) {\n\t\t\t\t\t\t\t\t\tdetach(node);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t};\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tconst $$slots = {};\n\t\t\t\tconst existing_slots = get_custom_elements_slots(this);\n\t\t\t\tfor (const name of this.$$s) {\n\t\t\t\t\tif (name in existing_slots) {\n\t\t\t\t\t\t$$slots[name] = [create_slot(name)];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (const attribute of this.attributes) {\n\t\t\t\t\t// this.$$data takes precedence over this.attributes\n\t\t\t\t\tconst name = this.$$g_p(attribute.name);\n\t\t\t\t\tif (!(name in this.$$d)) {\n\t\t\t\t\t\tthis.$$d[name] = get_custom_element_value(name, attribute.value, this.$$p_d, 'toProp');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t// Port over props that were set programmatically before ce was initialized\n\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\tif (!(key in this.$$d) && this[key] !== undefined) {\n\t\t\t\t\t\tthis.$$d[key] = this[key]; // don't transform, these were set through JavaScript\n\t\t\t\t\t\tdelete this[key]; // remove the property that shadows the getter/setter\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$c = new this.$$ctor({\n\t\t\t\t\ttarget: this.shadowRoot || this,\n\t\t\t\t\tprops: {\n\t\t\t\t\t\t...this.$$d,\n\t\t\t\t\t\t$$slots,\n\t\t\t\t\t\t$$scope: {\n\t\t\t\t\t\t\tctx: []\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Reflect component props as attributes\n\t\t\t\tconst reflect_attributes = () => {\n\t\t\t\t\tthis.$$r = true;\n\t\t\t\t\tfor (const key in this.$$p_d) {\n\t\t\t\t\t\tthis.$$d[key] = this.$$c.$$.ctx[this.$$c.$$.props[key]];\n\t\t\t\t\t\tif (this.$$p_d[key].reflect) {\n\t\t\t\t\t\t\tconst attribute_value = get_custom_element_value(\n\t\t\t\t\t\t\t\tkey,\n\t\t\t\t\t\t\t\tthis.$$d[key],\n\t\t\t\t\t\t\t\tthis.$$p_d,\n\t\t\t\t\t\t\t\t'toAttribute'\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tif (attribute_value == null) {\n\t\t\t\t\t\t\t\tthis.removeAttribute(this.$$p_d[key].attribute || key);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tthis.setAttribute(this.$$p_d[key].attribute || key, attribute_value);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tthis.$$r = false;\n\t\t\t\t};\n\t\t\t\tthis.$$c.$$.after_update.push(reflect_attributes);\n\t\t\t\treflect_attributes(); // once initially because after_update is added too late for first render\n\n\t\t\t\tfor (const type in this.$$l) {\n\t\t\t\t\tfor (const listener of this.$$l[type]) {\n\t\t\t\t\t\tconst unsub = this.$$c.$on(type, listener);\n\t\t\t\t\t\tthis.$$l_u.set(listener, unsub);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis.$$l = {};\n\t\t\t}\n\t\t}\n\n\t\t// We don't need this when working within Svelte code, but for compatibility of people using this outside of Svelte\n\t\t// and setting attributes through setAttribute etc, this is helpful\n\t\tattributeChangedCallback(attr, _oldValue, newValue) {\n\t\t\tif (this.$$r) return;\n\t\t\tattr = this.$$g_p(attr);\n\t\t\tthis.$$d[attr] = get_custom_element_value(attr, newValue, this.$$p_d, 'toProp');\n\t\t\tthis.$$c?.$set({ [attr]: this.$$d[attr] });\n\t\t}\n\n\t\tdisconnectedCallback() {\n\t\t\tthis.$$cn = false;\n\t\t\t// In a microtask, because this could be a move within the DOM\n\t\t\tPromise.resolve().then(() => {\n\t\t\t\tif (!this.$$cn && this.$$c) {\n\t\t\t\t\tthis.$$c.$destroy();\n\t\t\t\t\tthis.$$c = undefined;\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t$$g_p(attribute_name) {\n\t\t\treturn (\n\t\t\t\tObject.keys(this.$$p_d).find(\n\t\t\t\t\t(key) =>\n\t\t\t\t\t\tthis.$$p_d[key].attribute === attribute_name ||\n\t\t\t\t\t\t(!this.$$p_d[key].attribute && key.toLowerCase() === attribute_name)\n\t\t\t\t) || attribute_name\n\t\t\t);\n\t\t}\n\t};\n}\n\n/**\n * @param {string} prop\n * @param {any} value\n * @param {Record<string, CustomElementPropDefinition>} props_definition\n * @param {'toAttribute' | 'toProp'} [transform]\n */\nfunction get_custom_element_value(prop, value, props_definition, transform) {\n\tconst type = props_definition[prop]?.type;\n\tvalue = type === 'Boolean' && typeof value !== 'boolean' ? value != null : value;\n\tif (!transform || !props_definition[prop]) {\n\t\treturn value;\n\t} else if (transform === 'toAttribute') {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value == null ? null : JSON.stringify(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value ? '' : null;\n\t\t\tcase 'Number':\n\t\t\t\treturn value == null ? null : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t} else {\n\t\tswitch (type) {\n\t\t\tcase 'Object':\n\t\t\tcase 'Array':\n\t\t\t\treturn value && JSON.parse(value);\n\t\t\tcase 'Boolean':\n\t\t\t\treturn value; // conversion already handled above\n\t\t\tcase 'Number':\n\t\t\t\treturn value != null ? +value : value;\n\t\t\tdefault:\n\t\t\t\treturn value;\n\t\t}\n\t}\n}\n\n/**\n * @internal\n *\n * Turn a Svelte component into a custom element.\n * @param {import('./public.js').ComponentType} Component  A Svelte component constructor\n * @param {Record<string, CustomElementPropDefinition>} props_definition  The props to observe\n * @param {string[]} slots  The slots to create\n * @param {string[]} accessors  Other accessors besides the ones for props the component has\n * @param {boolean} use_shadow_dom  Whether to use shadow DOM\n * @param {(ce: new () => HTMLElement) => new () => HTMLElement} [extend]\n */\nexport function create_custom_element(\n\tComponent,\n\tprops_definition,\n\tslots,\n\taccessors,\n\tuse_shadow_dom,\n\textend\n) {\n\tlet Class = class extends SvelteElement {\n\t\tconstructor() {\n\t\t\tsuper(Component, slots, use_shadow_dom);\n\t\t\tthis.$$p_d = props_definition;\n\t\t}\n\t\tstatic get observedAttributes() {\n\t\t\treturn Object.keys(props_definition).map((key) =>\n\t\t\t\t(props_definition[key].attribute || key).toLowerCase()\n\t\t\t);\n\t\t}\n\t};\n\tObject.keys(props_definition).forEach((prop) => {\n\t\tObject.defineProperty(Class.prototype, prop, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c && prop in this.$$c ? this.$$c[prop] : this.$$d[prop];\n\t\t\t},\n\t\t\tset(value) {\n\t\t\t\tvalue = get_custom_element_value(prop, value, props_definition);\n\t\t\t\tthis.$$d[prop] = value;\n\t\t\t\tthis.$$c?.$set({ [prop]: value });\n\t\t\t}\n\t\t});\n\t});\n\taccessors.forEach((accessor) => {\n\t\tObject.defineProperty(Class.prototype, accessor, {\n\t\t\tget() {\n\t\t\t\treturn this.$$c?.[accessor];\n\t\t\t}\n\t\t});\n\t});\n\tif (extend) {\n\t\t// @ts-expect-error - assigning here is fine\n\t\tClass = extend(Class);\n\t}\n\tComponent.element = /** @type {any} */ (Class);\n\treturn Class;\n}\n\n/**\n * Base class for Svelte components. Used when dev=false.\n *\n * @template {Record<string, any>} [Props=any]\n * @template {Record<string, any>} [Events=any]\n */\nexport class SvelteComponent {\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$ = undefined;\n\t/**\n\t * ### PRIVATE API\n\t *\n\t * Do not use, may change at any time\n\t *\n\t * @type {any}\n\t */\n\t$$set = undefined;\n\n\t/** @returns {void} */\n\t$destroy() {\n\t\tdestroy_component(this, 1);\n\t\tthis.$destroy = noop;\n\t}\n\n\t/**\n\t * @template {Extract<keyof Events, string>} K\n\t * @param {K} type\n\t * @param {((e: Events[K]) => void) | null | undefined} callback\n\t * @returns {() => void}\n\t */\n\t$on(type, callback) {\n\t\tif (!is_function(callback)) {\n\t\t\treturn noop;\n\t\t}\n\t\tconst callbacks = this.$$.callbacks[type] || (this.$$.callbacks[type] = []);\n\t\tcallbacks.push(callback);\n\t\treturn () => {\n\t\t\tconst index = callbacks.indexOf(callback);\n\t\t\tif (index !== -1) callbacks.splice(index, 1);\n\t\t};\n\t}\n\n\t/**\n\t * @param {Partial<Props>} props\n\t * @returns {void}\n\t */\n\t$set(props) {\n\t\tif (this.$$set && !is_empty(props)) {\n\t\t\tthis.$$.skip_bound = true;\n\t\t\tthis.$$set(props);\n\t\t\tthis.$$.skip_bound = false;\n\t\t}\n\t}\n}\n\n/**\n * @typedef {Object} CustomElementPropDefinition\n * @property {string} [attribute]\n * @property {boolean} [reflect]\n * @property {'String'|'Boolean'|'Number'|'Array'|'Object'} [type]\n */\n", "// generated during release, do not modify\n\n/**\n * The current version, as set in package.json.\n *\n * https://svelte.dev/docs/svelte-compiler#svelte-version\n * @type {string}\n */\nexport const VERSION = '4.2.19';\nexport const PUBLIC_VERSION = '4';\n", "import { PUBLIC_VERSION } from '../../../shared/version.js';\n\nif (typeof window !== 'undefined')\n\t// @ts-ignore\n\t(window.__svelte || (window.__svelte = { v: new Set() })).v.add(PUBLIC_VERSION);\n", "export const __deleteCommentPrompt = \"deleteCommentPrompt\";\r\nexport const __downloadDemoHeader = \"downloadDemoHeader\";\r\nexport const __featureHint_desc = \"featureHint_desc\";\r\nexport const __featureHint_reminder = \"featureHint_reminder\";\r\nexport const __thewordyes = \"thewordyes\";\r\nexport const __thewordno = \"thewordno\";\r\nexport const __theworderror = \"theworderror\";\r\nexport const __noData = \"noData\";\r\nexport const __toomanyrequests = \"toomanyrequests\";\r\nexport const __showComments = \"showComments\";\r\nexport const __hideComments = \"hideComments\";\r\nexport const __thewordunknown = \"thewordunknown\";\r\nexport const __calcWorkshopSize_fileSize = \"calcWorkshopSize_fileSize\";\r\nexport const __calcWorkshopSize_calcSize = \"calcWorkshopSize_calcSize\";\r\nexport const __calcWorkshopSize_calcLoading = \"calcWorkshopSize_calcLoading\";\r\nexport const __calcWorkshopSize_calcFinished = \"calcWorkshopSize_calcFinished\";\r\nexport const __calcWorkshopSize_totalSize = \"calcWorkshopSize_totalSize\";\r\nexport const __cart = \"cart\";\r\nexport const __inCart = \"inCart\";\r\nexport const __steamidOfUser = \"steamidOfUser\";\r\nexport const __copied = \"copied\";\r\nexport const __viewSteamid = \"viewSteamid\";\r\nexport const __moreOnSteampeek = \"moreOnSteampeek\";\r\nexport const __date = \"date\";\r\nexport const __rating = \"rating\";\r\nexport const __helpful = \"helpful\";\r\nexport const __funny = \"funny\";\r\nexport const __length = \"length\";\r\nexport const __visibility = \"visibility\";\r\nexport const __processing = \"processing\";\r\nexport const __wait = \"wait\";\r\nexport const __inviteFriends = \"inviteFriends\";\r\nexport const __inviteToGroup = \"inviteToGroup\";\r\nexport const __inverse = \"inverse\";\r\nexport const __transactionStatus = \"transactionStatus\";\r\nexport const __customTags = \"customTags\";\r\nexport const __addTag = \"addTag\";\r\nexport const __enterTag = \"enterTag\";\r\nexport const __status = \"status\";\r\nexport const __connect = \"connect\";\r\nexport const __connected = \"connected\";\r\nexport const __disconnect = \"disconnect\";\r\nexport const __disconnected = \"disconnected\";\r\nexport const __oneclickgoo = \"oneclickgoo\";\r\nexport const __viewInLibrary = \"viewInLibrary\";\r\nexport const __support = \"support\";\r\nexport const __email = \"email\";\r\nexport const __contact = \"contact\";\r\nexport const __favEmoticonsDragging = \"favEmoticonsDragging\";\r\nexport const __favEmoticonsNoAccess = \"favEmoticonsNoAccess\";\r\nexport const __postHistory = \"postHistory\";\r\nexport const __addNickname = \"addNickname\";\r\nexport const __totalSize = \"totalSize\";\r\nexport const __dlcDetails = \"dlcDetails\";\r\nexport const __badgeNotUnlocked = \"badgeNotUnlocked\";\r\nexport const __badgeLevel = \"badgeLevel\";\r\nexport const __each = \"each\";\r\nexport const __viewInMarket = \"viewInMarket\";\r\nexport const __remove = \"remove\";\r\nexport const __getHelp = \"getHelp\";\r\nexport const __addSelectedDlcToCart = \"addSelectedDlcToCart\";\r\nexport const __close = \"close\";\r\nexport const __error = \"error\";\r\nexport const __go = \"go\";\r\nexport const __activate = \"activate\";\r\nexport const __activateMultipleHeader = \"activateMultipleHeader\";\r\nexport const __activateMultiple = \"activateMultiple\";\r\nexport const __activateProducts = \"activateProducts\";\r\nexport const __couponApplicationNote = \"couponApplicationNote\";\r\nexport const __hide = \"hide\";\r\nexport const __filters = \"filters\";\r\nexport const __cardsOwned = \"cardsOwned\";\r\nexport const __libraryMenu = \"libraryMenu\";\r\nexport const __clearCache = \"clearCache\";\r\nexport const __translation = \"translation\";\r\nexport const __helpTranslate = \"helpTranslate\";\r\nexport const __lowest = \"lowest\";\r\nexport const __lowestPrice = \"lowestPrice\";\r\nexport const __viewBadgeProgress = \"viewBadgeProgress\";\r\nexport const __badgeProgress = \"badgeProgress\";\r\nexport const __salesTotal = \"salesTotal\";\r\nexport const __viewNormalBadge = \"viewNormalBadge\";\r\nexport const __apppageSections = \"apppageSections\";\r\nexport const __website = \"website\";\r\nexport const __games = \"games\";\r\nexport const __badgeCompletionCost = \"badgeCompletionCost\";\r\nexport const __loading = \"loading\";\r\nexport const __selling = \"selling\";\r\nexport const __saving = \"saving\";\r\nexport const __saved = \"saved\";\r\nexport const __quickSell = \"quickSell\";\r\nexport const __quickSellDesc = \"quickSellDesc\";\r\nexport const __instantSell = \"instantSell\";\r\nexport const __instantSellDesc = \"instantSellDesc\";\r\nexport const __quickSellVerify = \"quickSellVerify\";\r\nexport const __startingAt = \"startingAt\";\r\nexport const __homepageTabs = \"homepageTabs\";\r\nexport const __store = \"store\";\r\nexport const __viewInStore = \"viewInStore\";\r\nexport const __communityHub = \"communityHub\";\r\nexport const __viewOnWebsite = \"viewOnWebsite\";\r\nexport const __drmThirdParty = \"drmThirdParty\";\r\nexport const __hoursShort = \"hoursShort\";\r\nexport const __spamCommentShow = \"spamCommentShow\";\r\nexport const __addToWishlist = \"addToWishlist\";\r\nexport const __addFullgameToWishlist = \"addFullgameToWishlist\";\r\nexport const __addToWaitlist = \"addToWaitlist\";\r\nexport const __addFullgameToWaitlist = \"addFullgameToWaitlist\";\r\nexport const __removeFromWaitlistTooltip = \"removeFromWaitlistTooltip\";\r\nexport const __removeFullgameFromWaitlistTooltip = \"removeFullgameFromWaitlistTooltip\";\r\nexport const __removeFromWishlistAndWaitlistTooltip = \"removeFromWishlistAndWaitlistTooltip\";\r\nexport const __removeFullgameFromWishlistAndWaitlistTooltip = \"removeFullgameFromWishlistAndWaitlistTooltip\";\r\nexport const __language = \"language\";\r\nexport const __theworddefault = \"theworddefault\";\r\nexport const __thewordclear = \"thewordclear\";\r\nexport const __retry = \"retry\";\r\nexport const __couponLearnMore_linkText = \"couponLearnMore_linkText\";\r\nexport const __couponLearnMore_fullText = \"couponLearnMore_fullText\";\r\nexport const __show = \"show\";\r\nexport const __showAll = \"showAll\";\r\nexport const __badgesAll = \"badgesAll\";\r\nexport const __esSupporter = \"esSupporter\";\r\nexport const __community = \"community\";\r\nexport const __ownedCollection = \"ownedCollection\";\r\nexport const __viewBadge = \"viewBadge\";\r\nexport const __purchaseTotal = \"purchaseTotal\";\r\nexport const __viewFoilBadge = \"viewFoilBadge\";\r\nexport const __viewAstats = \"viewAstats\";\r\nexport const __contribute = \"contribute\";\r\nexport const __reviews = \"reviews\";\r\nexport const __readReviews = \"readReviews\";\r\nexport const __readMoreReviews = \"readMoreReviews\";\r\nexport const __youtubeGameplay = \"youtubeGameplay\";\r\nexport const __youtubeReviews = \"youtubeReviews\";\r\nexport const __packageInfo = \"packageInfo\";\r\nexport const __badgeCompletionAvg = \"badgeCompletionAvg\";\r\nexport const __volumeSoldLast_24 = \"volumeSoldLast_24\";\r\nexport const __soldLast_24 = \"soldLast_24\";\r\nexport const __homepageCurators = \"homepageCurators\";\r\nexport const __homepageTopnewreleases = \"homepageTopnewreleases\";\r\nexport const __homepageSidebar = \"homepageSidebar\";\r\nexport const __dropCalc = \"dropCalc\";\r\nexport const __price = \"price\";\r\nexport const __marketTransactions = \"marketTransactions\";\r\nexport const __loadMarketStats = \"loadMarketStats\";\r\nexport const __cardDropsRemaining = \"cardDropsRemaining\";\r\nexport const __badgesDrops = \"badgesDrops\";\r\nexport const __usingLanguageReturn = \"usingLanguageReturn\";\r\nexport const __guides = \"guides\";\r\nexport const __highlight = \"highlight\";\r\nexport const __save = \"save\";\r\nexport const __view = \"view\";\r\nexport const __gameName = \"gameName\";\r\nexport const __notinterested = \"notinterested\";\r\nexport const __ignoredOwned = \"ignoredOwned\";\r\nexport const __searchFilters_reviewsScore_between = \"searchFilters_reviewsScore_between\";\r\nexport const __searchFilters_reviewsScore_any = \"searchFilters_reviewsScore_any\";\r\nexport const __searchFilters_reviewsScore_upTo = \"searchFilters_reviewsScore_upTo\";\r\nexport const __searchFilters_reviewsScore_from = \"searchFilters_reviewsScore_from\";\r\nexport const __searchFilters_reviewsCount_count = \"searchFilters_reviewsCount_count\";\r\nexport const __searchFilters_reviewsCount_minCount = \"searchFilters_reviewsCount_minCount\";\r\nexport const __searchFilters_reviewsCount_maxCount = \"searchFilters_reviewsCount_maxCount\";\r\nexport const __searchFilters_discountPercent_count = \"searchFilters_discountPercent_count\";\r\nexport const __searchFilters_discountPercent_minCount = \"searchFilters_discountPercent_minCount\";\r\nexport const __searchFilters_discountPercent_maxCount = \"searchFilters_discountPercent_maxCount\";\r\nexport const __searchFilters_hideCart = \"searchFilters_hideCart\";\r\nexport const __searchFilters_hideEa = \"searchFilters_hideEa\";\r\nexport const __searchFilters_hideMixed = \"searchFilters_hideMixed\";\r\nexport const __searchFilters_hideNegative = \"searchFilters_hideNegative\";\r\nexport const __news = \"news\";\r\nexport const __viewinclient = \"viewinclient\";\r\nexport const __customBackground = \"customBackground\";\r\nexport const __customStyle = \"customStyle\";\r\nexport const __customStyleHelp = \"customStyleHelp\";\r\nexport const __noneselected = \"noneselected\";\r\nexport const __mostDrops = \"mostDrops\";\r\nexport const __netGain = \"netGain\";\r\nexport const __apppageRecentupdates = \"apppageRecentupdates\";\r\nexport const __apppageEaheader = \"apppageEaheader\";\r\nexport const __apppageEabanner = \"apppageEabanner\";\r\nexport const __apppageWorkshop = \"apppageWorkshop\";\r\nexport const __apppageGreenlight = \"apppageGreenlight\";\r\nexport const __apppageLegal = \"apppageLegal\";\r\nexport const __apppageFranchise = \"apppageFranchise\";\r\nexport const __apppageMorefromfranchise = \"apppageMorefromfranchise\";\r\nexport const __bugFeature = \"bugFeature\";\r\nexport const __always = \"always\";\r\nexport const __ratingDetails = \"ratingDetails\";\r\nexport const __dropsWorthAvg = \"dropsWorthAvg\";\r\nexport const __familySharingNotice_notice = \"familySharingNotice_notice\";\r\nexport const __familySharingNotice_desc = \"familySharingNotice_desc\";\r\nexport const __visitStore = \"visitStore\";\r\nexport const __all = \"all\";\r\nexport const __externalFunds = \"externalFunds\";\r\nexport const __shoppingCartHistory = \"shoppingCartHistory\";\r\nexport const __manageWebapiKey = \"manageWebapiKey\";\r\nexport const __steamCloudHeader = \"steamCloudHeader\";\r\nexport const __steamCloudSaves = \"steamCloudSaves\";\r\nexport const __gamesWithDrops = \"gamesWithDrops\";\r\nexport const __binderView = \"binderView\";\r\nexport const __usingLanguage = \"usingLanguage\";\r\nexport const __loginWarning = \"loginWarning\";\r\nexport const __visitTradeForum = \"visitTradeForum\";\r\nexport const __purchaseDate = \"purchaseDate\";\r\nexport const __customBackgroundHelp = \"customBackgroundHelp\";\r\nexport const __dateUnlocked = \"dateUnlocked\";\r\nexport const __netSpent = \"netSpent\";\r\nexport const __buy = \"buy\";\r\nexport const __buyPackage = \"buyPackage\";\r\nexport const __moreInformation = \"moreInformation\";\r\nexport const __regionUnavailable = \"regionUnavailable\";\r\nexport const __avgPrice_3cards = \"avgPrice_3cards\";\r\nexport const __groups_leaveGroupsConfirm = \"groups_leaveGroupsConfirm\";\r\nexport const __groups_manageGroups = \"groups_manageGroups\";\r\nexport const __groups_actionGroups = \"groups_actionGroups\";\r\nexport const __groups_select = \"groups_select\";\r\nexport const __groups_leave = \"groups_leave\";\r\nexport const __groups_selected = \"groups_selected\";\r\nexport const __groups_leaveAdminConfirm_currentlyAdmin = \"groups_leaveAdminConfirm_currentlyAdmin\";\r\nexport const __groups_leaveAdminConfirm_wantToLeave = \"groups_leaveAdminConfirm_wantToLeave\";\r\nexport const __export_wishlist = \"export_wishlist\";\r\nexport const __export_type = \"export_type\";\r\nexport const __export_format = \"export_format\";\r\nexport const __export_text = \"export_text\";\r\nexport const __export_download = \"export_download\";\r\nexport const __export_copyClipboard = \"export_copyClipboard\";\r\nexport const __none = \"none\";\r\nexport const __emptyWishlist_title = \"emptyWishlist_title\";\r\nexport const __emptyWishlist_confirm = \"emptyWishlist_confirm\";\r\nexport const __emptyWishlist_removing = \"emptyWishlist_removing\";\r\nexport const __about = \"about\";\r\nexport const __never = \"never\";\r\nexport const __couponAvailable = \"couponAvailable\";\r\nexport const __launchRandom = \"launchRandom\";\r\nexport const __launchRandomGameError = \"launchRandomGameError\";\r\nexport const __playGame = \"playGame\";\r\nexport const __dropsValue = \"dropsValue\";\r\nexport const __cardsRemain = \"cardsRemain\";\r\nexport const __wishlist = \"wishlist\";\r\nexport const __onWishlist = \"onWishlist\";\r\nexport const __onWaitlist = \"onWaitlist\";\r\nexport const __onWishlistAndWaitlist = \"onWishlistAndWaitlist\";\r\nexport const __ok = \"ok\";\r\nexport const __cancel = \"cancel\";\r\nexport const __wikiArticle = \"wikiArticle\";\r\nexport const __viewAll = \"viewAll\";\r\nexport const __gamesWithBooster = \"gamesWithBooster\";\r\nexport const __sortBy = \"sortBy\";\r\nexport const __playtime = \"playtime\";\r\nexport const __awards = \"awards\";\r\nexport const __year = \"year\";\r\nexport const __lastonline = \"lastonline\";\r\nexport const __members = \"members\";\r\nexport const __name = \"name\";\r\nexport const __drmThirdPartySub = \"drmThirdPartySub\";\r\nexport const __customize = \"customize\";\r\nexport const __bundleSavingText = \"bundleSavingText\";\r\nexport const __thewordoptions = \"thewordoptions\";\r\nexport const __discussions = \"discussions\";\r\nexport const __pricing_lowestPrice = \"pricing_lowestPrice\";\r\nexport const __pricing_historicalLow = \"pricing_historicalLow\";\r\nexport const __pricing_bundled = \"pricing_bundled\";\r\nexport const __pricing_withVoucher = \"pricing_withVoucher\";\r\nexport const __pricing_store = \"pricing_store\";\r\nexport const __pricing_bundleCount = \"pricing_bundleCount\";\r\nexport const __webBrowserChat = \"webBrowserChat\";\r\nexport const __steamClientChat = \"steamClientChat\";\r\nexport const __equipOnProfile = \"equipOnProfile\";\r\nexport const __previewBackground = \"previewBackground\";\r\nexport const __expandSlider = \"expandSlider\";\r\nexport const __contractSlider = \"contractSlider\";\r\nexport const __earlyAccess = \"earlyAccess\";\r\nexport const __tagShort = \"tagShort\";\r\nexport const __noPriceData = \"noPriceData\";\r\nexport const __userScore = \"userScore\";\r\nexport const __marketPopularItemsToggle = \"marketPopularItemsToggle\";\r\nexport const __showProgressbar = \"showProgressbar\";\r\nexport const __achievements_option = \"achievements_option\";\r\nexport const __achievements_summary = \"achievements_summary\";\r\nexport const __bundle_offerEnds = \"bundle_offerEnds\";\r\nexport const __bundle_includes = \"bundle_includes\";\r\nexport const __bundle_tierIncludes = \"bundle_tierIncludes\";\r\nexport const __bundle_tier = \"bundle_tier\";\r\nexport const __bundle_header = \"bundle_header\";\r\nexport const __bundle_info = \"bundle_info\";\r\nexport const __charts_peakall = \"charts_peakall\";\r\nexport const __charts_current = \"charts_current\";\r\nexport const __charts_playingNow = \"charts_playingNow\";\r\nexport const __charts_peaktoday = \"charts_peaktoday\";\r\nexport const __hltb_title = \"hltb_title\";\r\nexport const __hltb_mainE = \"hltb_mainE\";\r\nexport const __hltb_compl = \"hltb_compl\";\r\nexport const __hltb_main = \"hltb_main\";\r\nexport const __options_friendsAndGroups = \"options_friendsAndGroups\";\r\nexport const __options_friendsAppendNickname = \"options_friendsAppendNickname\";\r\nexport const __options_settingsMngmt_import = \"options_settingsMngmt_import\";\r\nexport const __options_settingsMngmt_importSuccess = \"options_settingsMngmt_importSuccess\";\r\nexport const __options_settingsMngmt_importFail = \"options_settingsMngmt_importFail\";\r\nexport const __options_settingsMngmt_export = \"options_settingsMngmt_export\";\r\nexport const __options_settingsMngmt_reset = \"options_settingsMngmt_reset\";\r\nexport const __options_showCustomThemes = \"options_showCustomThemes\";\r\nexport const __options_communityDefaultTab = \"options_communityDefaultTab\";\r\nexport const __options_videos = \"options_videos\";\r\nexport const __options_broadcasts = \"options_broadcasts\";\r\nexport const __options_artwork = \"options_artwork\";\r\nexport const __options_screenshots = \"options_screenshots\";\r\nexport const __options_showBacktotop = \"options_showBacktotop\";\r\nexport const __options_contextMenu = \"options_contextMenu\";\r\nexport const __options_contextSteamStore = \"options_contextSteamStore\";\r\nexport const __options_contextSteamLucky = \"options_contextSteamLucky\";\r\nexport const __options_contextSteamMarket = \"options_contextSteamMarket\";\r\nexport const __options_contextItad = \"options_contextItad\";\r\nexport const __options_contextBartervg = \"options_contextBartervg\";\r\nexport const __options_contextSteamdb = \"options_contextSteamdb\";\r\nexport const __options_contextSteamdbInstant = \"options_contextSteamdbInstant\";\r\nexport const __options_contextSteamKeys = \"options_contextSteamKeys\";\r\nexport const __options_wsgf = \"options_wsgf\";\r\nexport const __options_versionShow = \"options_versionShow\";\r\nexport const __options_steamcardexchange = \"options_steamcardexchange\";\r\nexport const __options_regionalPrice = \"options_regionalPrice\";\r\nexport const __options_excludef2p = \"options_excludef2p\";\r\nexport const __options_profileLinkImagesNone = \"options_profileLinkImagesNone\";\r\nexport const __options_profileLinks = \"options_profileLinks\";\r\nexport const __options_tag = \"options_tag\";\r\nexport const __options_icon = \"options_icon\";\r\nexport const __options_name = \"options_name\";\r\nexport const __options_showAlternativeLinuxIcon = \"options_showAlternativeLinuxIcon\";\r\nexport const __options_replacecommunityhublinks = \"options_replacecommunityhublinks\";\r\nexport const __options_hideannouncementcomments = \"options_hideannouncementcomments\";\r\nexport const __options_hidetmsymbols = \"options_hidetmsymbols\";\r\nexport const __options_metacritic = \"options_metacritic\";\r\nexport const __options_opencritic = \"options_opencritic\";\r\nexport const __options_hideactivelistings = \"options_hideactivelistings\";\r\nexport const __options_showlowestmarketprice = \"options_showlowestmarketprice\";\r\nexport const __options_clear = \"options_clear\";\r\nexport const __options_coupon = \"options_coupon\";\r\nexport const __options_showPackageInfo = \"options_showPackageInfo\";\r\nexport const __options_wlbuttoncommunityapp = \"options_wlbuttoncommunityapp\";\r\nexport const __options_removeguideslanguagefilter = \"options_removeguideslanguagefilter\";\r\nexport const __options_confirmdeletecomment = \"options_confirmdeletecomment\";\r\nexport const __options_disablelinkfilter = \"options_disablelinkfilter\";\r\nexport const __options_regionalPriceOn = \"options_regionalPriceOn\";\r\nexport const __options_horizontalscrolling = \"options_horizontalscrolling\";\r\nexport const __options_supportinfo = \"options_supportinfo\";\r\nexport const __options_drm = \"options_drm\";\r\nexport const __options_profileLinkImages = \"options_profileLinkImages\";\r\nexport const __options_show1clickgoo = \"options_show1clickgoo\";\r\nexport const __options_hltb = \"options_hltb\";\r\nexport const __options_hidespamcomments = \"options_hidespamcomments\";\r\nexport const __options_gift = \"options_gift\";\r\nexport const __options_regionalPriceMouse = \"options_regionalPriceMouse\";\r\nexport const __options_storesAll = \"options_storesAll\";\r\nexport const __options_viewInCurrency = \"options_viewInCurrency\";\r\nexport const __options_showEarlyAccess = \"options_showEarlyAccess\";\r\nexport const __options_profileLinkImagesGray = \"options_profileLinkImagesGray\";\r\nexport const __options_quickinv = \"options_quickinv\";\r\nexport const __options_quickinvDiff = \"options_quickinvDiff\";\r\nexport const __options_sendAgeInfo = \"options_sendAgeInfo\";\r\nexport const __options_removebroadcasts = \"options_removebroadcasts\";\r\nexport const __options_preventVideoPause = \"options_preventVideoPause\";\r\nexport const __options_tabtitleAppnameFirst = \"options_tabtitleAppnameFirst\";\r\nexport const __options_exfgls = \"options_exfgls\";\r\nexport const __options_youtube = \"options_youtube\";\r\nexport const __options_twitch = \"options_twitch\";\r\nexport const __options_pcgw = \"options_pcgw\";\r\nexport const __options_completionistme = \"options_completionistme\";\r\nexport const __options_protondb = \"options_protondb\";\r\nexport const __options_storeSteamcards = \"options_storeSteamcards\";\r\nexport const __options_spamcommentregex = \"options_spamcommentregex\";\r\nexport const __options_regionalHideworld = \"options_regionalHideworld\";\r\nexport const __options_showAstatslink = \"options_showAstatslink\";\r\nexport const __options_showYoutubegameplay = \"options_showYoutubegameplay\";\r\nexport const __options_showYoutubereviews = \"options_showYoutubereviews\";\r\nexport const __options_openinnewtab = \"options_openinnewtab\";\r\nexport const __options_showbartervg = \"options_showbartervg\";\r\nexport const __options_guest = \"options_guest\";\r\nexport const __options_collection = \"options_collection\";\r\nexport const __options_waitlist = \"options_waitlist\";\r\nexport const __options_showPlayersInfo = \"options_showPlayersInfo\";\r\nexport const __options_showallstats = \"options_showallstats\";\r\nexport const __options_lowestpriceOnwishlist = \"options_lowestpriceOnwishlist\";\r\nexport const __options_profileSteamid = \"options_profileSteamid\";\r\nexport const __options_profilePinnedBg = \"options_profilePinnedBg\";\r\nexport const __options_lowestprice = \"options_lowestprice\";\r\nexport const __options_owned = \"options_owned\";\r\nexport const __options_itadlinks = \"options_itadlinks\";\r\nexport const __options_steamdb = \"options_steamdb\";\r\nexport const __options_profileLinkImagesColor = \"options_profileLinkImagesColor\";\r\nexport const __options_showViewInLibrary = \"options_showViewInLibrary\";\r\nexport const __options_installSteamButton = \"options_installSteamButton\";\r\nexport const __options_replaceViewClient = \"options_replaceViewClient\";\r\nexport const __options_showEmptyWishlist = \"options_showEmptyWishlist\";\r\nexport const __options_showWishlistStats = \"options_showWishlistStats\";\r\nexport const __options_oneclickremovewl = \"options_oneclickremovewl\";\r\nexport const __options_userNotes_userNotes = \"options_userNotes_userNotes\";\r\nexport const __options_userNotes_app = \"options_userNotes_app\";\r\nexport const __options_userNotes_wishlist = \"options_userNotes_wishlist\";\r\nexport const __options_userNotes_loc = \"options_userNotes_loc\";\r\nexport const __options_userNotes_syncedStorage = \"options_userNotes_syncedStorage\";\r\nexport const __options_userNotes_local = \"options_userNotes_local\";\r\nexport const __options_userNotes_saveWithEnter = \"options_userNotes_saveWithEnter\";\r\nexport const __options_inventoryNavText = \"options_inventoryNavText\";\r\nexport const __options_marketTotal = \"options_marketTotal\";\r\nexport const __options_lowestpriceCoupon = \"options_lowestpriceCoupon\";\r\nexport const __options_general = \"options_general\";\r\nexport const __options_apppage = \"options_apppage\";\r\nexport const __options_market = \"options_market\";\r\nexport const __options_inventory = \"options_inventory\";\r\nexport const __options_profile = \"options_profile\";\r\nexport const __options_group = \"options_group\";\r\nexport const __options_friendActivity = \"options_friendActivity\";\r\nexport const __options_groupLinks = \"options_groupLinks\";\r\nexport const __options_showLanguagewarning = \"options_showLanguagewarning\";\r\nexport const __options_homepage = \"options_homepage\";\r\nexport const __options_homepageDefaultTab = \"options_homepageDefaultTab\";\r\nexport const __options_homepageDefaultTabRemember = \"options_homepageDefaultTabRemember\";\r\nexport const __options_homepageDefaultTabNewreleases = \"options_homepageDefaultTabNewreleases\";\r\nexport const __options_homepageDefaultTabTopsellers = \"options_homepageDefaultTabTopsellers\";\r\nexport const __options_homepageDefaultTabUpcoming = \"options_homepageDefaultTabUpcoming\";\r\nexport const __options_homepageDefaultTabSpecials = \"options_homepageDefaultTabSpecials\";\r\nexport const __options_homepageDefaultTabFree = \"options_homepageDefaultTabFree\";\r\nexport const __options_wishlist = \"options_wishlist\";\r\nexport const __options_followed = \"options_followed\";\r\nexport const __options_addAnotherRegion = \"options_addAnotherRegion\";\r\nexport const __options_skipGotSteam = \"options_skipGotSteam\";\r\nexport const __options_storeGeneralThirdparty = \"options_storeGeneralThirdparty\";\r\nexport const __options_purchaseDates = \"options_purchaseDates\";\r\nexport const __options_showBadgeProgress = \"options_showBadgeProgress\";\r\nexport const __options_showCoupon = \"options_showCoupon\";\r\nexport const __options_showWishlistLink = \"options_showWishlistLink\";\r\nexport const __options_showWishlistCount = \"options_showWishlistCount\";\r\nexport const __options_profileShowcaseTwitch = \"options_profileShowcaseTwitch\";\r\nexport const __options_profileShowcaseOwnTwitch = \"options_profileShowcaseOwnTwitch\";\r\nexport const __options_profileShowcaseTwitchProfileonly = \"options_profileShowcaseTwitchProfileonly\";\r\nexport const __options_lang_english = \"options_lang_english\";\r\nexport const __options_lang_brazilian = \"options_lang_brazilian\";\r\nexport const __options_lang_bulgarian = \"options_lang_bulgarian\";\r\nexport const __options_lang_czech = \"options_lang_czech\";\r\nexport const __options_lang_danish = \"options_lang_danish\";\r\nexport const __options_lang_dutch = \"options_lang_dutch\";\r\nexport const __options_lang_finnish = \"options_lang_finnish\";\r\nexport const __options_lang_french = \"options_lang_french\";\r\nexport const __options_lang_greek = \"options_lang_greek\";\r\nexport const __options_lang_german = \"options_lang_german\";\r\nexport const __options_lang_hungarian = \"options_lang_hungarian\";\r\nexport const __options_lang_indonesian = \"options_lang_indonesian\";\r\nexport const __options_lang_italian = \"options_lang_italian\";\r\nexport const __options_lang_japanese = \"options_lang_japanese\";\r\nexport const __options_lang_koreana = \"options_lang_koreana\";\r\nexport const __options_lang_norwegian = \"options_lang_norwegian\";\r\nexport const __options_lang_polish = \"options_lang_polish\";\r\nexport const __options_lang_portuguese = \"options_lang_portuguese\";\r\nexport const __options_lang_russian = \"options_lang_russian\";\r\nexport const __options_lang_romanian = \"options_lang_romanian\";\r\nexport const __options_lang_schinese = \"options_lang_schinese\";\r\nexport const __options_lang_spanish = \"options_lang_spanish\";\r\nexport const __options_lang_latam = \"options_lang_latam\";\r\nexport const __options_lang_swedish = \"options_lang_swedish\";\r\nexport const __options_lang_tchinese = \"options_lang_tchinese\";\r\nexport const __options_lang_thai = \"options_lang_thai\";\r\nexport const __options_lang_turkish = \"options_lang_turkish\";\r\nexport const __options_lang_ukrainian = \"options_lang_ukrainian\";\r\nexport const __options_lang_vietnamese = \"options_lang_vietnamese\";\r\nexport const __options_addCustomLink = \"options_addCustomLink\";\r\nexport const __options_autoDetect = \"options_autoDetect\";\r\nexport const __options_addToWaitlist = \"options_addToWaitlist\";\r\nexport const __options_collectionBannerNotOwned = \"options_collectionBannerNotOwned\";\r\nexport const __options_maintainers = \"options_maintainers\";\r\nexport const __options_withHelpOf = \"options_withHelpOf\";\r\nexport const __options_contributors = \"options_contributors\";\r\nexport const __options_aboutDesc = \"options_aboutDesc\";\r\nexport const __options_aboutDescLinks = \"options_aboutDescLinks\";\r\nexport const __options_footerFork = \"options_footerFork\";\r\nexport const __options_footerAuthor = \"options_footerAuthor\";\r\nexport const __options_headers_itadPriceInfo = \"options_headers_itadPriceInfo\";\r\nexport const __ready_loading = \"ready_loading\";\r\nexport const __ready_ready = \"ready_ready\";\r\nexport const __ready_failed = \"ready_failed\";\r\nexport const __ready_serverOutage = \"ready_serverOutage\";\r\nexport const __twitch_nowStreaming = \"twitch_nowStreaming\";\r\nexport const __twitch_viewers = \"twitch_viewers\";\r\nexport const __dlcSelect_wishlistedDlc = \"dlcSelect_wishlistedDlc\";\r\nexport const __dlcSelect_none = \"dlcSelect_none\";\r\nexport const __dlcSelect_unownedDlc = \"dlcSelect_unownedDlc\";\r\nexport const __tag_wishlist = \"tag_wishlist\";\r\nexport const __tag_followed = \"tag_followed\";\r\nexport const __tag_coupon = \"tag_coupon\";\r\nexport const __tag_invGift = \"tag_invGift\";\r\nexport const __tag_invGuestpass = \"tag_invGuestpass\";\r\nexport const __tag_owned = \"tag_owned\";\r\nexport const __tag_notinterested = \"tag_notinterested\";\r\nexport const __tag_ignoredOwned = \"tag_ignoredOwned\";\r\nexport const __tag_collection = \"tag_collection\";\r\nexport const __tag_waitlist = \"tag_waitlist\";\r\nexport const __wallet_customAmount = \"wallet_customAmount\";\r\nexport const __wallet_customAmountText = \"wallet_customAmountText\";\r\nexport const __wallet_customGiftcard = \"wallet_customGiftcard\";\r\nexport const __wsgf_incomplete = \"wsgf_incomplete\";\r\nexport const __wsgf_unsupported = \"wsgf_unsupported\";\r\nexport const __wsgf_gold = \"wsgf_gold\";\r\nexport const __wsgf_silver = \"wsgf_silver\";\r\nexport const __wsgf_limited = \"wsgf_limited\";\r\nexport const __wsgf_certifications = \"wsgf_certifications\";\r\nexport const __itad_enableSyncLibrary = \"itad_enableSyncLibrary\";\r\nexport const __itad_enableSyncWishlist = \"itad_enableSyncWishlist\";\r\nexport const __itad_import = \"itad_import\";\r\nexport const __itad_lastImport = \"itad_lastImport\";\r\nexport const __itad_from = \"itad_from\";\r\nexport const __itad_to = \"itad_to\";\r\nexport const __itad_syncNow = \"itad_syncNow\";\r\nexport const __itad_info_itadSteam = \"itad_info_itadSteam\";\r\nexport const __itad_info_steamItad = \"itad_info_steamItad\";\r\nexport const __itad_syncEvents = \"itad_syncEvents\";\r\nexport const __tradeoffer_numItem = \"tradeoffer_numItem\";\r\nexport const __tradeoffer_numItems = \"tradeoffer_numItems\";\r\nexport const __tradeoffer_back = \"tradeoffer_back\";\r\nexport const __update_dontShow = \"update_dontShow\";\r\nexport const __update_updated = \"update_updated\";\r\nexport const __update_updatedNoVersion = \"update_updatedNoVersion\";\r\nexport const __update_changes = \"update_changes\";\r\nexport const __register_success = \"register_success\";\r\nexport const __register_owned = \"register_owned\";\r\nexport const __register_notavail = \"register_notavail\";\r\nexport const __register_invalid = \"register_invalid\";\r\nexport const __register_already = \"register_already\";\r\nexport const __register_dlc = \"register_dlc\";\r\nexport const __register_wallet = \"register_wallet\";\r\nexport const __register_toomany = \"register_toomany\";\r\nexport const __register_default = \"register_default\";\r\nexport const __wl_label = \"wl_label\";\r\nexport const __wl_totalPrice = \"wl_totalPrice\";\r\nexport const __wl_inWishlist = \"wl_inWishlist\";\r\nexport const __wl_onSale = \"wl_onSale\";\r\nexport const __wl_noPrice = \"wl_noPrice\";\r\nexport const __wl_hidden = \"wl_hidden\";\r\nexport const __wl_hiddenTooltip = \"wl_hiddenTooltip\";\r\nexport const __wl_removeTitle = \"wl_removeTitle\";\r\nexport const __wl_removeConfirm = \"wl_removeConfirm\";\r\nexport const __wl_removeConfirmWarn = \"wl_removeConfirmWarn\";\r\nexport const __coll_totalTime = \"coll_totalTime\";\r\nexport const __coll_inCollection = \"coll_inCollection\";\r\nexport const __coll_played = \"coll_played\";\r\nexport const __coll_neverPlayed = \"coll_neverPlayed\";\r\nexport const __userNote_add = \"userNote_add\";\r\nexport const __userNote_update = \"userNote_update\";\r\nexport const __userNote_addForGame = \"userNote_addForGame\";\r\nexport const __userNote_notEnoughSpace = \"userNote_notEnoughSpace\";\r\nexport const __userNote_notEnoughSpaceDesc = \"userNote_notEnoughSpaceDesc\";\r\nexport const __userNote_closeOnStorage = \"userNote_closeOnStorage\";\r\nexport const __userNote_closeOnStorageDesc = \"userNote_closeOnStorageDesc\";\r\nexport const __userNote_storageWarningDesc = \"userNote_storageWarningDesc\";\r\nexport const __userNote_saveSyncedStorage = \"userNote_saveSyncedStorage\";\r\nexport const __userNote_saveLocal = \"userNote_saveLocal\";\r\nexport const __userNote_syncOption = \"userNote_syncOption\";\r\nexport const __userNote_syncInfo_1 = \"userNote_syncInfo_1\";\r\nexport const __userNote_syncInfo_2 = \"userNote_syncInfo_2\";\r\nexport const __userNote_syncInfo_3 = \"userNote_syncInfo_3\";\r\nexport const __userNote_syncButtonPush = \"userNote_syncButtonPush\";\r\nexport const __userNote_syncButtonPull = \"userNote_syncButtonPull\";\r\nexport const __userNote_syncPulled = \"userNote_syncPulled\";\r\nexport const __userNote_syncPushed = \"userNote_syncPushed\";\r\nexport const __userNote_syncFailed = \"userNote_syncFailed\";\r\nexport const __userNote_syncError = \"userNote_syncError\";\r\nexport const __userNote_syncErrorEmpty = \"userNote_syncErrorEmpty\";\r\nexport const __userNote_syncErrorUnknown = \"userNote_syncErrorUnknown\";\r\nexport const __userNote_syncErrorLength = \"userNote_syncErrorLength\";\r\nexport const __queue_new = \"queue_new\";\r\nexport const __queue_newTooltip = \"queue_newTooltip\";\r\nexport const __workshop_workshop = \"workshop_workshop\";\r\nexport const __workshop_subscriptions = \"workshop_subscriptions\";\r\nexport const __workshop_subscribeAll = \"workshop_subscribeAll\";\r\nexport const __workshop_subscribeConfirm = \"workshop_subscribeConfirm\";\r\nexport const __workshop_subscribeLoading = \"workshop_subscribeLoading\";\r\nexport const __workshop_unsubscribeAll = \"workshop_unsubscribeAll\";\r\nexport const __workshop_unsubscribeConfirm = \"workshop_unsubscribeConfirm\";\r\nexport const __workshop_unsubscribeLoading = \"workshop_unsubscribeLoading\";\r\nexport const __workshop_finished = \"workshop_finished\";\r\nexport const __workshop_failed = \"workshop_failed\";\r\nexport const __workshop_collectionSortBy = \"workshop_collectionSortBy\";\r\nexport const __workshop_collectionSortSubscription = \"workshop_collectionSortSubscription\";\r\nexport const __workshop_collectionSortRating = \"workshop_collectionSortRating\";\r\nexport const __workshop_collectionSortTitle = \"workshop_collectionSortTitle\";\r\nexport const __workshop_collectionSortAuthor = \"workshop_collectionSortAuthor\";\r\nexport const __originalAuthors = \"originalAuthors\";\r\nexport const __acknowledgements = \"acknowledgements\";\r\nexport const __countries_ad = \"countries_ad\";\r\nexport const __countries_ae = \"countries_ae\";\r\nexport const __countries_af = \"countries_af\";\r\nexport const __countries_ag = \"countries_ag\";\r\nexport const __countries_ai = \"countries_ai\";\r\nexport const __countries_al = \"countries_al\";\r\nexport const __countries_am = \"countries_am\";\r\nexport const __countries_an = \"countries_an\";\r\nexport const __countries_ao = \"countries_ao\";\r\nexport const __countries_ar = \"countries_ar\";\r\nexport const __countries_as = \"countries_as\";\r\nexport const __countries_at = \"countries_at\";\r\nexport const __countries_au = \"countries_au\";\r\nexport const __countries_aw = \"countries_aw\";\r\nexport const __countries_az = \"countries_az\";\r\nexport const __countries_ba = \"countries_ba\";\r\nexport const __countries_bb = \"countries_bb\";\r\nexport const __countries_bd = \"countries_bd\";\r\nexport const __countries_be = \"countries_be\";\r\nexport const __countries_bf = \"countries_bf\";\r\nexport const __countries_bg = \"countries_bg\";\r\nexport const __countries_bh = \"countries_bh\";\r\nexport const __countries_bi = \"countries_bi\";\r\nexport const __countries_bj = \"countries_bj\";\r\nexport const __countries_bm = \"countries_bm\";\r\nexport const __countries_bn = \"countries_bn\";\r\nexport const __countries_bo = \"countries_bo\";\r\nexport const __countries_br = \"countries_br\";\r\nexport const __countries_bs = \"countries_bs\";\r\nexport const __countries_bt = \"countries_bt\";\r\nexport const __countries_bv = \"countries_bv\";\r\nexport const __countries_bw = \"countries_bw\";\r\nexport const __countries_by = \"countries_by\";\r\nexport const __countries_bz = \"countries_bz\";\r\nexport const __countries_ca = \"countries_ca\";\r\nexport const __countries_cd = \"countries_cd\";\r\nexport const __countries_cf = \"countries_cf\";\r\nexport const __countries_cg = \"countries_cg\";\r\nexport const __countries_ch = \"countries_ch\";\r\nexport const __countries_ci = \"countries_ci\";\r\nexport const __countries_ck = \"countries_ck\";\r\nexport const __countries_cl = \"countries_cl\";\r\nexport const __countries_cm = \"countries_cm\";\r\nexport const __countries_cn = \"countries_cn\";\r\nexport const __countries_co = \"countries_co\";\r\nexport const __countries_cr = \"countries_cr\";\r\nexport const __countries_cu = \"countries_cu\";\r\nexport const __countries_cv = \"countries_cv\";\r\nexport const __countries_cy = \"countries_cy\";\r\nexport const __countries_cz = \"countries_cz\";\r\nexport const __countries_de = \"countries_de\";\r\nexport const __countries_dj = \"countries_dj\";\r\nexport const __countries_dk = \"countries_dk\";\r\nexport const __countries_dm = \"countries_dm\";\r\nexport const __countries_do = \"countries_do\";\r\nexport const __countries_dz = \"countries_dz\";\r\nexport const __countries_ec = \"countries_ec\";\r\nexport const __countries_ee = \"countries_ee\";\r\nexport const __countries_eg = \"countries_eg\";\r\nexport const __countries_eh = \"countries_eh\";\r\nexport const __countries_er = \"countries_er\";\r\nexport const __countries_es = \"countries_es\";\r\nexport const __countries_et = \"countries_et\";\r\nexport const __countries_fi = \"countries_fi\";\r\nexport const __countries_fj = \"countries_fj\";\r\nexport const __countries_fk = \"countries_fk\";\r\nexport const __countries_fm = \"countries_fm\";\r\nexport const __countries_fo = \"countries_fo\";\r\nexport const __countries_fr = \"countries_fr\";\r\nexport const __countries_ga = \"countries_ga\";\r\nexport const __countries_gb = \"countries_gb\";\r\nexport const __countries_gd = \"countries_gd\";\r\nexport const __countries_ge = \"countries_ge\";\r\nexport const __countries_gf = \"countries_gf\";\r\nexport const __countries_gg = \"countries_gg\";\r\nexport const __countries_gh = \"countries_gh\";\r\nexport const __countries_gi = \"countries_gi\";\r\nexport const __countries_gl = \"countries_gl\";\r\nexport const __countries_gm = \"countries_gm\";\r\nexport const __countries_gn = \"countries_gn\";\r\nexport const __countries_gp = \"countries_gp\";\r\nexport const __countries_gq = \"countries_gq\";\r\nexport const __countries_gr = \"countries_gr\";\r\nexport const __countries_gs = \"countries_gs\";\r\nexport const __countries_gt = \"countries_gt\";\r\nexport const __countries_gu = \"countries_gu\";\r\nexport const __countries_gw = \"countries_gw\";\r\nexport const __countries_gy = \"countries_gy\";\r\nexport const __countries_hk = \"countries_hk\";\r\nexport const __countries_hm = \"countries_hm\";\r\nexport const __countries_hn = \"countries_hn\";\r\nexport const __countries_hr = \"countries_hr\";\r\nexport const __countries_ht = \"countries_ht\";\r\nexport const __countries_hu = \"countries_hu\";\r\nexport const __countries_id = \"countries_id\";\r\nexport const __countries_ie = \"countries_ie\";\r\nexport const __countries_il = \"countries_il\";\r\nexport const __countries_im = \"countries_im\";\r\nexport const __countries_in = \"countries_in\";\r\nexport const __countries_io = \"countries_io\";\r\nexport const __countries_iq = \"countries_iq\";\r\nexport const __countries_ir = \"countries_ir\";\r\nexport const __countries_is = \"countries_is\";\r\nexport const __countries_it = \"countries_it\";\r\nexport const __countries_je = \"countries_je\";\r\nexport const __countries_jm = \"countries_jm\";\r\nexport const __countries_jo = \"countries_jo\";\r\nexport const __countries_jp = \"countries_jp\";\r\nexport const __countries_ke = \"countries_ke\";\r\nexport const __countries_kg = \"countries_kg\";\r\nexport const __countries_kh = \"countries_kh\";\r\nexport const __countries_ki = \"countries_ki\";\r\nexport const __countries_km = \"countries_km\";\r\nexport const __countries_kn = \"countries_kn\";\r\nexport const __countries_kp = \"countries_kp\";\r\nexport const __countries_kr = \"countries_kr\";\r\nexport const __countries_kw = \"countries_kw\";\r\nexport const __countries_ky = \"countries_ky\";\r\nexport const __countries_kz = \"countries_kz\";\r\nexport const __countries_la = \"countries_la\";\r\nexport const __countries_lb = \"countries_lb\";\r\nexport const __countries_lc = \"countries_lc\";\r\nexport const __countries_li = \"countries_li\";\r\nexport const __countries_lk = \"countries_lk\";\r\nexport const __countries_lr = \"countries_lr\";\r\nexport const __countries_ls = \"countries_ls\";\r\nexport const __countries_lt = \"countries_lt\";\r\nexport const __countries_lu = \"countries_lu\";\r\nexport const __countries_lv = \"countries_lv\";\r\nexport const __countries_ly = \"countries_ly\";\r\nexport const __countries_ma = \"countries_ma\";\r\nexport const __countries_mc = \"countries_mc\";\r\nexport const __countries_md = \"countries_md\";\r\nexport const __countries_me = \"countries_me\";\r\nexport const __countries_mg = \"countries_mg\";\r\nexport const __countries_mh = \"countries_mh\";\r\nexport const __countries_mk = \"countries_mk\";\r\nexport const __countries_ml = \"countries_ml\";\r\nexport const __countries_mm = \"countries_mm\";\r\nexport const __countries_mn = \"countries_mn\";\r\nexport const __countries_mo = \"countries_mo\";\r\nexport const __countries_mp = \"countries_mp\";\r\nexport const __countries_mq = \"countries_mq\";\r\nexport const __countries_mr = \"countries_mr\";\r\nexport const __countries_ms = \"countries_ms\";\r\nexport const __countries_mt = \"countries_mt\";\r\nexport const __countries_mu = \"countries_mu\";\r\nexport const __countries_mv = \"countries_mv\";\r\nexport const __countries_mw = \"countries_mw\";\r\nexport const __countries_mx = \"countries_mx\";\r\nexport const __countries_my = \"countries_my\";\r\nexport const __countries_mz = \"countries_mz\";\r\nexport const __countries_na = \"countries_na\";\r\nexport const __countries_nc = \"countries_nc\";\r\nexport const __countries_ne = \"countries_ne\";\r\nexport const __countries_nf = \"countries_nf\";\r\nexport const __countries_ng = \"countries_ng\";\r\nexport const __countries_ni = \"countries_ni\";\r\nexport const __countries_nl = \"countries_nl\";\r\nexport const __countries_no = \"countries_no\";\r\nexport const __countries_np = \"countries_np\";\r\nexport const __countries_nr = \"countries_nr\";\r\nexport const __countries_nu = \"countries_nu\";\r\nexport const __countries_nz = \"countries_nz\";\r\nexport const __countries_om = \"countries_om\";\r\nexport const __countries_pa = \"countries_pa\";\r\nexport const __countries_pe = \"countries_pe\";\r\nexport const __countries_pf = \"countries_pf\";\r\nexport const __countries_pg = \"countries_pg\";\r\nexport const __countries_ph = \"countries_ph\";\r\nexport const __countries_pk = \"countries_pk\";\r\nexport const __countries_pl = \"countries_pl\";\r\nexport const __countries_pm = \"countries_pm\";\r\nexport const __countries_pn = \"countries_pn\";\r\nexport const __countries_pr = \"countries_pr\";\r\nexport const __countries_ps = \"countries_ps\";\r\nexport const __countries_pt = \"countries_pt\";\r\nexport const __countries_pw = \"countries_pw\";\r\nexport const __countries_py = \"countries_py\";\r\nexport const __countries_qa = \"countries_qa\";\r\nexport const __countries_re = \"countries_re\";\r\nexport const __countries_ro = \"countries_ro\";\r\nexport const __countries_rs = \"countries_rs\";\r\nexport const __countries_ru = \"countries_ru\";\r\nexport const __countries_rw = \"countries_rw\";\r\nexport const __countries_sa = \"countries_sa\";\r\nexport const __countries_sb = \"countries_sb\";\r\nexport const __countries_sc = \"countries_sc\";\r\nexport const __countries_sd = \"countries_sd\";\r\nexport const __countries_se = \"countries_se\";\r\nexport const __countries_sg = \"countries_sg\";\r\nexport const __countries_sh = \"countries_sh\";\r\nexport const __countries_si = \"countries_si\";\r\nexport const __countries_sk = \"countries_sk\";\r\nexport const __countries_sl = \"countries_sl\";\r\nexport const __countries_sm = \"countries_sm\";\r\nexport const __countries_sn = \"countries_sn\";\r\nexport const __countries_so = \"countries_so\";\r\nexport const __countries_sr = \"countries_sr\";\r\nexport const __countries_st = \"countries_st\";\r\nexport const __countries_sv = \"countries_sv\";\r\nexport const __countries_sy = \"countries_sy\";\r\nexport const __countries_sz = \"countries_sz\";\r\nexport const __countries_tc = \"countries_tc\";\r\nexport const __countries_td = \"countries_td\";\r\nexport const __countries_tf = \"countries_tf\";\r\nexport const __countries_tg = \"countries_tg\";\r\nexport const __countries_th = \"countries_th\";\r\nexport const __countries_tj = \"countries_tj\";\r\nexport const __countries_tk = \"countries_tk\";\r\nexport const __countries_tl = \"countries_tl\";\r\nexport const __countries_tm = \"countries_tm\";\r\nexport const __countries_tn = \"countries_tn\";\r\nexport const __countries_to = \"countries_to\";\r\nexport const __countries_tr = \"countries_tr\";\r\nexport const __countries_tt = \"countries_tt\";\r\nexport const __countries_tv = \"countries_tv\";\r\nexport const __countries_tw = \"countries_tw\";\r\nexport const __countries_tz = \"countries_tz\";\r\nexport const __countries_ua = \"countries_ua\";\r\nexport const __countries_ug = \"countries_ug\";\r\nexport const __countries_um = \"countries_um\";\r\nexport const __countries_us = \"countries_us\";\r\nexport const __countries_uy = \"countries_uy\";\r\nexport const __countries_uz = \"countries_uz\";\r\nexport const __countries_va = \"countries_va\";\r\nexport const __countries_vc = \"countries_vc\";\r\nexport const __countries_ve = \"countries_ve\";\r\nexport const __countries_vg = \"countries_vg\";\r\nexport const __countries_vi = \"countries_vi\";\r\nexport const __countries_vn = \"countries_vn\";\r\nexport const __countries_vu = \"countries_vu\";\r\nexport const __countries_wf = \"countries_wf\";\r\nexport const __countries_ws = \"countries_ws\";\r\nexport const __countries_ye = \"countries_ye\";\r\nexport const __countries_yt = \"countries_yt\";\r\nexport const __countries_za = \"countries_za\";\r\nexport const __countries_zm = \"countries_zm\";\r\nexport const __countries_zw = \"countries_zw\";\r\n", "<script lang=\"ts\">\r\n    import {onMount} from \"svelte\";\r\n    import {__ready_failed, __ready_loading, __ready_ready, __ready_serverOutage} from \"@Strings/_strings\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n\r\n    export let react: boolean;\r\n\r\n    let started: number = 0;\r\n    let done: number = 0;\r\n    let failed: number = 0;\r\n\r\n    let progress: number = 0;\r\n    let isLoading: boolean = false;\r\n\r\n    let hasWarning: boolean = false;\r\n    let hasError: boolean = false;\r\n\r\n    $: if (started > 0) {\r\n        progress = Math.min(100, 100 * (done / started));\r\n\r\n        isLoading = (done + failed) < started;\r\n    }\r\n\r\n    onMount(() => {\r\n        function onStart(): void {\r\n            started += 1;\r\n        }\r\n\r\n        function onDone(): void {\r\n            done += 1;\r\n        }\r\n\r\n        function onError(e: Event) {\r\n            failed += 1;\r\n\r\n            const name = (<CustomEvent>e).detail.name ?? null;\r\n\r\n            if (name === \"ServerOutageError\") {\r\n                hasWarning = true;\r\n            } else {\r\n                hasError = true;\r\n            }\r\n        }\r\n\r\n        document.addEventListener(\"asRequestStart\", onStart);\r\n        document.addEventListener(\"asRequestDone\", onDone);\r\n        document.addEventListener(\"asRequestError\", onError);\r\n\r\n        return () => {\r\n            document.removeEventListener(\"asRequestStart\", onStart);\r\n            document.removeEventListener(\"asRequestDone\", onDone);\r\n            document.removeEventListener(\"asRequestError\", onError);\r\n        }\r\n    });\r\n</script>\r\n\r\n\r\n<div class=\"wrapper\" class:is-react={react} class:is-legacy={!react}>\r\n    <div class=\"progress\"\r\n         class:is-complete=\"{!isLoading}\"\r\n         class:is-warning=\"{hasWarning}\"\r\n         class:is-error=\"{hasError}\"\r\n         title={L(isLoading ? __ready_loading : __ready_ready)}>\r\n        <div class=\"bar\">\r\n            <div class=\"value\" style:width=\"{isLoading ? progress : 18}px\"></div>\r\n        </div>\r\n    </div>\r\n\r\n    {#if hasError}\r\n        <div class=\"error\">{L(__ready_failed, {\"amount\": failed})}</div>\r\n    {:else if hasWarning}\r\n        <div class=\"warning\">{L(__ready_serverOutage)}</div>\r\n    {/if}\r\n</div>\r\n\r\n\r\n<style>\r\n    .wrapper.is-legacy {\r\n        position: relative;\r\n        float: right;\r\n    }\r\n    .wrapper.is-react {\r\n        position: absolute;\r\n        top: 0;\r\n        right: 0;\r\n    }\r\n\r\n    .progress {\r\n        position: relative;\r\n        top: 55px;\r\n        width: 100px;\r\n        min-width: 16px;\r\n        height: 16px;\r\n        box-sizing: content-box;\r\n        border-radius: 8px;\r\n        overflow: hidden;\r\n        border-bottom: 1px solid rgba(255, 255, 255, 0.20);\r\n    }\r\n    .is-error,\r\n    .is-warning,\r\n    .is-complete {\r\n        width: 16px;\r\n    }\r\n    .progress,\r\n    .value {\r\n        transition: width 1s ease-in-out;\r\n    }\r\n    .value {\r\n        width: 18px;\r\n    }\r\n    /* This prevents the black bleeding from \"es_progress__bar\" background\r\n        around the edges of \"es_progress__value\" to make it look smoother */\r\n    .is-error .value,\r\n    .is-warning .value,\r\n    .is-complete .value {\r\n        width: calc(100% + 4px) !important;\r\n    }\r\n    .is-complete {\r\n        animation: delayBoxShadowGreen linear 1s;\r\n        animation-fill-mode: forwards;\r\n    }\r\n    .is-error, .is-warning {\r\n        cursor: help;\r\n        animation: linear 1s;\r\n        animation-fill-mode: forwards;\r\n    }\r\n    .is-error {\r\n        animation-name: delayBoxShadowRed;\r\n    }\r\n    .is-warning {\r\n        animation-name: delayBoxShadowYellow;\r\n    }\r\n    .is-error::before, .is-warning::before {\r\n        display: block;\r\n        content: \"!\";\r\n        position: absolute;\r\n        top: 2px;\r\n        right: 0;\r\n        left: 0;\r\n        line-height: 12px;\r\n        text-align: center;\r\n        font-size: 14px;\r\n        font-family: Impact, Charcoal, sans-serif;\r\n        text-shadow: 0 0 1px black;\r\n    }\r\n    .is-error::before {\r\n        color: rgb(255, 149, 149);\r\n    }\r\n    .is-warning::before {\r\n        color: white;\r\n    }\r\n    .progress .bar {\r\n        background-color: black;\r\n        border-radius: 8px;\r\n    }\r\n    .value {\r\n        height: 16px;\r\n        margin-left: -2px;\r\n        background-color: #51771d;\r\n        border-radius: 8px;\r\n        background-image: linear-gradient(to bottom, rgba(255, 255, 255, 0.25) 5%, rgba(255, 255, 255, 0) 95%);\r\n    }\r\n    .is-error .value, .is-warning .value {\r\n        transition: unset;\r\n        border-radius: 8px;\r\n    }\r\n    .is-error .value {\r\n        background-color: #b31414;\r\n    }\r\n    .is-warning .value {\r\n        background-color: #d9ab05;\r\n    }\r\n    @keyframes delayBoxShadowRed {\r\n        100% {\r\n            box-shadow: 0 0 8px 1px #b31414;\r\n        }\r\n    }\r\n    @keyframes delayBoxShadowYellow {\r\n        100% {\r\n            box-shadow: 0 0 8px 1px #d9ab05;\r\n        }\r\n    }\r\n    @keyframes delayBoxShadowGreen {\r\n        100% {\r\n            box-shadow: 0 0 8px 1px #51771d;\r\n        }\r\n    }\r\n\r\n    .error, .warning {\r\n        display: none;\r\n        color: #ccc;\r\n        font-size: 11px;\r\n        background-color: #333;\r\n        border: 1px solid #444;\r\n        position: absolute;\r\n        min-width: 200px;\r\n        max-width: 250px;\r\n        padding: 5px;\r\n        top: 52px;\r\n        right: 22px;\r\n        list-style-position: inside;\r\n    }\r\n    .error::before, .warning::before {\r\n        content: \"\";\r\n        display: block;\r\n        background-color: #444;\r\n        width: 10px;\r\n        height: 10px;\r\n        position: absolute;\r\n        top: 5px;\r\n        right: -5px;\r\n        z-index: -1;\r\n        transform: rotateZ(45deg);\r\n    }\r\n    .wrapper:hover .error, .wrapper:hover .warning {\r\n        display: block !important;\r\n    }\r\n</style>\r\n", "\r\n/**\r\n * Utility class for mapping commonly used Steam elements\r\n */\r\nexport default class ReactDOM {\r\n\r\n    static globalHeader(): HTMLElement|null {\r\n        return document.querySelector<HTMLElement>(\".eGsI8rO3zfU-.bp0Pu4TVwpI-,#StoreTemplate > header\");\r\n    }\r\n\r\n    static globalActions(): HTMLElement|null {\r\n        return this.globalHeader()?.querySelector<HTMLElement>(\".h3Jy-1Il1os-,nav + div\") ?? null;\r\n    }\r\n}", "import self_ from \"./ProgressBar.svelte\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport ReactDOM from \"@Content/Steam/ReactDOM\";\r\n\r\nexport default class ProgressBar {\r\n\r\n    private static build(react: boolean, node: HTMLElement|null): void {\r\n        if (!Settings.show_progressbar || !node) {\r\n            return;\r\n        }\r\n\r\n        new self_({\r\n            target: node.parentElement!,\r\n            anchor: node.nextElementSibling ?? undefined,\r\n            props: {react}\r\n        });\r\n    }\r\n\r\n    static buildLegacy(): void {\r\n        this.build(false, document.querySelector(\"#global_actions\"));\r\n    }\r\n\r\n    static buildReact(): void {\r\n        this.build(true, ReactDOM.globalActions());\r\n    }\r\n}\r\n", "import SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\nimport DOMHelper from \"@Content/Modules/DOMHelper\";\r\nimport {MessageHandler} from \"@Content/Modules/Messaging/MessageHandler\";\r\nimport Messenger from \"@Content/Modules/Messaging/Messenger\";\r\n\r\nexport default class DynamicStore {\r\n\r\n    private static registered: boolean = false;\r\n    private static readyPromise: Promise<void>;\r\n\r\n    private static register(): void {\r\n        if (this.registered) {\r\n            return;\r\n        }\r\n        DOMHelper.insertScript(\"scriptlets/DynamicStoreScriptlet.js\");\r\n        this.registered = true;\r\n    }\r\n\r\n    static onReady(): Promise<void> {\r\n        if (!this.readyPromise) {\r\n            this.readyPromise = new Promise(resolve => {\r\n                this.register();\r\n                window.addEventListener(\"DSReady\", () => resolve(), {once: true});\r\n                Messenger.call(MessageHandler.DynamicStore, \"onReady\");\r\n            });\r\n        }\r\n        return this.readyPromise;\r\n    }\r\n\r\n    static invalidateCacheHandler(): void {\r\n        this.register();\r\n        window.addEventListener(\"DSInvalidateCache\", () => this.clear());\r\n        Messenger.call(MessageHandler.DynamicStore, \"invalidateCache\");\r\n    }\r\n\r\n    static clear(): Promise<void> {\r\n        return SteamStoreApiFacade.clearDynamicStore();\r\n    }\r\n\r\n    static async getAppsStatus(storeIds: string[]): Promise<{\r\n        ignored: Set<string>,\r\n        ignoredOwned: Set<string>,\r\n        owned: Set<string>,\r\n        wishlisted: Set<string>,\r\n        followed: Set<string>,\r\n    }> {\r\n        const dsStatus = await SteamStoreApiFacade.getDynamicStoreStatus(storeIds);\r\n        return {\r\n            ignored: new Set(dsStatus.ignored),\r\n            ignoredOwned: new Set(dsStatus.ignoredOwned),\r\n            owned: new Set(dsStatus.owned),\r\n            wishlisted: new Set(dsStatus.wishlisted),\r\n            followed: new Set(dsStatus.followed)\r\n        }\r\n    }\r\n\r\n    static async getAppStatus(storeId: string): Promise<{\r\n        ignored: boolean,\r\n        ignoredOwned: boolean,\r\n        owned: boolean,\r\n        wishlisted: boolean,\r\n        followed: boolean\r\n    }> {\r\n        const dsStatus = await SteamStoreApiFacade.getDynamicStoreStatus([storeId]);\r\n        return {\r\n            ignored: dsStatus.ignored.length > 0,\r\n            ignoredOwned: dsStatus.ignoredOwned.length > 0,\r\n            owned: dsStatus.owned.length > 0,\r\n            wishlisted: dsStatus.wishlisted.length > 0,\r\n            followed: dsStatus.followed.length > 0,\r\n        }\r\n    }\r\n\r\n    static getRandomApp(): Promise<number|null> {\r\n        return SteamStoreApiFacade.getDynamicStoreRandomApp();\r\n    }\r\n}\r\n", "import Settings from \"@Options/Data/Settings\";\r\n\r\nexport default function external(node: HTMLAnchorElement): void {\r\n    const OpenInNewTab = Settings.openinnewtab;\r\n    if (!OpenInNewTab) { return; }\r\n\r\n    node.target = \"_blank\";\r\n    node.rel = \"noreferrer noopener\";\r\n}\r\n", "import Background from \"@Core/Background\";\r\nimport {EAction} from \"@Background/EAction\";\r\n\r\nexport default class CacheApiFacade {\r\n\r\n    static clearCache(): Promise<void> {\r\n        return Background.send<void>(EAction.CacheClear);\r\n    }\r\n}\r\n", "import { cubicOut, cubicInOut, linear } from '../easing/index.js';\nimport { assign, split_css_unit, is_function } from '../internal/index.js';\n\n/**\n * Animates a `blur` filter alongside an element's opacity.\n *\n * https://svelte.dev/docs/svelte-transition#blur\n * @param {Element} node\n * @param {import('./public').BlurParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function blur(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst f = style.filter === 'none' ? '' : style.filter;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [value, unit] = split_css_unit(amount);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `opacity: ${target_opacity - od * u}; filter: ${f} blur(${u * value}${unit});`\n\t};\n}\n\n/**\n * Animates the opacity of an element from 0 to the current opacity for `in` transitions and from the current opacity to 0 for `out` transitions.\n *\n * https://svelte.dev/docs/svelte-transition#fade\n * @param {Element} node\n * @param {import('./public').FadeParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n\tconst o = +getComputedStyle(node).opacity;\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) => `opacity: ${t * o}`\n\t};\n}\n\n/**\n * Animates the x and y positions and the opacity of an element. `in` transitions animate from the provided values, passed as parameters to the element's default values. `out` transitions animate from the element's default values to the provided values.\n *\n * https://svelte.dev/docs/svelte-transition#fly\n * @param {Element} node\n * @param {import('./public').FlyParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function fly(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst od = target_opacity * (1 - opacity);\n\tconst [xValue, xUnit] = split_css_unit(x);\n\tconst [yValue, yUnit] = split_css_unit(y);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * xValue}${xUnit}, ${(1 - t) * yValue}${yUnit});\n\t\t\topacity: ${target_opacity - od * u}`\n\t};\n}\n\n/**\n * Slides an element in and out.\n *\n * https://svelte.dev/docs/svelte-transition#slide\n * @param {Element} node\n * @param {import('./public').SlideParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function slide(node, { delay = 0, duration = 400, easing = cubicOut, axis = 'y' } = {}) {\n\tconst style = getComputedStyle(node);\n\tconst opacity = +style.opacity;\n\tconst primary_property = axis === 'y' ? 'height' : 'width';\n\tconst primary_property_value = parseFloat(style[primary_property]);\n\tconst secondary_properties = axis === 'y' ? ['top', 'bottom'] : ['left', 'right'];\n\tconst capitalized_secondary_properties = secondary_properties.map(\n\t\t(e) => `${e[0].toUpperCase()}${e.slice(1)}`\n\t);\n\tconst padding_start_value = parseFloat(style[`padding${capitalized_secondary_properties[0]}`]);\n\tconst padding_end_value = parseFloat(style[`padding${capitalized_secondary_properties[1]}`]);\n\tconst margin_start_value = parseFloat(style[`margin${capitalized_secondary_properties[0]}`]);\n\tconst margin_end_value = parseFloat(style[`margin${capitalized_secondary_properties[1]}`]);\n\tconst border_width_start_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[0]}Width`]\n\t);\n\tconst border_width_end_value = parseFloat(\n\t\tstyle[`border${capitalized_secondary_properties[1]}Width`]\n\t);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (t) =>\n\t\t\t'overflow: hidden;' +\n\t\t\t`opacity: ${Math.min(t * 20, 1) * opacity};` +\n\t\t\t`${primary_property}: ${t * primary_property_value}px;` +\n\t\t\t`padding-${secondary_properties[0]}: ${t * padding_start_value}px;` +\n\t\t\t`padding-${secondary_properties[1]}: ${t * padding_end_value}px;` +\n\t\t\t`margin-${secondary_properties[0]}: ${t * margin_start_value}px;` +\n\t\t\t`margin-${secondary_properties[1]}: ${t * margin_end_value}px;` +\n\t\t\t`border-${secondary_properties[0]}-width: ${t * border_width_start_value}px;` +\n\t\t\t`border-${secondary_properties[1]}-width: ${t * border_width_end_value}px;`\n\t};\n}\n\n/**\n * Animates the opacity and scale of an element. `in` transitions animate from an element's current (default) values to the provided values, passed as parameters. `out` transitions animate from the provided values to an element's default values.\n *\n * https://svelte.dev/docs/svelte-transition#scale\n * @param {Element} node\n * @param {import('./public').ScaleParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function scale(\n\tnode,\n\t{ delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}\n) {\n\tconst style = getComputedStyle(node);\n\tconst target_opacity = +style.opacity;\n\tconst transform = style.transform === 'none' ? '' : style.transform;\n\tconst sd = 1 - start;\n\tconst od = target_opacity * (1 - opacity);\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - sd * u});\n\t\t\topacity: ${target_opacity - od * u}\n\t\t`\n\t};\n}\n\n/**\n * Animates the stroke of an SVG element, like a snake in a tube. `in` transitions begin with the path invisible and draw the path to the screen over time. `out` transitions start in a visible state and gradually erase the path. `draw` only works with elements that have a `getTotalLength` method, like `<path>` and `<polyline>`.\n *\n * https://svelte.dev/docs/svelte-transition#draw\n * @param {SVGElement & { getTotalLength(): number }} node\n * @param {import('./public').DrawParams} [params]\n * @returns {import('./public').TransitionConfig}\n */\nexport function draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n\tlet len = node.getTotalLength();\n\tconst style = getComputedStyle(node);\n\tif (style.strokeLinecap !== 'butt') {\n\t\tlen += parseInt(style.strokeWidth);\n\t}\n\tif (duration === undefined) {\n\t\tif (speed === undefined) {\n\t\t\tduration = 800;\n\t\t} else {\n\t\t\tduration = len / speed;\n\t\t}\n\t} else if (typeof duration === 'function') {\n\t\tduration = duration(len);\n\t}\n\treturn {\n\t\tdelay,\n\t\tduration,\n\t\teasing,\n\t\tcss: (_, u) => `\n\t\t\tstroke-dasharray: ${len};\n\t\t\tstroke-dashoffset: ${u * len};\n\t\t`\n\t};\n}\n\n/**\n * The `crossfade` function creates a pair of [transitions](https://svelte.dev/docs#template-syntax-element-directives-transition-fn) called `send` and `receive`. When an element is 'sent', it looks for a corresponding element being 'received', and generates a transition that transforms the element to its counterpart's position and fades it out. When an element is 'received', the reverse happens. If there is no counterpart, the `fallback` transition is used.\n *\n * https://svelte.dev/docs/svelte-transition#crossfade\n * @param {import('./public').CrossfadeParams & {\n * \tfallback?: (node: Element, params: import('./public').CrossfadeParams, intro: boolean) => import('./public').TransitionConfig;\n * }} params\n * @returns {[(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig, (node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig]}\n */\nexport function crossfade({ fallback, ...defaults }) {\n\t/** @type {Map<any, Element>} */\n\tconst to_receive = new Map();\n\t/** @type {Map<any, Element>} */\n\tconst to_send = new Map();\n\t/**\n\t * @param {Element} from_node\n\t * @param {Element} node\n\t * @param {import('./public').CrossfadeParams} params\n\t * @returns {import('./public').TransitionConfig}\n\t */\n\tfunction crossfade(from_node, node, params) {\n\t\tconst {\n\t\t\tdelay = 0,\n\t\t\tduration = (d) => Math.sqrt(d) * 30,\n\t\t\teasing = cubicOut\n\t\t} = assign(assign({}, defaults), params);\n\t\tconst from = from_node.getBoundingClientRect();\n\t\tconst to = node.getBoundingClientRect();\n\t\tconst dx = from.left - to.left;\n\t\tconst dy = from.top - to.top;\n\t\tconst dw = from.width / to.width;\n\t\tconst dh = from.height / to.height;\n\t\tconst d = Math.sqrt(dx * dx + dy * dy);\n\t\tconst style = getComputedStyle(node);\n\t\tconst transform = style.transform === 'none' ? '' : style.transform;\n\t\tconst opacity = +style.opacity;\n\t\treturn {\n\t\t\tdelay,\n\t\t\tduration: is_function(duration) ? duration(d) : duration,\n\t\t\teasing,\n\t\t\tcss: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${\n\t\t\t\tt + (1 - t) * dh\n\t\t\t});\n\t\t\t`\n\t\t};\n\t}\n\n\t/**\n\t * @param {Map<any, Element>} items\n\t * @param {Map<any, Element>} counterparts\n\t * @param {boolean} intro\n\t * @returns {(node: any, params: import('./public').CrossfadeParams & { key: any; }) => () => import('./public').TransitionConfig}\n\t */\n\tfunction transition(items, counterparts, intro) {\n\t\treturn (node, params) => {\n\t\t\titems.set(params.key, node);\n\t\t\treturn () => {\n\t\t\t\tif (counterparts.has(params.key)) {\n\t\t\t\t\tconst other_node = counterparts.get(params.key);\n\t\t\t\t\tcounterparts.delete(params.key);\n\t\t\t\t\treturn crossfade(other_node, node, params);\n\t\t\t\t}\n\t\t\t\t// if the node is disappearing altogether\n\t\t\t\t// (i.e. wasn't claimed by the other list)\n\t\t\t\t// then we need to supply an outro\n\t\t\t\titems.delete(params.key);\n\t\t\t\treturn fallback && fallback(node, params, intro);\n\t\t\t};\n\t\t};\n\t}\n\treturn [transition(to_send, to_receive, false), transition(to_receive, to_send, true)];\n}\n", "<script lang=\"ts\">\r\n    export let type: \"primary\"|\"secondary\"|\"cancel\";\r\n</script>\r\n\r\n\r\n<button type=\"button\"\r\n        class:primary={type === \"primary\"}\r\n        class:secondary={type === \"secondary\"}\r\n        class:cancel={type === \"cancel\"}\r\n        on:click>\r\n    <span><slot></slot></span>\r\n</button>\r\n\r\n\r\n<style>\r\n    button {\r\n        margin-left: 12px;\r\n        margin-top: 12px;\r\n        border-radius: 2px;\r\n        border: none;\r\n        padding: 1px;\r\n        display: inline-block;\r\n        cursor: pointer;\r\n        text-decoration: none !important;\r\n        color: #d2efa9;\r\n        text-shadow: 1px 1px 0 rgba(0, 0, 0, 0.3);\r\n        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2);\r\n        background-size: 330% 100%;\r\n    }\r\n    .primary {\r\n        background-image: linear-gradient( to right, #75b022 5%, #588a1b 95%);\r\n        color: #d2efa9;\r\n    }\r\n    .primary:hover {\r\n        background-image: linear-gradient( to right, #8ed629 5%, #6aa621 95%);\r\n        color: white;\r\n    }\r\n\r\n    .secondary {\r\n        background-image: linear-gradient( to right, #47bfff 5%, #1a44c2 60%);\r\n        color: #c3e1f8;\r\n    }\r\n    .secondary:hover {\r\n        background-image: linear-gradient( to right, #47bfff 5%, #1a44c2 60%);\r\n        color: white;\r\n    }\r\n\r\n    .cancel {\r\n        background-image: linear-gradient( to right, #32363f 5%, #32363f 95%);\r\n        color: #dfe3e6;\r\n    }\r\n    .cancel:hover {\r\n        background-image: linear-gradient( to right, #464d58 5%, #464d58 95%);\r\n        color: white;\r\n    }\r\n\r\n    span {\r\n        padding: 0 15px;\r\n        font-size: 15px;\r\n        line-height: 30px;\r\n    }\r\n</style>", "<script lang=\"ts\">\r\n    import {createEventDispatcher} from \"svelte\";\r\n    import {fade} from \"svelte/transition\";\r\n    import ModalButton from \"@Core/Modals/Contained/ModalButton.svelte\";\r\n    import {EModalAction} from \"@Core/Modals/Contained/EModalAction\";\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        button: EModalAction\r\n    }>();\r\n\r\n    export let title: string;\r\n    export let body: string = \"\";\r\n    export let showClose: boolean = false;\r\n    export let buttons: {\r\n        primary?: string,\r\n        secondary?: string,\r\n        cancel?: string\r\n    }|undefined = undefined;\r\n</script>\r\n\r\n<div class=\"container\">\r\n    <div class=\"bg\" in:fade={{duration: 200}}></div>\r\n    <div class=\"modal\">\r\n        <div class=\"top-bar\"></div>\r\n        <div>\r\n            <div class=\"header\">\r\n                {#if showClose}\r\n                    <button type=\"button\" on:click={() => dispatch(\"button\", EModalAction.Cancel)}></button>\r\n                {/if}\r\n                <div class=\"title\">{title}</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"content\">\r\n            <slot>{@html body}</slot>\r\n\r\n            {#if buttons && (buttons?.primary || buttons?.secondary || buttons?.cancel)}\r\n                <div class=\"buttons\">\r\n                    {#if buttons?.primary}\r\n                        <ModalButton type=\"primary\" on:click={() => dispatch(\"button\", EModalAction.OK)}>{buttons.primary}</ModalButton>\r\n                    {/if}\r\n                    {#if buttons?.secondary}\r\n                        <ModalButton type=\"secondary\" on:click={() => dispatch(\"button\", EModalAction.Secondary)}>{buttons.secondary}</ModalButton>\r\n                    {/if}\r\n                    {#if buttons?.cancel}\r\n                        <ModalButton type=\"cancel\" on:click={() => dispatch(\"button\", EModalAction.Cancel)}>{buttons.cancel}</ModalButton>\r\n                    {/if}\r\n                </div>\r\n            {/if}\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<style>\r\n    .container {\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 900;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        width: 100vw;\r\n        height: 100vh\r\n    }\r\n\r\n    .modal {\r\n        position: relative;\r\n        min-width: 500px;\r\n        max-width: calc(100vw - 100px);\r\n        margin: auto;\r\n        font-family: \"Motiva Sans\", Sans-serif;\r\n        font-weight: normal;\r\n        background: radial-gradient(circle at top left, rgba(74, 81, 92, 0.4) 0%, rgba(75, 81, 92, 0) 60%), #25282e;\r\n    }\r\n\r\n    .top-bar {\r\n        width: 100%;\r\n        height: 1px;\r\n        background: linear-gradient(to right, #00ccff, #3366ff);\r\n    }\r\n\r\n    .header {\r\n        padding: 0;\r\n        text-align: left;\r\n        font-size: 22px;\r\n        font-weight: 700;\r\n        color: #ffffff;\r\n        letter-spacing: unset;\r\n        text-transform: unset;\r\n    }\r\n\r\n    button {\r\n        border: none;\r\n        background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjVBREZBRDlBNzdCNzExRTI5ODAzRUE3MDU0Mzk5MjM5IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjVBREZBRDlCNzdCNzExRTI5ODAzRUE3MDU0Mzk5MjM5Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NUFERkFEOTg3N0I3MTFFMjk4MDNFQTcwNTQzOTkyMzkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NUFERkFEOTk3N0I3MTFFMjk4MDNFQTcwNTQzOTkyMzkiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz4iulRzAAABPElEQVR42mI8cuQIAyWABUqbAXEylH0fiDtwqI8FYhsoewEQH4cZcBaI64DYG8p/AVWADDyAeD4QMwPxJiA+BRJkgkr+BeJoIL4D5U8DYi0kzepAvAKq+TJU7V9kA0DgIxD7Q2lOIF4NpfmBeAuUfg3EPkD8BaaJCc2Z14A4EcoGuWAC1NkqQPwLqvkRsgYmLAG1HoiboOw0IA6EshNh/iZkAAjUA/FBJP5KIF6GTSEuAwygUQsDflAxogwQAuJ10AAExcpNKHsjEIsSMoAZGl2K0EALBeIIKFsOKSpxGtACxK5Qdi4QX4DiAqiYExB34TIgBIgrkAJtFpLcdKgYCBQBcRRMghGamUBxfhKIeaB+NkFOLFAAkjsDTZXfgdgK5DpYXvBGiqYpWDQzQMVAYZKDlDcuMFKanQECDAAqw0LA+GRiqAAAAABJRU5ErkJggg==);\r\n        background-color: transparent;\r\n        background-repeat: no-repeat;\r\n        background-position: center right;\r\n        cursor: pointer;\r\n        float: right;\r\n        margin-top: 9px;\r\n        margin-right: 9px;\r\n        height: 16px;\r\n        width: 16px;\r\n        opacity: 0.7;\r\n    }\r\n    button:hover {\r\n        opacity: 1;\r\n    }\r\n\r\n    .title {\r\n        padding: 24px 24px 0 24px;\r\n        display: block;\r\n    }\r\n\r\n    .content {\r\n        width: 100%;\r\n        overflow: auto;\r\n        word-wrap: break-word;\r\n        padding: 24px 25px 25px 25px;\r\n        font-size: 16px;\r\n        line-height: 1.25;\r\n        color: #acb2b8;\r\n        position: relative;\r\n        max-height: calc(100vh - 100px);\r\n        box-sizing: border-box;\r\n    }\r\n\r\n    .buttons {\r\n        text-align: right;\r\n    }\r\n\r\n    .bg {\r\n        position: fixed;\r\n        background: #000000;\r\n        opacity: 0.8;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n    }\r\n</style>", "import {__cancel, __ok} from \"@Strings/_strings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport Modal from \"@Core/Modals/Contained/Modal.svelte\";\r\nimport type {EModalAction} from \"@Core/Modals/Contained/EModalAction\";\r\n\r\nexport default class ConfirmDialog {\r\n\r\n    constructor(\r\n        private readonly title: string,\r\n        private readonly body: string=\"\",\r\n        private readonly buttons: {\r\n            primary?: string,\r\n            secondary?: string,\r\n            cancel?: string\r\n        } = {\r\n            primary: L(__ok),\r\n            cancel: L(__cancel)\r\n        }\r\n    ) {}\r\n\r\n    show(): Promise<EModalAction> {\r\n        return new Promise(resolve => {\r\n            const modal = new Modal({\r\n                target: document.body,\r\n                props: {\r\n                    title: this.title,\r\n                    body: this.body,\r\n                    buttons: this.buttons\r\n                }\r\n            });\r\n            modal.$on(\"button\", (e: CustomEvent<EModalAction>) => {\r\n                resolve(e.detail);\r\n                modal.$destroy();\r\n            });\r\n        });\r\n    }\r\n}\r\n", "import Modal from \"@Core/Modals/Contained/Modal.svelte\";\r\n\r\nexport default class AlertDialog {\r\n\r\n    constructor(\r\n        private readonly title: string,\r\n        private readonly body: string=\"\",\r\n    ) {}\r\n\r\n    show(): Promise<void> {\r\n        return new Promise(resolve => {\r\n            const modal = new Modal({\r\n                target: document.body,\r\n                props: {\r\n                    title: this.title,\r\n                    body: this.body,\r\n                    showClose: true,\r\n                    buttons: {\r\n                        cancel: \"OK\"\r\n                    }\r\n                }\r\n            });\r\n            modal.$on(\"button\", () => {\r\n                resolve();\r\n                modal.$destroy();\r\n            });\r\n        });\r\n    }\r\n}\r\n", "<script lang=\"ts\">\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import ExtensionResources from \"@Core/ExtensionResources\";\r\n    import {\r\n        __bugFeature,\r\n        __cancel,\r\n        __clearCache,\r\n        __contribute,\r\n        __launchRandom, __launchRandomGameError,\r\n        __ok,\r\n        __playGame,\r\n        __thewordoptions,\r\n        __visitStore,\r\n        __website\r\n    } from \"@Strings/_strings\";\r\n    import Config from \"config\";\r\n    import SteamStoreApiFacade from \"@Content/Modules/Facades/SteamStoreApiFacade\";\r\n    import DynamicStore from \"@Content/Modules/Data/DynamicStore\";\r\n    import external from \"@Content/externalLink\";\r\n    import type UserInterface from \"@Core/User/UserInterface\";\r\n    import CacheApiFacade from \"@Content/Modules/Facades/CacheApiFacade\";\r\n    import {onMount} from \"svelte\";\r\n    import {fade} from \"svelte/transition\";\r\n    import ConfirmDialog from \"@Core/Modals/ConfirmDialog\";\r\n    import {EModalAction} from \"@Core/Modals/Contained/EModalAction\";\r\n    import AlertDialog from \"@Core/Modals/AlertDialog\";\r\n\r\n    export let user: UserInterface;\r\n\r\n    let isOpen: boolean = false;\r\n    let parentNode: HTMLElement;\r\n\r\n    function outsideClickHandler(e: MouseEvent) {\r\n        const target = e.target as HTMLElement;\r\n        if (parentNode.contains(target)) {\r\n            return;\r\n        }\r\n        closeMenu();\r\n    }\r\n\r\n    function toggleMenu(): void {\r\n        if (isOpen) {\r\n            closeMenu();\r\n        } else {\r\n            openMenu();\r\n        }\r\n    }\r\n\r\n    function openMenu(): void {\r\n        isOpen = true;\r\n        document.addEventListener(\"click\", outsideClickHandler);\r\n    }\r\n\r\n    function closeMenu(): void {\r\n        isOpen = false;\r\n        document.removeEventListener(\"click\", outsideClickHandler);\r\n    }\r\n\r\n    async function clearCache(): Promise<void> {\r\n        await CacheApiFacade.clearCache();\r\n        window.location.reload();\r\n    }\r\n\r\n    async function launchRandom(): Promise<void> {\r\n        /**\r\n         * Sometimes we get appid for a game that doesn't have a game page, e.g. dlcs, beta packages etc.\r\n         * If that happens, try few more times to get a playable game\r\n         */\r\n        for (let i=0; i < 10; i++) {\r\n            const appid = await DynamicStore.getRandomApp();\r\n            if (!appid) { break; }\r\n\r\n            const appdetails = await SteamStoreApiFacade.fetchAppDetails(appid);\r\n            if (appdetails) {\r\n                const gameid = appdetails.fullgame?.appid ?? appid;\r\n                const gamename = appdetails.fullgame?.name ?? appdetails.name;\r\n\r\n                const confirm = await (new ConfirmDialog(\r\n                    L(__playGame, {gamename}),\r\n                    `<img src=\"https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/${gameid}/header.jpg\">`,\r\n                    {\r\n                        primary: L(__ok),\r\n                        secondary: L(__visitStore),\r\n                        cancel: L(__cancel)\r\n                    }\r\n                )).show();\r\n\r\n                if (confirm === EModalAction.OK) {\r\n                    window.location.assign(`steam://run/${gameid}`)\r\n                } else if (confirm === EModalAction.Secondary) {\r\n                    window.location.assign(`//store.steampowered.com/app/${gameid}`)\r\n                }\r\n                return;\r\n            }\r\n        }\r\n\r\n        await (new AlertDialog(L(__launchRandomGameError))).show();\r\n    }\r\n\r\n    onMount(() => {\r\n        parentNode\r\n    });\r\n</script>\r\n\r\n<div class=\"as-menu\" bind:this={parentNode}>\r\n    <button class:is-open={isOpen} on:click={toggleMenu}>Augmented Steam</button>\r\n\r\n    {#if isOpen}\r\n        <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\r\n        <div class=\"body\" on:click={closeMenu} transition:fade={{duration: 100}}>\r\n            <div class=\"group\">\r\n                <a target=\"_blank\" href={ExtensionResources.getURL(\"html/options.html\")}>{L(__thewordoptions)}</a>\r\n                <a href=\"#clear_cache\" on:click|preventDefault={clearCache}>{L(__clearCache)}</a>\r\n            </div>\r\n            <div class=\"group\">\r\n                <a use:external href=\"https://github.com/IsThereAnyDeal/AugmentedSteam\">{L(__contribute)}</a>\r\n                <a use:external href=\"https://github.com/IsThereAnyDeal/AugmentedSteam/issues\">{L(__bugFeature)}</a>\r\n            </div>\r\n            <div class=\"group\">\r\n                <a use:external href=\"{Config.PublicHost}\">{L(__website)}</a>\r\n                <a use:external href=\"https://isthereanydeal.com/\">IsThereAnyDeal</a>\r\n                <a use:external href=\"{Config.ITADDiscord}\">Discord</a>\r\n            </div>\r\n\r\n            {#if user.isSignedIn}\r\n                <div class=\"group\">\r\n                    <a id=\"es_random_game\" class=\"popup_menu_item\" on:click={launchRandom}>{L(__launchRandom)}</a>\r\n                </div>\r\n            {/if}\r\n        </div>\r\n    {/if}\r\n</div>\r\n\r\n\r\n<style>\r\n    .as-menu {\r\n        display: inline-block;\r\n        position: relative;\r\n    }\r\n\r\n    button {\r\n        display: inline-flex;\r\n        align-items: center;\r\n        border: none;\r\n        height: 25px;\r\n        font: inherit;\r\n        line-height: 25px;\r\n        margin-right: 5px;\r\n        color: #b8b6b4;\r\n        background-color: transparent;\r\n        background-image: url(\"https://cdn.fastly.steamstatic.com/store/ssr/btn_arrow_down_padded-LIJGVCWF.png\");\r\n        background-position: right center;\r\n        background-repeat: no-repeat;\r\n        padding-right: 18px;\r\n        cursor: pointer;\r\n    }\r\n    button.is-open,\r\n    button:hover {\r\n        color: #ffffff;\r\n    }\r\n\r\n    .body {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 100%;\r\n        white-space: nowrap;\r\n        font-size: 13px;\r\n        color: #b8b6b4;\r\n        padding: 0;\r\n        margin: 0;\r\n        background: #3d4450;\r\n        box-shadow: 0 0 12px #000000;\r\n        z-index: 1000;\r\n    }\r\n\r\n    .group + .group {\r\n        border-top: 1px solid #63717e;\r\n    }\r\n\r\n    a {\r\n        padding: 8px 18px;\r\n        display: block;\r\n        text-decoration: none;\r\n        color: #dcdedf;\r\n        white-space: nowrap;\r\n        cursor: pointer;\r\n        background: none;\r\n        border: none;\r\n        box-sizing: border-box;\r\n        text-align: start;\r\n        width: 100%;\r\n    }\r\n    a:hover {\r\n        background: #dcdedf;\r\n        color: #171a21;\r\n    }\r\n</style>\r\n", "<script lang=\"ts\">\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__hide, __update_dontShow} from \"@Strings/_strings\";\r\n    import {createEventDispatcher} from \"svelte\";\r\n\r\n    export let react: boolean;\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        close: void,\r\n        hide: void\r\n    }>();\r\n</script>\r\n\r\n\r\n<div class=\"es_warn\" class:is-react={react}>\r\n    <div class=\"es_warn__cnt\">\r\n        <div><slot></slot></div>\r\n        <div class=\"es_warn__control\">\r\n            <button type=\"button\" class=\"es_warn__btn\" on:click={() => dispatch(\"close\")}>{L(__update_dontShow)}</button>\r\n            <button type=\"button\" class=\"es_warn__btn\" on:click={() => dispatch(\"hide\")}>{L(__hide)}</button>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<style>\r\n    .es_warn {\r\n        font-size: 12px;\r\n        padding: 8px 0;\r\n        text-align: center;\r\n        background: #9a2820;\r\n        border-top: 1px solid #d63525;\r\n        border-bottom: 1px solid #d63525;\r\n        margin-bottom: -1px;\r\n        color: white;\r\n\r\n        & :global(a) {\r\n            color: white;\r\n        }\r\n    }\r\n    .es_warn.is-react {\r\n        margin-left: -14px;\r\n        padding-left: 14px;\r\n    }\r\n\r\n    .es_warn__cnt {\r\n        max-width: 940px;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        margin: auto;\r\n        line-height: 20px;\r\n    }\r\n    .es_warn__cnt button {\r\n        text-decoration: underline;\r\n    }\r\n\r\n    .es_warn__control {\r\n        white-space: nowrap;\r\n    }\r\n\r\n    button {\r\n        background: #ffaaaa;\r\n        padding: 0 10px;\r\n        color: black;\r\n        text-transform: uppercase;\r\n        font-size: 11px;\r\n        border-radius: 1px;\r\n        text-decoration: none !important;\r\n        display: inline-block;\r\n        line-height: 20px;\r\n        cursor: pointer;\r\n        white-space: nowrap;\r\n        border: 0;\r\n    }\r\n    button:hover {\r\n        background: #e89a9a;\r\n    }\r\n</style>\r\n", "import browser, {type Storage as ns} from \"webextension-polyfill\";\r\nimport Storage, {type StorageSchema} from \"./Storage\";\r\nimport type {TLogin} from \"@Background/Modules/Community/_types\";\r\n\r\n// FIXME exports are confusing, figure out better export scheme\r\n\r\ninterface CacheEntry<V = unknown> {\r\n    data: V,\r\n    expiry: number\r\n}\r\n\r\nexport interface LocalStorageSchema extends StorageSchema {\r\n    login: TLogin,\r\n    storeCountry: string,\r\n    currency: CacheEntry<string>,\r\n    access_token: {\r\n        token: string,\r\n        expiry: number\r\n    },\r\n    lastItadImport: {\r\n        from: null|number,\r\n        to: null|number\r\n    },\r\n    syncEvents: Array<{\r\n        section: string,\r\n        type: \"push\"|\"pull\",\r\n        timestamp: number,\r\n        count: number\r\n    }>,\r\n    db_cleanup: number,\r\n    show_review_section: boolean,\r\n    hide_login_warn_store: boolean,\r\n    hide_login_warn_community: boolean,\r\n    guide_tags: string[],\r\n    market_stats2: {\r\n        eventId: string,\r\n        events: number,\r\n        buyTotal: number,\r\n        sellTotal: number,\r\n    },\r\n    popular_refresh: boolean,\r\n    expand_slider: boolean,\r\n    workshop_state: string,\r\n    playback_hd: boolean,\r\n    steampeek: boolean,\r\n    support_info: {\r\n        data: any, // TODO fix type\r\n        expiry: number\r\n    },\r\n    review_filters: {\r\n        context?: string,\r\n        language?: string,\r\n        minPlaytime?: string,\r\n        maxPlaytime?: string\r\n    },\r\n    cachedUser?: string\r\n}\r\n\r\nclass LocalStorage<Schema extends StorageSchema> extends Storage<ns.LocalStorageArea, Schema>{\r\n\r\n    public constructor() {\r\n        super(browser.storage.local);\r\n    }\r\n}\r\n\r\nexport default new LocalStorage<LocalStorageSchema>();\r\n\r\n/* FIXME\r\nconst DEFAULTS = {\r\n    \"access_token\": null,\r\n    \"lastItadImport\": {\"from\": null, \"to\": null},\r\n    \"login\": {\"steamId\": null, \"profilePath\": null},\r\n    \"storeCountry\": null,\r\n    \"expand_slider\": false,\r\n    \"market_stats\": {\"startListing\": null, \"purchaseTotal\": 0, \"saleTotal\": 0},\r\n    \"popular_refresh\": false,\r\n    \"workshop_state\": \"\",\r\n    \"playback_hd\": false,\r\n    \"show_review_section\": true,\r\n    \"steampeek\": false,\r\n    \"support_info\": null,\r\n    \"hide_login_warn_store\": false,\r\n    \"hide_login_warn_community\": false,\r\n    \"review_filters\": {},\r\n    \"local_storage_migration\": {\"store\": false, \"community\": false, \"extension\": false},\r\n};\r\n\r\nconst PERSISTENT: (keyof typeof DEFAULTS)[] = [];\r\n*/\r\n", "<script lang=\"ts\">\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__loginWarning} from \"@Strings/_strings\";\r\n    import Warning from \"@Content/Modules/Widgets/AugmentedSteam/Components/Warning.svelte\";\r\n    import LocalStorage from \"@Core/Storage/LocalStorage\";\r\n    import {createEventDispatcher} from \"svelte\";\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        close: void\r\n    }>();\r\n\r\n    export let react: boolean;\r\n    export let page: \"store\"|\"community\";\r\n\r\n    let host: string;\r\n    $: switch(page) {\r\n          case \"store\": host = \"store.steampowered.com\"; break;\r\n          case \"community\": host = \"steamcommunity.com\"; break;\r\n          default: throw new Error();\r\n      }\r\n\r\n    function handleClose(): void {\r\n        if (page === \"store\") {\r\n            LocalStorage.set(`hide_login_warn_store`, true);\r\n        } else if (page === \"community\") {\r\n            LocalStorage.set(`hide_login_warn_community`, true);\r\n        }\r\n        dispatch(\"close\");\r\n    }\r\n</script>\r\n\r\n\r\n<Warning {react} on:close={handleClose} on:hide={() => dispatch(\"close\")}>\r\n    {@html L(__loginWarning, {\"link\": `<a href=\"https://${host}/login/\">${host}</a>`})}\r\n</Warning>\r\n\r\n\r\n", "<script lang=\"ts\">\r\n    import Localization, {type TLocale} from \"@Core/Localization/Localization\";\r\n    import {__usingLanguage, __usingLanguageReturn} from \"@Strings/_strings\";\r\n    import {createEventDispatcher, onMount} from \"svelte\";\r\n    import Warning from \"@Content/Modules/Widgets/AugmentedSteam/Components/Warning.svelte\";\r\n    import SteamFacade from \"@Content/Modules/Facades/SteamFacade\";\r\n    import Settings from \"@Options/Data/Settings\";\r\n    import Language from \"@Core/Localization/Language\";\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        close: void\r\n    }>();\r\n\r\n    let promise: Promise<TLocale>;\r\n\r\n    export let react: boolean;\r\n    export let currentLanguage: Language;\r\n    export let warningLanguage: Language;\r\n\r\n    function resetLanguageCode(): void {\r\n        // TODO find a way to change language for user in React pages\r\n        SteamFacade.changeLanguage(warningLanguage.name, true);\r\n    }\r\n\r\n    function handleClose(): void {\r\n        Settings.showlanguagewarning = false;\r\n        dispatch(\"close\");\r\n    }\r\n\r\n    async function handleSetLanguage(): Promise<void> {\r\n        const payload = new FormData();\r\n        payload.set(\"language\", warningLanguage.name);\r\n\r\n        await fetch(\"https://store.steampowered.com/account/setlanguage/\", {\r\n            method: \"POST\",\r\n            body: payload\r\n        });\r\n        window.location.href = `?l=${warningLanguage.name}`;\r\n    }\r\n\r\n    function str__usingLanguage(loc: TLocale): string {\r\n        return loc.strings[__usingLanguage]!\r\n            .replace(\"__current__\", loc.strings[`options_lang_${currentLanguage.name}`] ?? currentLanguage.name);\r\n    }\r\n\r\n    function str__usingLanguageReturn(loc: TLocale): string {\r\n        return loc.strings[__usingLanguageReturn]!\r\n            .replace(\"__base__\", loc.strings[`options_lang_${warningLanguage.name}`] ?? warningLanguage.name);\r\n    }\r\n\r\n    onMount(() => {\r\n        promise = Localization.load(warningLanguage.code ?? \"en\");\r\n    });\r\n</script>\r\n\r\n\r\n{#if promise}\r\n    {#await promise then locale}\r\n        <Warning {react} on:close={handleClose} on:hide={() => dispatch(\"close\")}>\r\n            {str__usingLanguage(locale)}\r\n\r\n            {#if react}\r\n                <button type=\"button\" on:click={handleSetLanguage}>\r\n                    {str__usingLanguageReturn(locale)}\r\n                </button>\r\n            {:else}\r\n                <button type=\"button\" on:click|preventDefault={resetLanguageCode}>\r\n                    {str__usingLanguageReturn(locale)}\r\n                </button>\r\n            {/if}\r\n        </Warning>\r\n    {/await}\r\n{/if}\r\n\r\n\r\n<style>\r\n    button {\r\n        background: #ffaaaa;\r\n        padding: 3px 10px;\r\n        color: black;\r\n        font-size: 12px;\r\n        border-radius: 1px;\r\n        text-decoration: none;\r\n        cursor: pointer;\r\n        white-space: nowrap;\r\n        border: 0;\r\n        margin-left: 10px;\r\n    }\r\n    button:hover {\r\n        background: #e89a9a;\r\n    }\r\n</style>", "<script lang=\"ts\">\r\n    import Settings from \"@Options/Data/Settings\";\r\n    import {onMount} from \"svelte\";\r\n    import LoginWarning from \"@Content/Modules/Widgets/AugmentedSteam/Components/LoginWarning.svelte\";\r\n    import Language from \"@Core/Localization/Language\";\r\n    import LanguageWarning from \"@Content/Modules/Widgets/AugmentedSteam/Components/LanguageWarning.svelte\";\r\n    import LocalStorage from \"@Core/Storage/LocalStorage\";\r\n\r\n    export let language: Language;\r\n    export let react: boolean;\r\n\r\n    let languageWarning: Language|null = null;\r\n    let loginWarning: \"store\"|\"community\"|null = null;\r\n\r\n    onMount(() => {\r\n        document.addEventListener(\"asRequestError\", async (e) => {\r\n            const {detail} = e as CustomEvent;\r\n            const name = detail.name ?? null;\r\n            const message = detail.message ?? null;\r\n\r\n            if (name === \"LoginError\" &&\r\n                (\r\n                    (message === \"store\" && await LocalStorage.get(\"hide_login_warn_store\") !== true)\r\n                    || (message === \"community\" && await LocalStorage.get(\"hide_login_warn_community\") !== true)\r\n                ))\r\n            {\r\n                loginWarning = message;\r\n            }\r\n        });\r\n\r\n        if (Settings.showlanguagewarning) {\r\n            if (!Settings.showlanguagewarninglanguage) {\r\n                Settings.showlanguagewarninglanguage = language.name;\r\n            }\r\n\r\n            const warningLanguage = Settings.showlanguagewarninglanguage;\r\n            if (language.name !== warningLanguage) {\r\n                languageWarning = new Language(warningLanguage);\r\n            }\r\n        }\r\n    });\r\n</script>\r\n\r\n\r\n{#if languageWarning}\r\n    <LanguageWarning {react}\r\n            currentLanguage={language}\r\n            warningLanguage={languageWarning}\r\n            on:close={() => languageWarning = null}\r\n    />\r\n{/if}\r\n\r\n{#if loginWarning}\r\n    <LoginWarning {react}\r\n            page={loginWarning}\r\n            on:close={() => loginWarning = null}\r\n    />\r\n{/if}\r\n", "<script lang=\"ts\">\r\n    import {onMount} from \"svelte\";\r\n\r\n    export let target: HTMLElement|undefined;\r\n\r\n    let visible: boolean = false;\r\n\r\n    function toTop(): void {\r\n        (target ?? window).scroll({\r\n            \"top\": 0,\r\n            \"left\": 0,\r\n            \"behavior\": \"smooth\"\r\n        });\r\n    }\r\n\r\n    function handleScroll(): void {\r\n        const scrollTop = target\r\n            ? target.scrollTop\r\n            : window.scrollY;\r\n\r\n        visible = scrollTop >= 400;\r\n    }\r\n\r\n    onMount(() => {\r\n        (target ?? window).addEventListener(\"scroll\", handleScroll);\r\n    });\r\n</script>\r\n\r\n\r\n<button class:is-visible={visible}\r\n     on:click={toTop}\r\n></button>\r\n\r\n\r\n<style>\r\n    button {\r\n        position: fixed;\r\n        display: flex;\r\n        width: 50px;\r\n        height: 50px;\r\n        align-items: center;\r\n        justify-content: center;\r\n        z-index: 9999;\r\n        opacity: 0;\r\n        visibility: hidden;\r\n        box-shadow: 0 0 10px 2px #000000;\r\n        left: 50%;\r\n        bottom: 20px;\r\n        top: auto;\r\n        margin-left: 500px;\r\n        font-size: 22px;\r\n        border: 0;\r\n        border-radius: 50%;\r\n        cursor: pointer;\r\n        background: linear-gradient( to bottom, rgba(33,101,138,1) 5%, rgba(23,67,92,1) 95%);\r\n        transition: visibility 0s 200ms, opacity 200ms ease-in-out;\r\n        color: white;\r\n    }\r\n    button:hover {\r\n        background: linear-gradient( to bottom, rgba(47,137,188,1) 5%, rgba(23,67,92,1) 95%);\r\n    }\r\n    button.is-visible {\r\n        opacity: 1;\r\n        visibility: visible;\r\n        transition: visibility, opacity 200ms ease-in-out;\r\n    }\r\n\r\n</style>", "import {L} from \"@Core/Localization/Localization\";\r\nimport {__activate, __viewinclient,} from \"@Strings/_strings\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport AugmentedSteamMenu from \"@Content/Modules/Widgets/AugmentedSteam/AugmentedSteamMenu.svelte\";\r\nimport CacheApiFacade from \"@Content/Modules/Facades/CacheApiFacade\";\r\nimport AugmentedSteamWarnings from \"@Content/Modules/Widgets/AugmentedSteam/AugmentedSteamWarnings.svelte\";\r\nimport Language from \"@Core/Localization/Language\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\nimport BackToTop from \"@Content/Modules/Widgets/AugmentedSteam/BackToTop.svelte\";\r\nimport DynamicStore from \"@Content/Modules/Data/DynamicStore\";\r\nimport LocalStorage from \"@Core/Storage/LocalStorage\";\r\n\r\nexport default class AugmentedSteam {\r\n\r\n    private warningComponent: AugmentedSteamWarnings|undefined;\r\n\r\n    private readonly language: Language;\r\n    private readonly user: UserInterface;\r\n    private readonly react: boolean;\r\n\r\n    constructor(\r\n        language: Language|null,\r\n        user: UserInterface,\r\n        react: boolean\r\n    ) {\r\n        this.language = language ?? new Language(\"english\");\r\n        this.user = user;\r\n        this.react = react;\r\n    }\r\n\r\n    private addMenu(): void {\r\n        const target = document.querySelector(this.react\r\n            ? \"header nav + div\"\r\n            : \"#global_action_menu\"\r\n        )!;\r\n\r\n        (new AugmentedSteamMenu({\r\n            target,\r\n            anchor: target.firstElementChild!,\r\n            props: {\r\n                user: this.user\r\n            }\r\n        }));\r\n    }\r\n\r\n    private addBackToTop(): void {\r\n        if (!Settings.show_backtotop) { return; }\r\n\r\n        const scrollTarget = this.react\r\n            ? document.querySelector<HTMLElement>(\"#StoreTemplate\")\r\n            : null;\r\n\r\n        (new BackToTop({\r\n            target: document.body,\r\n            props: {\r\n                target: scrollTarget ?? undefined\r\n            }\r\n        }))\r\n    }\r\n\r\n    private focusSearchBox() {\r\n\r\n        const node = document.querySelector<HTMLElement>(\r\n            (this.react\r\n                ? [\r\n                    \"input.Focusable\" // Wishlist\r\n                ] : [\r\n                    \"#store_nav_search_term\", // Store pages\r\n                    \"input.discussionSearchText\", // Community discussions\r\n                    \"#workshopSearchText\", // Workshop\r\n                    \"#findItemsSearchBox\", // Market\r\n                    \"input#filter_control\", // Inventory\r\n                    // TODO support dynamic pages e.g. groups/friends, Games page (React)\r\n                ]).join(\",\"));\r\n\r\n        if (!node) { return; }\r\n\r\n        function isContentEditable(el: Element): boolean {\r\n            return el.tagName === \"INPUT\"\r\n                || el.tagName === \"TEXTAREA\"\r\n                || (el instanceof HTMLElement && el.isContentEditable);\r\n        }\r\n\r\n        document.addEventListener(\"keydown\", (e: KeyboardEvent) => {\r\n            if (e.key !== \"s\" || e.ctrlKey || e.repeat) { return; }\r\n\r\n            let el = document.activeElement;\r\n            if (el && isContentEditable(el)) { return; }\r\n\r\n            // Check if active element is within a shadow root, see #1623\r\n            el = el?.shadowRoot?.activeElement ?? null;\r\n            if (el && isContentEditable(el)) { return; }\r\n\r\n            e.preventDefault();\r\n            node.focus();\r\n        });\r\n    }\r\n\r\n    private getWarningComponent(): AugmentedSteamWarnings {\r\n\r\n        if (!this.warningComponent) {\r\n            const header = document.querySelector(\"#global_header\")!;\r\n            this.warningComponent = new AugmentedSteamWarnings({\r\n                target: header.parentElement!,\r\n                anchor: header.nextElementSibling!\r\n            });\r\n        }\r\n        return this.warningComponent;\r\n    }\r\n\r\n    private addWarnings(): void {\r\n\r\n        let target: Element;\r\n        let anchor: Element|undefined;\r\n        if (this.react) {\r\n            target = document.querySelector(\"header ~ section\")!;\r\n            anchor = target.firstElementChild!;\r\n        } else {\r\n            const header = document.querySelector(\"#global_header\")!\r\n            target = header.parentElement!;\r\n            anchor = header.nextElementSibling!;\r\n        }\r\n\r\n        new AugmentedSteamWarnings({\r\n            target,\r\n            anchor,\r\n            props: {\r\n                react: this.react,\r\n                language: this.language\r\n            }\r\n        });\r\n    }\r\n\r\n    private handleInstallSteamButton(): void {\r\n        const option = Settings.installsteam;\r\n        if (option === \"show\") { return; }\r\n\r\n        const btn = document.querySelector<HTMLAnchorElement>(this.react\r\n            ? \"header nav ~ div a[href*='/about/']\"\r\n            : \"a.header_installsteam_btn\"\r\n        );\r\n        if (!btn) {\r\n            console.error(`Couldn't find \"Install Steam\" button element.`);\r\n            return;\r\n        }\r\n\r\n        if (option === \"hide\") {\r\n            btn.remove();\r\n        } else if (option === \"replace\") {\r\n\r\n            if (this.react) {\r\n                btn.textContent = L(__viewinclient);\r\n                btn.classList.add(\"is-react\");\r\n            } else {\r\n                btn.querySelector(\"div\")!.textContent = L(__viewinclient);\r\n            }\r\n\r\n            btn.href = `steam://openurl/${window.location.href}`;\r\n            btn.classList.add(\"es_steamclient_btn\");\r\n\r\n        }\r\n    }\r\n\r\n    private addRedeemLink(): void {\r\n\r\n        let node: HTMLAnchorElement|null;\r\n\r\n        node = document.querySelector(\r\n            this.react\r\n                ? \"header a[href*='/account/preferences/']\"\r\n                : \"#account_dropdown a[href*='/account/preferences/']\"\r\n        );\r\n        if (!node) {\r\n            console.error(\"Didn't find node to copy for adding redeem link\");\r\n            return;\r\n        }\r\n\r\n        const cloned = node.cloneNode(true) as HTMLAnchorElement;\r\n        cloned.href = \"https://store.steampowered.com/account/registerkey\";\r\n        cloned.textContent = L(__activate);\r\n\r\n        node.insertAdjacentElement(\"afterend\", cloned);\r\n    }\r\n\r\n    async build(): Promise<void> {\r\n\r\n        const userId = this.user.steamId ?? \"0\";\r\n        const cachedUser = await LocalStorage.get(\"cachedUser\");\r\n\r\n        if (cachedUser !== userId) {\r\n            console.log(`Clear cache, old: ${cachedUser}, new: ${userId}`);\r\n            await CacheApiFacade.clearCache();\r\n            await LocalStorage.set(\"cachedUser\", userId);\r\n        }\r\n\r\n        this.addBackToTop();\r\n        this.focusSearchBox();\r\n        this.addMenu();\r\n        this.addWarnings();\r\n        this.handleInstallSteamButton();\r\n\r\n        if (this.user.isSignedIn) {\r\n            this.addRedeemLink();\r\n\r\n            // TODO probably doesn't used on React pages?\r\n            DynamicStore.invalidateCacheHandler();\r\n        }\r\n    }\r\n}\r\n", "import Info from \"@Core/Info\";\r\n\r\ntype VersionTypes = Version|string|Array<string|number>;\r\n\r\nexport default class Version {\r\n\r\n    private readonly major: number;\r\n    private readonly minor: number;\r\n    private readonly patch:number;\r\n\r\n    constructor(major: number, minor: number = 0, patch: number = 0) {\r\n        console.assert([major, minor, patch].filter(Number.isInteger).length === 3, `${major}.${minor}.${patch} must be integers`);\r\n        this.major = major;\r\n        this.minor = minor;\r\n        this.patch = patch;\r\n    }\r\n\r\n    static from(version: VersionTypes) {\r\n        if (version instanceof Version) {\r\n            return new Version(version.major, version.minor, version.patch);\r\n        }\r\n        if (typeof version == \"string\") {\r\n            return Version.fromString(version);\r\n        }\r\n        if (Array.isArray(version)) {\r\n            return Version.fromArray(version);\r\n        }\r\n        throw new Error(`Could not construct a Version from ${version}`);\r\n    }\r\n\r\n    static fromArray(version: Array<string|number>): Version {\r\n        if (version.length === 0) {\r\n            throw new Error();\r\n        }\r\n\r\n        return new Version(\r\n            Number(version[0]),\r\n            Number(version[1] ?? 0),\r\n            Number(version[2] ?? 0)\r\n        );\r\n    }\r\n\r\n    static fromString(version: string): Version {\r\n        return Version.fromArray(version.split(\".\"));\r\n    }\r\n\r\n    static coerce(version: VersionTypes): Version {\r\n        if (version instanceof Version) {\r\n            return version;\r\n        }\r\n        return Version.from(version);\r\n    }\r\n\r\n    toString(): string {\r\n        return `${this.major}.${this.minor}.${this.patch}`;\r\n    }\r\n\r\n    toArray(): [number, number, number] {\r\n        return [this.major, this.minor, this.patch];\r\n    }\r\n\r\n    toJSON(): string {\r\n        return this.toString();\r\n    }\r\n\r\n    isCurrent(): boolean {\r\n        return this.isSameOrAfter(Info.version);\r\n    }\r\n\r\n    isSame(version: VersionTypes): boolean {\r\n        const _version = Version.coerce(version);\r\n        return this.major === _version.major\r\n            && this.minor === _version.minor\r\n            && this.patch === _version.patch;\r\n    }\r\n\r\n    isBefore(version: VersionTypes): boolean {\r\n        const _version = Version.coerce(version);\r\n        if (this.major < _version.major) { return true; }\r\n        if (this.major > _version.major) { return false; }\r\n\r\n        // this.major == _version.major\r\n        if (this.minor < _version.minor) { return true; }\r\n        if (this.minor > _version.minor) { return false; }\r\n\r\n        // this.minor == _version.minor\r\n        if (this.patch < _version.patch) { return true; }\r\n        return false;\r\n    }\r\n\r\n    isSameOrBefore(version: VersionTypes): boolean {\r\n        return this.isSame(version) || this.isBefore(version);\r\n    }\r\n\r\n    isAfter(version: VersionTypes): boolean {\r\n        const _version = Version.coerce(version);\r\n        return _version.isBefore(this);\r\n    }\r\n\r\n    isSameOrAfter(version: VersionTypes): boolean {\r\n        const _version = Version.coerce(version);\r\n        return _version.isSameOrBefore(this);\r\n    }\r\n}\r\n", "<script lang=\"ts\">\r\n    import ExtensionResources from \"@Core/ExtensionResources\";\r\n    import Info from \"@Core/Info\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__update_changes, __update_updatedNoVersion} from \"@Strings/_strings\";\r\n    import Modal from \"@Core/Modals/Contained/Modal.svelte\";\r\n    import {createEventDispatcher, onMount} from \"svelte\";\r\n    import Version from \"@Core/Version\";\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        close: void\r\n    }>();\r\n\r\n    export let lastVersion: Version;\r\n\r\n    let promise: Promise<[string, string][]>\r\n\r\n    onMount(() => {\r\n        promise = (async () => {\r\n            const changelog = await ExtensionResources.getJSON<Record<string, string>>(\"changelog.json\");\r\n\r\n            let result: Array<[string, string]> = [];\r\n            if (!changelog[Info.version]) {\r\n                throw new Error(`Can't find changelog for version ${Info.version}`);\r\n            }\r\n\r\n            result.push([Info.version, changelog[Info.version]!]);\r\n\r\n            for (const [version, changes] of Object.entries(changelog)) {\r\n                const changeVersion = Version.fromString(version);\r\n                if (changeVersion.isBefore(Info.version) && changeVersion.isAfter(lastVersion)) {\r\n                    result.push([version, changes]);\r\n                } else if (changeVersion.isSameOrBefore(lastVersion)) {\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return result.reverse();\r\n        })();\r\n    });\r\n</script>\r\n\r\n\r\n{#if promise}\r\n    {#await promise then data}\r\n        <Modal title={L(__update_updatedNoVersion, {\"version\": Info.version})}\r\n               showClose\r\n               buttons={{cancel: \"OK\"}}\r\n               on:button={() => dispatch(\"close\")}\r\n        >\r\n            <div class=\"changelog\">\r\n                <img src={ExtensionResources.getURL(\"img/logo/as128.png\")} alt=\"Logo\">\r\n                <div>\r\n                    {#each data as [version, html]}\r\n                        <h3>{version}</h3>\r\n                        {@html html}\r\n                    {/each}\r\n                    <p>\r\n                        <a href={`https://github.com/IsThereAnyDeal/AugmentedSteam/compare/v${lastVersion}...v${Info.version}`} target=\"_blank\">\r\n                            {L(__update_changes)}\r\n                        </a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </Modal>\r\n    {/await}\r\n{/if}\r\n\r\n\r\n<style>\r\n    .changelog {\r\n        height: 100%;\r\n        display: flex;\r\n        flex-direction: row-reverse;\r\n        align-items: flex-start;\r\n        max-width: 800px;\r\n        font-size: 14px;\r\n        gap: 20px;\r\n    }\r\n    .changelog :global(h1) {\r\n        font-size: 18px;\r\n        margin: 20px 0 5px 0;\r\n    }\r\n    .changelog :global(p) {\r\n        margin-bottom: 0.4em;\r\n        font-size: 14px !important;\r\n    }\r\n    .changelog :global(ul) {\r\n        list-style-position: outside;\r\n        padding: 0 10px 10px 10px;\r\n        margin: 0 0 0 15px;\r\n    }\r\n    .changelog :global(li) {\r\n        margin-bottom: 3px;\r\n    }\r\n    .changelog :global(a) {\r\n        text-decoration: none;\r\n        color: #ffffff;\r\n    }\r\n    .changelog :global(a:hover) {\r\n        color: #66c0f4;\r\n    }\r\n</style>", "import Version from \"@Core/Version\";\r\nimport Info from \"@Core/Info\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport Changelog from \"@Core/Update/Changelog.svelte\";\r\n\r\nexport default class ChangelogHandler {\r\n\r\n    static async checkVersion(): Promise<void> {\r\n        const lastVersion = Version.fromString(Settings.version);\r\n        const currentVersion = Version.fromString(Info.version);\r\n\r\n        if (currentVersion.isAfter(lastVersion) && Settings.version_show) {\r\n            const changelog = new Changelog({\r\n                target: document.body,\r\n                props: {lastVersion}\r\n            });\r\n            changelog.$on(\"close\", () => changelog.$destroy());\r\n        }\r\n\r\n        Settings.version = Info.version;\r\n    }\r\n}\r\n", "import type {\r\n    TCollectionCopy,\r\n    TGetStoreListResponse, TInCollectionResponse,\r\n    TInWaitlistResponse,\r\n    TLastImportResponse, TNotesList, TPushNotesStatus, TSyncEvent\r\n} from \"@Background/Modules/IsThereAnyDeal/_types\";\r\nimport Background from \"@Core/Background\";\r\nimport {EAction} from \"@Background/EAction\";\r\n\r\nexport default class ITADApiFacade {\r\n\r\n    static getStoreList(): Promise<TGetStoreListResponse> {\r\n        return Background.send<TGetStoreListResponse>(EAction.StoreList);\r\n    }\r\n\r\n    static authorize(): Promise<void> {\r\n        return Background.send(EAction.Authorize);\r\n    }\r\n\r\n    static disconnect(): Promise<void> {\r\n        return Background.send(EAction.Disconnect);\r\n    }\r\n\r\n    static isConnected(): Promise<boolean> {\r\n        return Background.send(EAction.IsConnected);\r\n    }\r\n\r\n    static sync(force: boolean=false): Promise<void> {\r\n        return Background.send(EAction.Sync, {force});\r\n    }\r\n\r\n    static getLastImport(): Promise<TLastImportResponse> {\r\n        return Background.send(EAction.LastImport);\r\n    }\r\n\r\n    static getSyncEvents(): Promise<TSyncEvent[]> {\r\n        return Background.send(EAction.SyncEvents);\r\n    }\r\n\r\n    static async inWaitlist(storeIds: string[]): Promise<TInWaitlistResponse> {\r\n        return Background.send(EAction.InWaitlist, {storeIds});\r\n    }\r\n\r\n    static async addToWaitlist(...appids: number[]) {\r\n        return Background.send(EAction.AddToWaitlist, {appids});\r\n    }\r\n\r\n    static async removeFromWaitlist(...appids: number[]) {\r\n        return Background.send(EAction.RemoveFromWaitlist, {appids});\r\n    }\r\n\r\n    static async inCollection(storeIds: string[]): Promise<TInCollectionResponse> {\r\n        return Background.send(EAction.InCollection, {storeIds});\r\n    }\r\n\r\n    static async getFromCollection(storeId: string): Promise<TCollectionCopy[]|null> {\r\n        return Background.send(EAction.GetFromCollection, {storeId});\r\n    }\r\n\r\n    static async pullNotes(): Promise<number> {\r\n        return Background.send(EAction.ITAD_Notes_Pull);\r\n    }\r\n\r\n    static async pushNotes(notes: TNotesList): Promise<TPushNotesStatus> {\r\n        return Background.send(EAction.ITAD_Notes_Push, {notes});\r\n    }\r\n\r\n    /**\r\n     * Just a convenience wrapper around PushNotes\r\n     */\r\n    static async pushNote(appid: number, note: string): Promise<TPushNotesStatus> {\r\n        return Background.send(EAction.ITAD_Notes_Push, {notes: [[appid, note]]});\r\n    }\r\n\r\n    static async deleteNote(appid: number): Promise<void> {\r\n        return Background.send(EAction.ITAD_Notes_Delete, {appids: [appid]});\r\n    }\r\n}\r\n", "\r\nconst enum ESyncStatus {\r\n    OK,\r\n    Loading,\r\n    Error\r\n}\r\nexport default ESyncStatus;", "<script lang=\"ts\">\r\n    import ESyncStatus from \"@Core/Sync/ESyncStatus\";\r\n\r\n    export let status: ESyncStatus = ESyncStatus.OK;\r\n</script>\r\n\r\n\r\n<span class:is-loading={status === ESyncStatus.Loading}\r\n      class:is-error={status === ESyncStatus.Error}></span>\r\n\r\n\r\n<style>\r\n    span {\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        align-self: center;\r\n        border: 3px solid #02ba55;\r\n        border-radius: 50%;\r\n    }\r\n    span.is-error {\r\n        border-color: #d72e2e;\r\n    }\r\n    span.is-loading {\r\n        border-color: #3090ce;\r\n        animation: pulse 600ms alternate infinite;\r\n    }\r\n    @keyframes pulse {\r\n        0% { opacity: 0; }\r\n        100% { opacity: 1; }\r\n    }\r\n</style>", "<script lang=\"ts\">\r\n    import ITADApiFacade from \"@Content/Modules/Facades/ITADApiFacade\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__itad_from, __itad_lastImport, __itad_syncNow, __itad_to, __loading, __never} from \"@Strings/_strings\";\r\n    import ESyncStatus from \"@Core/Sync/ESyncStatus\";\r\n    import SyncIndicator from \"@Core/Sync/SyncIndicator.svelte\";\r\n    import {fade} from \"svelte/transition\";\r\n    import {createEventDispatcher} from \"svelte\";\r\n\r\n    const dispatch = createEventDispatcher<{syncEvent: void}>();\r\n\r\n    export let isConnected: boolean;\r\n    export let enableSync: boolean;\r\n    export let status: ESyncStatus = ESyncStatus.OK;\r\n\r\n    let from: number|null = null;\r\n    let to: number|null = null;\r\n\r\n    export async function updateLastImport(): Promise<void> {\r\n        const last = await ITADApiFacade.getLastImport();\r\n        from = last.from;\r\n        to = last.to;\r\n    }\r\n\r\n    async function syncNow(): Promise<void> {\r\n        status = ESyncStatus.Loading;\r\n\r\n        try {\r\n            await ITADApiFacade.sync(true);\r\n            status = ESyncStatus.OK;\r\n            await updateLastImport();\r\n            dispatch(\"syncEvent\");\r\n        } catch (e) {\r\n            status = ESyncStatus.Error;\r\n\r\n            console.group(\"ITAD sync\");\r\n            console.error(\"Failed to sync with ITAD\");\r\n            console.error(e);\r\n            console.groupEnd();\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<div class=\"asi-container\">\r\n    <div class=\"asi-head\">{L(__itad_lastImport)}</div>\r\n\r\n    <div class=\"asi-status\">\r\n        <div class=\"asi-label\">{L(__itad_from)}</div>\r\n        {from ? new Date(from * 1000).toLocaleString() : L(__never)}\r\n    </div>\r\n\r\n    <div class=\"asi-status\">\r\n        <div class=\"asi-label\">{L(__itad_to)}</div>\r\n        {to ? new Date(to * 1000).toLocaleString() : L(__never)}\r\n    </div>\r\n\r\n    {#if isConnected && enableSync}\r\n        <div transition:fade={{duration: 200}}>\r\n            {#if status === ESyncStatus.Loading}\r\n                <span><SyncIndicator status={ESyncStatus.Loading} /> {L(__loading)}</span>\r\n            {:else}\r\n                <button type=\"button\" class=\"asi__sync-now\" on:click={syncNow}>{L(__itad_syncNow)}</button>\r\n            {/if}\r\n        </div>\r\n    {/if}\r\n</div>\r\n\r\n\r\n<style>\r\n    .asi-container {\r\n        line-height: 1.25;\r\n        color: #c6d4df;\r\n    }\r\n\r\n    .asi-head {\r\n        font-size: 14px;\r\n        margin-bottom: 15px;\r\n    }\r\n\r\n    .asi-status {\r\n        line-height: 1.25;\r\n        font-size: 13px;\r\n        margin: 15px 0;\r\n    }\r\n    .asi-label {\r\n        font-family: Arial, Helvetica, sans-serif;\r\n        text-transform: uppercase;\r\n        font-size: 10px;\r\n        color: #8f98a0;\r\n    }\r\n\r\n    button {\r\n        cursor: pointer;\r\n        text-decoration: underline;\r\n        background: none;\r\n        outline: 0;\r\n        border: 0;\r\n        font-size: 12px;\r\n        font-family: inherit;\r\n        color: inherit;\r\n        font-weight: inherit;\r\n        text-align: left;\r\n    }\r\n    button:hover {\r\n        color: white;\r\n    }\r\n</style>\r\n", "<script lang=\"ts\">\r\n    import ExtensionResources from \"@Core/ExtensionResources\";\r\n    import ITADSyncStatus from \"@Content/Modules/Widgets/ITADSync/ITADSyncStatus.svelte\";\r\n    import ESyncStatus from \"@Core/Sync/ESyncStatus\";\r\n    import SyncIndicator from \"@Core/Sync/SyncIndicator.svelte\";\r\n    import Settings from \"@Options/Data/Settings\";\r\n\r\n    const itadLogo = ExtensionResources.getURL(\"img/itad.png\");\r\n\r\n    let statusComponent: ITADSyncStatus;\r\n    let status: ESyncStatus|undefined = undefined;\r\n</script>\r\n\r\n\r\n<!-- svelte-ignore a11y-no-static-element-interactions -->\r\n<div class=\"asi\" on:mouseenter={() => statusComponent.updateLastImport()}>\r\n    <img class=\"asi__logo\" src={itadLogo} alt=\"ITAD logo\">\r\n    <SyncIndicator {status} />\r\n\r\n    <div class=\"asi__hover\">\r\n        <div class=\"asi__content\">\r\n            <ITADSyncStatus isConnected\r\n                            enableSync={Settings.itad_sync_library || Settings.itad_sync_wishlist}\r\n                            bind:status bind:this={statusComponent} />\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<style>\r\n    .asi {\r\n        display: inline-flex;\r\n        align-items: center;\r\n        margin-right: 1em;\r\n    }\r\n    .asi__logo {\r\n        height: 20px;\r\n    }\r\n    img {\r\n        margin-right: 0.4em;\r\n    }\r\n\r\n    .asi__hover {\r\n        display: none;\r\n        position: absolute;\r\n        top: 0;\r\n        z-index: 1200;\r\n        left: -115px;\r\n        width: 250px;\r\n        margin-top: 13px;\r\n    }\r\n    .asi:hover .asi__hover {\r\n        display: block;\r\n    }\r\n\r\n    .asi__content {\r\n        padding: 12px;\r\n        border: 1px solid #3d4450;\r\n        position: relative;\r\n        background-color: #3d4450;\r\n        margin: 12px 12px 12px 12px;\r\n        box-shadow: 0 0 12px #000000;\r\n        white-space: nowrap;\r\n    }\r\n</style>\r\n", "import ITADApiFacade from \"@Content/Modules/Facades/ITADApiFacade\";\r\nimport ITADSyncMenu from \"@Content/Modules/Widgets/ITADSync/ITADSyncMenu.svelte\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\n\r\nexport default class ITAD {\r\n\r\n    static async init(user: UserInterface) {\r\n        if (!await ITADApiFacade.isConnected()) {\r\n            return;\r\n        }\r\n\r\n        if (user.isSignedIn) {\r\n            await ITADApiFacade.sync();\r\n        }\r\n\r\n        const menu = document.querySelector(\".as-menu\");\r\n        if (menu) {\r\n            (new ITADSyncMenu({\r\n                target: menu.parentElement!,\r\n                anchor: menu\r\n            }));\r\n        }\r\n    }\r\n\r\n    static async getInCollection(storeIds: string[]): Promise<Set<string>> {\r\n        const result = new Set<string>();\r\n        if (await ITADApiFacade.isConnected()) {\r\n            const map = await ITADApiFacade.inCollection(storeIds);\r\n            for (let [steamId, value] of Object.entries(map)) {\r\n                if (value) {\r\n                    result.add(steamId);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    static async getInWaitlist(storeIds: string[]): Promise<Set<string>> {\r\n        const result = new Set<string>();\r\n        if (await ITADApiFacade.isConnected()) {\r\n            const map = await ITADApiFacade.inWaitlist(storeIds);\r\n            for (let [steamId, value] of Object.entries(map)) {\r\n                if (value) {\r\n                    result.add(steamId);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n", "import Page from \"@Content/Features/Page\";\r\nimport LanguageFactory from \"@Core/Localization/LanguageFactory\";\r\nimport UserFactory from \"@Core/User/UserFactory\";\r\nimport AppConfigFactory from \"@Core/AppConfig/AppConfigFactory\";\r\nimport type AppConfig from \"@Core/AppConfig/AppConfig\";\r\nimport type Language from \"@Core/Localization/Language\";\r\nimport type UserInterface from \"@Core/User/UserInterface\";\r\nimport ProgressBar from \"@Content/Modules/Widgets/ProgressBar\";\r\nimport AugmentedSteam from \"@Content/Modules/AugmentedSteam\";\r\nimport ChangelogHandler from \"@Core/Update/ChangelogHandler\";\r\nimport ITAD from \"@Content/Modules/ITAD\";\r\n\r\nexport default class LegacyPage extends Page {\r\n\r\n    override check(): boolean {\r\n        return !!document.getElementById(\"global_header\");\r\n    }\r\n\r\n    protected override async getAppConfig(factory: AppConfigFactory): Promise<AppConfig> {\r\n        return factory.createFromLegacy();\r\n    }\r\n\r\n    protected override async getLanguage(factory: LanguageFactory): Promise<Language|null> {\r\n       return factory.createFromLegacy();\r\n    }\r\n\r\n    protected override getUser(factory: UserFactory): Promise<UserInterface> {\r\n        return factory.createFromLegacy();\r\n    }\r\n\r\n    protected override async preApply(language: Language|null, user: UserInterface): Promise<void> {\r\n        ProgressBar.buildLegacy();\r\n\r\n        await (new AugmentedSteam(language, user, false))\r\n            .build();\r\n\r\n        await ChangelogHandler.checkVersion();\r\n        await ITAD.init(user);\r\n    }\r\n}\r\n", "import LegacyPage from \"@Content/Features/LegacyPage\";\r\n\r\nexport default class CommunityPage extends LegacyPage {}\r\n", "\r\nconst enum ContextType {\r\n    ACCOUNT,\r\n    APP,\r\n    BUNDLE,\r\n    STORE_DEFAULT,\r\n    FUNDS,\r\n    REGISTER_KEY,\r\n    CART,\r\n    SEARCH,\r\n    CHARTS,\r\n    STORE_FRONT,\r\n    SUB,\r\n    WISHLIST,\r\n    AGECHECK,\r\n    COMMUNITY_DEFAULT,\r\n    WORKSHOP,\r\n    PROFILE_ACTIVITY,\r\n    GAMES,\r\n    PROFILE_EDIT,\r\n    BADGES,\r\n    GAME_CARD,\r\n    FRIENDS_THAT_PLAY,\r\n    GLOBAL_STATS,\r\n    MARKET_SEARCH,\r\n    INVENTORY,\r\n    MARKET_LISTING,\r\n    MARKET_HOME,\r\n    PROFILE_HOME,\r\n    GROUP_HOME,\r\n    GUIDES,\r\n    COMMUNITY_APP,\r\n    PROFILE_STATS,\r\n    MY_WORKSHOP,\r\n    SHARED_FILES,\r\n    WORKSHOP_BROWSE,\r\n    EDIT_GUIDE,\r\n    RECOMMENDED,\r\n    BOOSTER_CREATOR,\r\n    TRADE_OFFER,\r\n    FRIENDS_AND_GROUPS,\r\n    POINTS_SHOP,\r\n    LICENSES,\r\n}\r\n\r\nexport default ContextType;\r\n", "import {__deleteCommentPrompt, __update_dontShow} from \"@Strings/_strings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport type CCommunityBase from \"@Content/Features/Community/CCommunityBase\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport DOMHelper from \"@Content/Modules/DOMHelper\";\r\n\r\nexport default class FConfirmDeleteComment extends Feature<CCommunityBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return this.context.user.isSignedIn && Settings.confirmdeletecomment;\r\n    }\r\n\r\n    override apply(): void {\r\n\r\n        document.addEventListener(\"noDeletionConfirm\", () => {\r\n            Settings.confirmdeletecomment = false;\r\n        });\r\n\r\n        DOMHelper.insertScript(\"scriptlets/Community/confirmDeleteComments.js\", {\r\n            prompt: L(__deleteCommentPrompt),\r\n            label: L(__update_dontShow)\r\n        });\r\n    }\r\n}\r\n", "import Settings from \"@Options/Data/Settings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport {__spamCommentShow} from \"@Strings/_strings\";\r\n\r\nexport default class SpamComments {\r\n\r\n    private static _spamRegex: RegExp|undefined;\r\n\r\n    static handleAllCommentThreads(parent: HTMLElement|Document = document) {\r\n        if (!Settings.hidespamcomments) { return; }\r\n\r\n        if (this._spamRegex === undefined) {\r\n            this._spamRegex = new RegExp(Settings.spamcommentregex, \"i\");\r\n        }\r\n\r\n        const nodes = parent.querySelectorAll<HTMLElement>(\".commentthread_comment_container:not(.esi_commentthread)\");\r\n        for (const node of nodes) {\r\n            this._updateCommentThread(node);\r\n            this._addCommentThreadObserver(node);\r\n        }\r\n    }\r\n\r\n    private static _addCommentThreadObserver(threadNode: HTMLElement): void {\r\n        if (threadNode.dataset.esiCommentObserver) {\r\n            return;\r\n        }\r\n        threadNode.dataset.esiCommentObserver = \"1\";\r\n\r\n        const commentsThread = threadNode.querySelector(\".commentthread_comments\");\r\n        if (!commentsThread) {\r\n            return;\r\n        }\r\n\r\n        (new MutationObserver(() => {\r\n            this._updateCommentThread(threadNode);\r\n        })).observe(commentsThread, {\"childList\": true});\r\n    }\r\n\r\n    private static _updateCommentThread(threadNode: HTMLElement): void {\r\n        const count = this._hideSpamComments(threadNode);\r\n\r\n        threadNode.classList.add(\"esi_commentthread\");\r\n\r\n        let button = threadNode.querySelector(\".esi_commentthread_button\");\r\n\r\n        if (count === 0) {\r\n            if (button) {\r\n                button.classList.add(\"esi-hidden\");\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (!button) {\r\n            button = document.createElement(\"a\");\r\n            button.classList.add(\"esi_commentthread_button\");\r\n            threadNode.insertAdjacentElement(\"afterbegin\", button);\r\n\r\n            button.addEventListener(\"click\", () => {\r\n                threadNode.classList.add(\"esi_commentthread--showspam\");\r\n            });\r\n        }\r\n\r\n        button.classList.remove(\"esi-hidden\");\r\n        button.textContent = L(__spamCommentShow, {\"num\": count});\r\n        threadNode.classList.remove(\"esi_commentthread--showspam\");\r\n    }\r\n\r\n    private static _hideSpamComments(threadNode: HTMLElement): number {\r\n        if (!this._spamRegex) {\r\n            return 0;\r\n        }\r\n\r\n        const nodes = threadNode.querySelectorAll(\".commentthread_comment .commentthread_comment_text\");\r\n        let hiddenCount = 0;\r\n        for (const node of nodes) {\r\n            const commentText = node.textContent;\r\n            if (!commentText || !this._spamRegex.test(commentText)) {\r\n                continue;\r\n            }\r\n\r\n            const comment = node.closest(\".commentthread_comment\");\r\n            if (comment) {\r\n                comment.classList.add(\"esi_comment_hidden\");\r\n                hiddenCount++;\r\n            }\r\n        }\r\n\r\n        return hiddenCount;\r\n    }\r\n}\r\n", "import type CCommunityBase from \"@Content/Features/Community/CCommunityBase\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport SpamComments from \"@Content/Modules/Community/SpamComments\";\r\n\r\nexport default class FHideSpamComments extends Feature<CCommunityBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return Settings.hidespamcomments;\r\n    }\r\n\r\n    override apply(): void {\r\n        SpamComments.handleAllCommentThreads();\r\n\r\n        // TODO this should be moved to CCommunityBase and support other features\r\n        const modalWait = document.querySelector(\"#modalContentWait\");\r\n        if (!modalWait) { return; }\r\n\r\n        new MutationObserver(() => {\r\n            const modalContainer = document.querySelector(\"#modalContentFrameContainer\");\r\n            if (!modalContainer) { return; }\r\n\r\n            const latestFrame = window.frames[window.frames.length - 1]; // Only check latest added frame\r\n            if (latestFrame) {\r\n                SpamComments.handleAllCommentThreads(latestFrame.document);\r\n            }\r\n        }).observe(modalWait, {\"attributes\": true});\r\n    }\r\n\r\n}\r\n", "import DOMPurify from \"dompurify\";\r\n\r\nexport default class HTML {\r\n\r\n    static formatUrl(link: string): string {\r\n        const protocolReg = /^[a-z]+:\\/\\//;\r\n        const _link = protocolReg.test(link) ? link : `//${link}`;\r\n        return encodeURI(_link);\r\n    }\r\n\r\n    static escape(str: string): string {\r\n\r\n        // @see https://stackoverflow.com/a/4835406\r\n        const map: Record<string, string> = {\r\n            \"&\": \"&amp;\",\r\n            \"<\": \"&lt;\",\r\n            \">\": \"&gt;\",\r\n            '\"': \"&quot;\",\r\n            \"'\": \"&#039;\"\r\n        };\r\n\r\n        return str.replace(/[&<>\"']/g, (m: string): string => {\r\n            if (!map[m]) {\r\n                throw new Error();\r\n            }\r\n            return map[m]!;\r\n        });\r\n    }\r\n\r\n    static toDom(html: string): DocumentFragment {\r\n        const template = document.createElement(\"template\");\r\n        template.innerHTML = DOMPurify.sanitize(html);\r\n        return template.content;\r\n    }\r\n\r\n    static toElement<T extends Element>(html: string): T|null {\r\n        // @ts-ignore\r\n        return HTML.toDom(html).firstElementChild;\r\n    }\r\n\r\n    private static _getNode(nodeOrSelector: Element|string|null): Element|null {\r\n        let node: Element|null = typeof nodeOrSelector === \"string\"\r\n            ? document.querySelector(nodeOrSelector)\r\n            : nodeOrSelector;\r\n\r\n        if (node instanceof Element) {\r\n            return node;\r\n        }\r\n\r\n        console.warn(`${node} is not an Element.`);\r\n        console.trace();\r\n        return null;\r\n    }\r\n\r\n    static inner(nodeOrSelector: Element|string, html: string): Element|null {\r\n        const node = HTML._getNode(nodeOrSelector);\r\n\r\n        if (node) {\r\n            node.innerHTML = DOMPurify.sanitize(html);\r\n        }\r\n\r\n        return node;\r\n    }\r\n\r\n    static replace(nodeOrSelector: Element|string, html: string): Element|null {\r\n        const node = HTML._getNode(nodeOrSelector);\r\n\r\n        if (!node) {\r\n            return null;\r\n        }\r\n\r\n        const dom = HTML.toDom(html); // Support replacing with multiple nodes\r\n        const firstElement = dom.firstElementChild; // Save reference before emptying the docFrag\r\n        node.replaceWith(dom);\r\n\r\n        return firstElement;\r\n    }\r\n\r\n    static wrap<T extends Element>(\r\n        wrapperHtml: string,\r\n        startElementOrSelector: Element|string,\r\n        endElementOrSelector: Element|string|null = startElementOrSelector\r\n    ): T|null {\r\n        const startElement = HTML._getNode(startElementOrSelector);\r\n        if (!startElement) {\r\n            return null;\r\n        }\r\n\r\n        const endElement = endElementOrSelector === null\r\n            ? (startElement.parentElement?.lastElementChild ?? null)\r\n            : HTML._getNode(endElementOrSelector);\r\n\r\n        const wrappedNodes = [startElement];\r\n        for (let cur = startElement; cur.nextElementSibling !== null && cur !== endElement; cur = cur.nextElementSibling) {\r\n            wrappedNodes.push(cur.nextElementSibling);\r\n        }\r\n\r\n        const wrapperElement = HTML.toElement<T>(wrapperHtml);\r\n        if (!wrapperElement) {\r\n            return null;\r\n        }\r\n\r\n        startElement.replaceWith(wrapperElement);\r\n        wrapperElement.append(...wrappedNodes);\r\n        return wrapperElement;\r\n    }\r\n\r\n    private static _adjacent(nodeOrSelector: Element|string, position: InsertPosition, html: string): Element|null {\r\n        const node = HTML._getNode(nodeOrSelector);\r\n        if (node) {\r\n            node.insertAdjacentHTML(position, DOMPurify.sanitize(html));\r\n        }\r\n        return node;\r\n    }\r\n\r\n    static beforeBegin(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"beforebegin\", html);\r\n    }\r\n\r\n    static afterBegin(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"afterbegin\", html);\r\n    }\r\n\r\n    static beforeEnd(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"beforeend\", html);\r\n    }\r\n\r\n    static afterEnd(nodeOrSelector: Element|string|null, html: string): void {\r\n        if (!nodeOrSelector) { return; }\r\n        HTML._adjacent(nodeOrSelector, \"afterend\", html);\r\n    }\r\n}\r\n", "import ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport HTML from \"@Core/Html/Html\";\r\nimport type CBase from \"@Content/Features/Common/CBase\";\r\nimport Settings from \"@Options/Data/Settings\";\r\n\r\nexport default class FHideTrademarks extends Feature<CBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return Settings.hidetmsymbols;\r\n    }\r\n\r\n    override apply(): void {\r\n\r\n        // TODO I would try to reduce number of selectors here\r\n        let selectors = \"title, .apphub_AppName, .breadcrumbs, h1, h4\";\r\n        if (this.context.type === ContextType.STORE_DEFAULT) {\r\n            selectors\r\n                += \".game_area_already_owned, .details_block, .game_description_snippet, \"\r\n                + \".game_area_description p, .glance_details, .game_area_dlc_bubble game_area_bubble, .package_contents, \"\r\n                + \".game_area_dlc_name, .tab_desc, .tab_item_name\";\r\n        } else {\r\n            selectors\r\n                += \".game_suggestion, .appHubShortcut_Title, .apphub_CardContentNewsTitle, \"\r\n                + \".apphub_CardTextContent, .apphub_CardContentAppName, .apphub_AppName\";\r\n        }\r\n\r\n        // Replaces \"R\", \"C\" and \"TM\" signs\r\n        function replaceSymbols(node: Element) {\r\n\r\n            // tfedor I don't trust this won't break any inline JS\r\n            if (!node || !node.innerHTML) { return; }\r\n            HTML.inner(node, node.innerHTML.replace(/[\\u00AE\\u00A9\\u2122]/g, \"\"));\r\n        }\r\n\r\n        for (const node of document.querySelectorAll(selectors)) {\r\n            replaceSymbols(node);\r\n        }\r\n\r\n        const observer = new MutationObserver(mutations => {\r\n            mutations.forEach(mutation => {\r\n                mutation.addedNodes.forEach(node => {\r\n                    replaceSymbols(<Element>node);\r\n                });\r\n            });\r\n        });\r\n\r\n        const nodes = document.querySelectorAll(\"#game_select_suggestions,#search_suggestion_contents,.tab_content_ctn\");\r\n        for (const node of nodes) {\r\n            observer.observe(node, {\"childList\": true, \"subtree\": true});\r\n        }\r\n    }\r\n}\r\n", "import type CBase from \"@Content/Features/Common/CBase\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport Settings from \"@Options/Data/Settings\";\r\n\r\nexport default class FDisableLinkFilter extends Feature<CBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return Settings.disablelinkfilter;\r\n    }\r\n\r\n    override apply(): void {\r\n\r\n        document.addEventListener(\"click\", (e: MouseEvent) => {\r\n            if (!e.target) { return; }\r\n\r\n            const target = e.target as HTMLElement;\r\n            if (target.tagName !== \"A\") { return; }\r\n\r\n            const href = (<HTMLAnchorElement>target).href;\r\n            if (!/\\/linkfilter\\//.test(href)) { return; }\r\n\r\n            const params = new URL(href).searchParams;\r\n            // TODO \"url\" param was used prior to 11/2023, remove after some time\r\n            const url = params.get(\"u\") ?? params.get(\"url\");\r\n            if (!url) { return; }\r\n\r\n            // Skip censored links (has '\u2665')\r\n            if (url.includes(\"%E2%99%A5\")) { return; }\r\n\r\n            e.preventDefault();\r\n\r\n            // TODO check whether it's safe to just directly edit e.target.href\r\n            window.location.href = url;\r\n        });\r\n    }\r\n}\r\n", "import Feature from \"@Content/Modules/Context/Feature\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport type CBase from \"@Content/Features/Common/CBase\";\r\nimport type CRegisterKey from \"@Content/Features/Store/RegisterKey/CRegisterKey\";\r\n\r\nexport default class FKeepSSACheckboxState extends Feature<CBase|CRegisterKey> {\r\n\r\n    override apply(): void {\r\n\r\n        const selector = [\r\n            \"input#market_sell_dialog_accept_ssa\",\r\n            \"input#market_buyorder_dialog_accept_ssa\",\r\n            \"input#accept_ssa\",\r\n        ].join(\",\");\r\n\r\n        for (const node of document.querySelectorAll<HTMLInputElement>(selector)) {\r\n            node.checked = Settings.keepssachecked;\r\n\r\n            node.addEventListener(\"click\", () => {\r\n                Settings.keepssachecked = node.checked;\r\n            });\r\n        }\r\n    }\r\n}\r\n", "import Feature from \"@Content/Modules/Context/Feature\";\r\nimport type CBase from \"@Content/Features/Common/CBase\";\r\nimport Settings from \"@Options/Data/Settings\";\r\n\r\nexport default class FDefaultCommunityTab extends Feature<CBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return Settings.community_default_tab !== \"\"; // Default value is an empty string\r\n    }\r\n\r\n    override apply(): void {\r\n        const tab = Settings.community_default_tab;\r\n\r\n        const links = document.querySelectorAll<HTMLAnchorElement>(\"a[href^='https://steamcommunity.com/app/']\");\r\n        for (const link of links) {\r\n            if (link.classList.contains(\"apphub_sectionTab\")) { continue; }\r\n            if (!/^\\/app\\/[0-9]+\\/?$/.test(link.pathname)) { continue; }\r\n            if (!link.pathname.endsWith(\"/\")) {\r\n                link.pathname += \"/\";\r\n            }\r\n            link.pathname += `${tab}/`;\r\n        }\r\n    }\r\n}\r\n", "<script lang=\"ts\">\r\n    import {onMount} from \"svelte\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__earlyAccess} from \"@Strings/_strings\";\r\n\r\n    export let imageUrl: string;\r\n    export let imgHeader: HTMLImageElement;\r\n\r\n    let container: HTMLSpanElement;\r\n\r\n    onMount(() => {\r\n        container.append(imgHeader);\r\n    });\r\n</script>\r\n\r\n\r\n<span bind:this={container} class=\"es_overlay_container\">\r\n    <span class=\"es_overlay\">\r\n        <img title={L(__earlyAccess)} src={imageUrl} alt=\"Early Access banner\">\r\n    </span>\r\n</span>\r\n\r\n\r\n<style>\r\n    :global(.home_content_item) .es_overlay_container,\r\n    :global(.small_cap) .es_overlay_container,\r\n    :global(.special.special_img_ctn) .es_overlay_container,\r\n    :global(.game_capsule_ctn) .es_overlay_container,\r\n    :global(.review_app_actions .gameLogoHolder_default) .es_overlay_container {\r\n        position: relative;\r\n        display: inherit;\r\n    }\r\n\r\n    :global(.store_capsule) .es_overlay_container {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: auto;\r\n        vertical-align: top;\r\n    }\r\n    :global(.store_capsule) .es_overlay_container > :global(img) {\r\n        width: 100%;\r\n    }\r\n\r\n    .es_overlay,\r\n    .es_overlay img {\r\n        position: absolute;\r\n        z-index: 4; /* Should be lower than .ds_flag (currently 5) */\r\n        width: auto !important;\r\n        height: 60%;\r\n        min-height: 35px;\r\n        max-height: 120px;\r\n    }\r\n    .es_overlay img {\r\n        position: relative;\r\n        height: 100% !important;\r\n    }\r\n\r\n    :global(.home_content.single) .es_overlay {\r\n        z-index: 11;\r\n    }\r\n    :global(.gameListRowLogo) .es_overlay,\r\n    :global(.game_capsule_ctn) .es_overlay {\r\n        height: 70%;\r\n    }\r\n    :global(.gameLogo) .es_overlay {\r\n        height: 50%;\r\n    }\r\n    :global(.curator_featured) .es_overlay {\r\n        height: 25%;\r\n    }\r\n</style>\r\n", "\r\nexport default abstract class GameId {\r\n\r\n    private readonly full: string;\r\n\r\n    protected constructor(\r\n        private type_: \"app\"|\"sub\"|\"bundle\",\r\n        private id_: number\r\n    ) {\r\n        this.full = `${this.type_}/${this.id_}`;\r\n    }\r\n\r\n    get type(): \"app\"|\"sub\"|\"bundle\" {\r\n        return this.type_;\r\n    }\r\n\r\n    get number(): number {\r\n        return this.id_;\r\n    }\r\n\r\n    get string(): string {\r\n        return this.full;\r\n    };\r\n}\r\n", "import GameId from \"@Core/GameId/GameId\";\r\n\r\n// TODO refactor to return instance\r\nexport default class AppId extends GameId {\r\n\r\n    static fromUrl(url: string) {\r\n        const m = url.match(/(?:store\\.steampowered|steamcommunity)\\.com\\/(?:app|games|market\\/listings)\\/(\\d+)\\/?/);\r\n        return m && m[1] !== undefined\r\n            ? Number(m[1])\r\n            : null;\r\n    }\r\n\r\n    static fromCDNUrl(url: string): number|null {\r\n        const CDNRegex_1 = /(?:cdn\\.(?:(?:akamai|cloudflare|fastly)\\.)?steamstatic\\.com\\/steam|steamcdn-a\\.akamaihd\\.net\\/steam|steamcommunity\\/public\\/images)\\/apps\\/(\\d+)\\//;\r\n        const CDNRegex_2 = /shared\\.(?:(?:akamai|cloudflare|fastly)\\.)?steamstatic\\.com\\/store_item_assets\\/steam\\/apps\\/(\\d+)\\//;\r\n        const m = url.match(CDNRegex_1) ?? url.match(CDNRegex_2);\r\n        return m && m[1] !== undefined\r\n            ? Number(m[1])\r\n            : null;\r\n    }\r\n\r\n    static fromGameCardUrl(url: string): number|null {\r\n        const m = url.match(/\\/gamecards\\/(\\d+)/);\r\n        return m && m[1] !== undefined\r\n            ? Number(m[1])\r\n            : null;\r\n    }\r\n\r\n    static fromElement(element: HTMLElement|null): number|null {\r\n        if (!element) {\r\n            return null;\r\n        }\r\n\r\n        const appid = element.dataset.dsAppid;\r\n        if (appid) {\r\n            return Number(appid);\r\n        }\r\n\r\n        const href = element.getAttribute(\"href\");\r\n        if (!href) {\r\n            return null;\r\n        }\r\n\r\n        return this.fromUrl(href);\r\n    }\r\n\r\n    static fromImageElement(element: HTMLImageElement|null): number|null {\r\n        if (!element) {\r\n            return null;\r\n        }\r\n\r\n        const src = element.getAttribute(\"src\");\r\n        if (src) {\r\n            return this.fromCDNUrl(src);\r\n        } else if (element.dataset.imageUrl) {\r\n            return this.fromCDNUrl(element.dataset.imageUrl);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    static fromText(text: string): number[] {\r\n        const regex = /(?:store\\.steampowered|steamcommunity)\\.com\\/app\\/(\\d+)\\/?/g;\r\n        const result: number[] = [];\r\n        let m;\r\n        while ((m = regex.exec(text)) !== null) {\r\n            result.push(Number(m[1]));\r\n        }\r\n        return result;\r\n    }\r\n\r\n    constructor(id: number) {\r\n        super(\"app\", id);\r\n    }\r\n}\r\n", "import EarlyAccess from \"./EarlyAccess.svelte\";\r\nimport Settings from \"@Options/Data/Settings\";\r\nimport AppId from \"@Core/GameId/AppId\";\r\nimport Language from \"@Core/Localization/Language\";\r\nimport ExtensionResources from \"@Core/ExtensionResources\";\r\nimport AugmentedSteamApiFacade from \"@Content/Modules/Facades/AugmentedSteamApiFacade\";\r\n\r\nexport default class EarlyAccessUtils {\r\n\r\n    // TODO support React-based sales pages, curator lists, etc.\r\n    private static readonly storeSelectors = [\r\n        \".tab_item\", // Item rows on storefront\r\n        \".newonsteam_headercap\", // explore/new\r\n        \".comingsoon_headercap\", // explore/upcoming\r\n        \".store_capsule\",\r\n        \".dailydeal_ctn\",\r\n        \".special.special_img_ctn\", // explore/new, cart/\r\n        /*\r\n         * These use CSS backgrounds instead of img elements, unsupported for now\r\n         * \".store_main_capsule\", // Featured & Recommended\r\n         * \".home_marketing_message\", // Updates and Offers\r\n         */\r\n        \".home_area_spotlight\", // Special Offers, specials/\r\n        \".curator_giant_capsule\", // Curator Recommendations\r\n        \".home_content_item\", // Recommendations at the bottom of the storefront (small)\r\n        \".home_content.single > .gamelink\", // ...aforementioned (big)\r\n        \".highlighted_app_header\", // curators/\r\n        \"body.dlc_curator #curator_avatar_image\", // Header image on dlc pages\r\n        \".curator_featured .capsule\", // Featured items on curator, developer, publisher, franchise, dlc etc. pages\r\n        \".search_result_row\",\r\n        \".small_cap\", // \"recommended\" section on app pages\r\n        \".browse_tag_game_cap\", // tag/browse\r\n        \".recommendation_highlight > .header_image\", // recommended/morelike, recommended/friendactivity/\r\n        \".similar_grid_item\", // recommended/morelike\r\n        \".friend_game_block > .game_capsule\", // recommended/friendactivity/\r\n        \".friendactivity_tab_row\", // recommended/friendactivity/\r\n        \".recommendation_app\", // recommended/byfriends/\r\n        \".recommendation_carousel_item\",\r\n        \".app_header\",\r\n        \".friendplaytime_appheader\",\r\n    ];\r\n\r\n    private static readonly communitySelectors = [\r\n        // Selectors for Profile Home are split out due to issues with running them on my/edit/showcases\r\n        \".gameLogo\", // Various game community pages e.g. global/personal achievements\r\n        \".blotter_gamepurchase_logo\", // activity home\r\n        \".gameLogoHolder_default\", // activity home, individual reviews\r\n        \".game_capsule_ctn\", // reviews list\r\n    ];\r\n\r\n    private static readonly selector = (window.location.hostname === \"store.steampowered.com\" ? this.storeSelectors : this.communitySelectors)\r\n        .join(\",\");\r\n\r\n    public static async show(language: Language|null, nodes?: NodeListOf<HTMLElement>|Array<HTMLElement>): Promise<void> {\r\n        if (!Settings.show_early_access || !language) { return; }\r\n\r\n        const _nodes: NodeListOf<HTMLElement>|Array<HTMLElement> = nodes ?? document.querySelectorAll(this.selector);\r\n        if (_nodes.length === 0) { return; }\r\n\r\n        // TODO add missing images for supported locales\r\n        let imageName = \"img/overlay/early_access_banner_english.png\";\r\n        if (language.isOneOf(\r\n            \"brazilian\",\r\n            \"french\",\r\n            \"italian\",\r\n            \"japanese\",\r\n            \"koreana\",\r\n            \"polish\",\r\n            \"portuguese\",\r\n            \"russian\",\r\n            \"schinese\",\r\n            \"spanish\",\r\n            \"latam\",\r\n            \"tchinese\",\r\n            \"thai\"\r\n        )) {\r\n            imageName = `img/overlay/early_access_banner_${language.name}.png`;\r\n        }\r\n\r\n        const imageUrl = ExtensionResources.getURL(imageName);\r\n\r\n        for (const node of await this.getEaNodes(_nodes)) {\r\n\r\n            /*\r\n             * TODO It's possible a child element has been checked already, remove when not needed\r\n             * e.g. duplicate elements on the storefront (More Curator Recommendations)\r\n             * and when called with the same arguments as highlighting (observing changes in CStoreBase)\r\n             */\r\n            if (node.querySelector(\".es_overlay_container\") !== null) { continue; }\r\n\r\n            node.classList.add(\"es_early_access\");\r\n\r\n            const imgHeader = node.querySelector(\"img\");\r\n            if (!imgHeader) { continue; }\r\n\r\n            new EarlyAccess({\r\n                target: imgHeader.parentElement!,\r\n                anchor: imgHeader, // Render the component \"before\" the original image\r\n                props: {\r\n                    imageUrl,\r\n                    imgHeader,\r\n                },\r\n            });\r\n        }\r\n    }\r\n\r\n    static async getEaNodes(nodes: Iterable<HTMLElement>): Promise<HTMLElement[]> {\r\n\r\n        const appidsMap: Map<number, HTMLElement[]> = new Map();\r\n\r\n        for (const node of nodes) {\r\n            if (node.classList.contains(\"es_ea_checked\")) {\r\n                continue;\r\n            }\r\n            node.classList.add(\"es_ea_checked\");\r\n\r\n            // Skip the live streams section since the thumbnail is shown on top\r\n            if (node.classList.contains(\"store_capsule\") && node.querySelector(\".capsule[id^=broadcast]\") !== null) {\r\n                continue;\r\n            }\r\n\r\n            let appid = AppId.fromElement(node)\r\n                || AppId.fromElement(node.querySelector<HTMLAnchorElement>(\"a\"))\r\n                || AppId.fromElement(node.querySelector<HTMLImageElement>(\"img\"));\r\n\r\n            if (appid) {\r\n                const nodes = (appidsMap.get(appid) ?? []);\r\n                nodes.push(node);\r\n                appidsMap.set(appid, nodes);\r\n            } else {\r\n                // console.warn(\"FEarlyAccess: Couldn't find appid for node %o\", node);\r\n            }\r\n        }\r\n\r\n        if (appidsMap.size === 0) {\r\n            return [];\r\n        }\r\n\r\n        const eaStatus = await AugmentedSteamApiFacade.isEarlyAccess([...appidsMap.keys()]);\r\n\r\n        return Array.from(appidsMap).flatMap(([appid, nodesArray]) => {\r\n            return eaStatus[appid] ? nodesArray : [];\r\n        });\r\n    }\r\n}\r\n", "import type CBase from \"@Content/Features/Common/CBase\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport EarlyAccessUtils from \"@Content/Modules/EarlyAccess/EarlyAccessUtils\";\r\n\r\nexport default class FEarlyAccess extends Feature<CBase> {\r\n\r\n    public override async apply(): Promise<void> {\r\n        await EarlyAccessUtils.show(this.context.language);\r\n    }\r\n}\r\n", "import FHideTrademarks from \"./FHideTrademarks\";\r\nimport FDisableLinkFilter from \"./FDisableLinkFilter\";\r\nimport FKeepSSACheckboxState from \"./FKeepSSACheckboxState\";\r\nimport FDefaultCommunityTab from \"./FDefaultCommunityTab\";\r\nimport Context, {type ContextParams} from \"@Content/Modules/Context/Context\";\r\nimport ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport type Feature from \"@Content/Modules/Context/Feature\";\r\nimport FEarlyAccess from \"@Content/Features/Common/FEarlyAccess\";\r\n\r\nexport default class CBase extends Context {\r\n\r\n    constructor(\r\n        params: ContextParams,\r\n        type: ContextType,\r\n        features: (typeof Feature<Context>)[] = []\r\n    ) {\r\n\r\n        features.push(\r\n            FEarlyAccess,\r\n            FHideTrademarks,\r\n            FDisableLinkFilter,\r\n            FKeepSSACheckboxState,\r\n            FDefaultCommunityTab,\r\n        );\r\n\r\n        super(params, type, features);\r\n    }\r\n}\r\n", "<svelte:options immutable={false} />\r\n\r\n<script lang=\"ts\">\r\n    import {__favEmoticonsDragging, __favEmoticonsNoAccess, __loading} from \"@Strings/_strings\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {onMount} from \"svelte\";\r\n    import SyncedStorage from \"@Core/Storage/SyncedStorage\";\r\n    import {handleDrag} from \"@Content/Features/Community/FFavoriteEmoticons\";\r\n\r\n    export let emoticonPopup: HTMLElement;\r\n\r\n    let promise: Promise<void> = Promise.resolve();\r\n    let favs: string[] = [];\r\n\r\n    let favBox: HTMLDivElement;\r\n    let overBox: boolean = false;\r\n    let overRemove: boolean = false;\r\n\r\n    function handleClick(e: MouseEvent): void {\r\n        if (!e.target) {\r\n            return;\r\n        }\r\n\r\n        const node = (<HTMLElement>(e.target)).closest<HTMLElement>(\".emoticon_option\");\r\n        if (!node) {\r\n            return;\r\n        }\r\n\r\n        const noFav = emoticonPopup.querySelector<HTMLElement>(`[data-emoticon=${node.dataset.emoticon}]:not(.es_fav)`);\r\n        if (!noFav) {\r\n            // The user doesn't have access to this emoticon\r\n            e.stopPropagation();\r\n            node.classList.add(\"no-access\");\r\n            const img = node.querySelector<HTMLImageElement>(\"img\");\r\n            if (img) {\r\n                img.title = L(__favEmoticonsNoAccess);\r\n            }\r\n            return;\r\n        }\r\n        noFav.click();\r\n    }\r\n\r\n    function leaveBox(e: DragEvent): void {\r\n        // Additional check to avoid background flicker when hovering over child elements, see https://stackoverflow.com/a/54960084\r\n        if (e.relatedTarget && !favBox.contains(e.relatedTarget as HTMLElement)) {\r\n            overBox = false;\r\n        }\r\n    }\r\n\r\n    function addFavorite(e: DragEvent) {\r\n        overBox = false;\r\n        if (!e.dataTransfer) { return; }\r\n\r\n        const name = e.dataTransfer.getData(\"emoticon\");\r\n        if (favs.includes(name)) { return; }\r\n\r\n        favs.push(name);\r\n        favs = favs;\r\n        persistFavorites();\r\n    }\r\n\r\n    function removeFavorite(e: DragEvent): void {\r\n        overRemove = false;\r\n        const name = e.dataTransfer?.getData(\"emoticon\");\r\n        favs = favs.filter(fav => fav !== name);\r\n        persistFavorites();\r\n    }\r\n\r\n    function persistFavorites(): void {\r\n        SyncedStorage.set(\"fav_emoticons\", favs);\r\n    }\r\n\r\n    onMount(() => {\r\n        promise = (async () => {\r\n            favs = (await SyncedStorage.get(\"fav_emoticons\")) ?? [];\r\n        })();\r\n    });\r\n</script>\r\n\r\n\r\n<div class=\"emoticon_popup_content es_emoticons_content\">\r\n    <!-- svelte-ignore a11y-no-static-element-interactions -->\r\n    <div class=\"commentthread_entry_quotebox es_fav_remove\"\r\n         class:is-over={overRemove}\r\n         on:dragover|preventDefault={() => overRemove = true}\r\n         on:dragenter={() => overRemove = true}\r\n         on:dragleave={() => overRemove = false}\r\n         on:drop|preventDefault={removeFavorite}\r\n    ></div>\r\n\r\n    <!-- svelte-ignore a11y-no-static-element-interactions -->\r\n    <div bind:this={favBox}\r\n         class=\"commentthread_entry_quotebox es_fav_emoticons\"\r\n         class:is-over={overBox}\r\n         on:dragover|preventDefault={() => overBox = true}\r\n         on:dragenter|preventDefault={() => overBox = true}\r\n         on:dragleave={leaveBox}\r\n         on:drop|preventDefault={addFavorite}\r\n    >\r\n\r\n        {#await promise}\r\n            {L(__loading)}\r\n        {:then _}\r\n            {#each favs as name}\r\n                <!-- svelte-ignore a11y-click-events-have-key-events a11y-no-static-element-interactions -->\r\n                <div class=\"emoticon_option es_fav\"\r\n                     data-emoticon={name}\r\n                     draggable=\"true\"\r\n                     on:dragstart={handleDrag}\r\n                     on:click={handleClick}>\r\n\r\n                    <!-- svelte-ignore a11y-missing-attribute -->\r\n                    <img src=\"//community.cloudflare.steamstatic.com/economy/emoticon/{name}\"\r\n                         class=\"emoticon\"\r\n                         draggable=\"false\" />\r\n                </div>\r\n            {:else}\r\n                {L(__favEmoticonsDragging)}\r\n            {/each}\r\n        {/await}\r\n    </div>\r\n</div>\r\n\r\n\r\n<style>\r\n    /** Favorite emoticons */\r\n    :global(.es_emoticons.emoticon_popup) {\r\n        max-width: 352px;\r\n    }\r\n    .es_emoticons_content {\r\n        margin-bottom: 10px;\r\n        min-height: 32px;\r\n        line-height: 32px;\r\n        text-align: center;\r\n        max-height: none;\r\n        display: flex;\r\n    }\r\n    .es_emoticons_content :global(.no-access) {\r\n        cursor: help;\r\n        opacity: 0.4;\r\n    }\r\n    .es_fav_remove {\r\n        width: 10%;\r\n        background-image: url(https://community.cloudflare.steamstatic.com/economy/emoticon/remove);\r\n        background-repeat: no-repeat;\r\n        background-position: center;\r\n    }\r\n    .es_fav_emoticons {\r\n        width: 90%;\r\n    }\r\n\r\n    .is-over {\r\n        background-color: black;\r\n    }\r\n</style>\r\n", "import self_ from \"./FFavoriteEmoticons.svelte\";\r\nimport type CCommunityBase from \"@Content/Features/Community/CCommunityBase\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\n\r\nexport function handleDrag(e: DragEvent): void {\r\n    if (!e.dataTransfer || !e.target) {\r\n        return;\r\n    }\r\n\r\n    const emoticon = (<HTMLElement>(e.target)).dataset.emoticon;\r\n    if (!emoticon) {\r\n        return;\r\n    }\r\n\r\n    e.dataTransfer.setData(\"emoticon\", emoticon);\r\n    const emoticonHover = document.querySelector<HTMLElement>(\".emoticon_hover\");\r\n    if (emoticonHover) {\r\n        emoticonHover.style.display = \"none\";\r\n    }\r\n}\r\n\r\nexport default class FFavoriteEmoticons extends Feature<CCommunityBase> {\r\n\r\n    override checkPrerequisites(): boolean {\r\n        return document.querySelector(\".emoticon_button\") !== null;\r\n    }\r\n\r\n    override apply(): void {\r\n        new MutationObserver(() => {\r\n            const emoticonPopup = document.querySelector<HTMLElement>(\".emoticon_popup:not(.es_emoticons)\");\r\n            if (!emoticonPopup) { return; }\r\n\r\n            emoticonPopup.classList.add(\"es_emoticons\");\r\n\r\n            for (const node of emoticonPopup.querySelectorAll<HTMLElement>(\".emoticon_option\")) {\r\n                node.draggable = true;\r\n                node.querySelector(\"img\")!.draggable = false;\r\n                node.addEventListener(\"dragstart\", handleDrag);\r\n            }\r\n\r\n            new self_({\r\n                target: emoticonPopup,\r\n                anchor: emoticonPopup.firstElementChild ?? undefined,\r\n                props: {\r\n                    emoticonPopup\r\n                }\r\n            });\r\n        }).observe(document.body, {\"childList\": true});\r\n    }\r\n}\r\n", "import FConfirmDeleteComment from \"./FConfirmDeleteComment\";\r\nimport FHideSpamComments from \"./FHideSpamComments\";\r\nimport type Feature from \"@Content/Modules/Context/Feature\";\r\nimport Context, {type ContextParams} from \"@Content/Modules/Context/Context\";\r\nimport CBase from \"@Content/Features/Common/CBase\";\r\nimport ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport FFavoriteEmoticons from \"./FFavoriteEmoticons\";\r\n\r\nexport default class CCommunityBase extends CBase {\r\n\r\n    constructor(params: ContextParams, type = ContextType.COMMUNITY_DEFAULT, features: (typeof Feature<Context>[]) = []) {\r\n\r\n        features.push(\r\n            FConfirmDeleteComment,\r\n            FHideSpamComments,\r\n            FFavoriteEmoticons,\r\n        );\r\n\r\n        super(params, type, features);\r\n    }\r\n}\r\n", "\r\nclass Timer {\r\n\r\n    private promise: Promise<void>;\r\n\r\n    constructor(duration: number) {\r\n        this.promise = new Promise(resolve => setTimeout(resolve, duration));\r\n    }\r\n\r\n    then(onDone: (value: void) => void|Promise<void>) {\r\n        return this.promise.then(onDone);\r\n    }\r\n}\r\n\r\nexport interface IResettableTimer {\r\n    readonly running: boolean,\r\n    reset: () => void,\r\n    stop: () => void,\r\n}\r\n\r\nclass ResettableTimer implements IResettableTimer {\r\n\r\n    private id: number|undefined;\r\n    private _running: boolean = false;\r\n\r\n    private readonly onDone: () => void|Promise<void>;\r\n    private readonly duration: number;\r\n\r\n    constructor(onDone: () => void|Promise<void>, duration: number) {\r\n        this.onDone = onDone;\r\n        this.duration = duration;\r\n\r\n        this.reset();\r\n    }\r\n\r\n    get running(): boolean {\r\n        return this._running;\r\n    }\r\n\r\n    reset(): void {\r\n        if (typeof this.id !== \"undefined\") {\r\n            clearTimeout(this.id);\r\n        }\r\n\r\n        this.id = window.setTimeout(async() => {\r\n            await this.onDone();\r\n            this._running = false;\r\n        }, this.duration);\r\n\r\n        this._running = true;\r\n    }\r\n\r\n    stop(): void {\r\n        if (typeof this.id !== \"undefined\") {\r\n            clearTimeout(this.id);\r\n            this.id = undefined;\r\n        }\r\n\r\n        this._running = false;\r\n    }\r\n}\r\n\r\n\r\nexport default class TimeUtils {\r\n\r\n    static timer(duration: number): Timer {\r\n        return new Timer(duration);\r\n    }\r\n\r\n    static resettableTimer(onDone: () => void|Promise<void>, duration: number): IResettableTimer {\r\n        return new ResettableTimer(onDone, duration);\r\n    }\r\n\r\n    static now(): number {\r\n        return Math.trunc(Date.now() / 1000);\r\n    }\r\n\r\n    static isInPast(timestamp: number): boolean {\r\n        return timestamp <= this.now();\r\n    }\r\n\r\n    static isInFuture(timestamp: number): boolean {\r\n        return timestamp > this.now();\r\n    }\r\n}\r\n", "<script lang=\"ts\">\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import {__sortBy, __thewordunknown} from \"@Strings/_strings\";\r\n    import {createEventDispatcher, onMount, tick} from \"svelte\";\r\n    import type {SortboxChangeEvent} from \"@Content/Modules/Widgets/SortboxChangeEvent\";\r\n\r\n    const dispatch = createEventDispatcher<{\r\n        change: SortboxChangeEvent\r\n    }>();\r\n\r\n    export let name: string;\r\n    export let options: Array<[string, string]>;\r\n    export let value: string; // format: {key}_{ASC|DESC}\r\n\r\n    let highlighted: string;\r\n    let selected: string;\r\n    let selectedName: string;\r\n    let direction: number;\r\n\r\n    let containerNode: HTMLElement;\r\n    let isOpen: boolean = false;\r\n\r\n    function clickOutsideHandler(e: MouseEvent): void {\r\n        if (!containerNode.contains(<HTMLElement>e.target)) {\r\n            hide();\r\n        }\r\n    }\r\n\r\n    function show(): void {\r\n        document.addEventListener(\"mousedown\", clickOutsideHandler);\r\n        isOpen = true;\r\n    }\r\n\r\n    function hide(): void {\r\n        document.removeEventListener(\"mousedown\", clickOutsideHandler);\r\n        isOpen = false;\r\n    }\r\n\r\n    function dispatchChange(): void {\r\n        dispatch(\"change\", {\r\n            value,\r\n            key: selected,\r\n            direction\r\n        });\r\n    }\r\n\r\n    function select(key: string, name: string): void {\r\n        hide();\r\n        selected = key;\r\n        selectedName = name;\r\n        value = `${selected}_${direction < 0 ? \"DESC\" : \"ASC\"}`;\r\n        dispatchChange();\r\n    }\r\n\r\n    function reverse(): void {\r\n        direction = direction * -1;\r\n        value = `${selected}_${direction < 0 ? \"DESC\" : \"ASC\"}`;\r\n        dispatchChange();\r\n    }\r\n\r\n    onMount(() => {\r\n        direction = value.endsWith(\"_DESC\") ? -1 : 1;\r\n        selected = value.replace(/(_ASC|_DESC)$/, \"\");\r\n        highlighted = selected;\r\n        selectedName = L(__thewordunknown);\r\n        for (let [key, name] of options) {\r\n            if (key === selected) {\r\n                selectedName = name;\r\n                break;\r\n            }\r\n        }\r\n\r\n        // Trigger change for initial option\r\n        if (value !== \"default_ASC\") {\r\n            tick().then(dispatchChange);\r\n        }\r\n    });\r\n</script>\r\n\r\n\r\n<div class=\"as-sortbox\"\r\n     class:as-sortbox--groups={name === \"groups\"}\r\n     class:as-sortbox--reviews={name === \"reviews\"}\r\n     class:as-sortbox--friends={name === \"friends\"}\r\n>\r\n    <div class=\"as-sortbox__label\">{L(__sortBy)}</div>\r\n    <div class=\"as-sortbox__container\" bind:this={containerNode}>\r\n        <button class=\"as-sortbox__trigger\"\r\n                class:is-open={isOpen}\r\n                on:click={show}>{selectedName}</button>\r\n\r\n        <div class=\"as-dropdown\" class:is-open={isOpen}>\r\n            <ul>\r\n                {#each options as [key, name]}\r\n                    <li>\r\n                        <!-- svelte-ignore a11y-mouse-events-have-key-events -->\r\n                        <button type=\"button\"\r\n                                class:is-highlighted={highlighted === key}\r\n                                on:mouseover={() => highlighted = key}\r\n                                on:click={() => select(key, name)}\r\n                        >{name}</button>\r\n                    </li>\r\n                {/each}\r\n            </ul>\r\n        </div>\r\n    </div>\r\n\r\n    <button type=\"button\" class=\"as-sortbox__reverse\" on:click={reverse}>\r\n        {#if direction < 0}{:else}{/if}\r\n    </button>\r\n</div>\r\n\r\n\r\n<style>\r\n    button {\r\n        background: transparent;\r\n        text-align: left;\r\n        border: 0;\r\n        outline: 0;\r\n    }\r\n\r\n    .as-sortbox {\r\n        color: #fff;\r\n        float: right;\r\n        margin-top: 4px;\r\n    }\r\n    .as-sortbox--reviews {\r\n        padding: 20px 0 5px 0;\r\n    }\r\n    .as-sortbox--friends, .as-sortbox--groups {\r\n        flex-grow: 2;\r\n        margin-right: 20px;\r\n        margin-top: 0;\r\n        text-align: right;\r\n    }\r\n\r\n    .as-sortbox__label {\r\n        font-size: 12px;\r\n        display: inline-block;\r\n        margin-right: 4px;\r\n    }\r\n    .as-sortbox__container {\r\n        display: inline-block;\r\n        vertical-align: middle;\r\n        width: 120px;\r\n        position: relative;\r\n        font-size: 12px;\r\n        text-align: left;\r\n    }\r\n    .as-sortbox__reverse {\r\n        cursor: pointer;\r\n        color: white;\r\n    }\r\n    .as-sortbox__trigger {\r\n        display: block;\r\n        width: 100%;\r\n        color: #67c1f5;\r\n        padding: 0 30px 0 8px;\r\n        font-size: 12px;\r\n        line-height: 21px;\r\n        border: 0;\r\n        border-radius: 3px;\r\n        text-decoration: none;\r\n        overflow: hidden;\r\n        text-overflow: ellipsis;\r\n        white-space: nowrap;\r\n        position: relative;\r\n        background: rgba( 103, 193, 245, 0.1 );\r\n    }\r\n    .as-sortbox__trigger.is-open {\r\n        border-bottom-left-radius: 0;\r\n        border-bottom-right-radius: 0;\r\n        z-index: 91;\r\n        position: relative;\r\n        color: #ffffff;\r\n        background: #67c1f5;\r\n    }\r\n    .as-sortbox__trigger::after {\r\n        position: absolute;\r\n        right: 0;\r\n        top: 0;\r\n        bottom: 0;\r\n        width: 20px;\r\n        background: url(\"https://store.cloudflare.steamstatic.com/public/images/v6/ico/ico_arrow_dn_for_select.png\") no-repeat left center;\r\n        content: '';\r\n    }\r\n    .as-dropdown {\r\n        position: relative;\r\n        display: none;\r\n    }\r\n    .as-dropdown.is-open {\r\n        display: block;\r\n    }\r\n    ul {\r\n        list-style-type: none;\r\n        line-height: 22px;\r\n        margin: 0;\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        padding: 0;\r\n        z-index: 900;\r\n        overflow: auto;\r\n        overflow-x: hidden;\r\n        box-shadow: 0 0 5px 0 #000000;\r\n        background: #417A9B;\r\n    }\r\n    ul button {\r\n        padding: 0 10px;\r\n        display: block;\r\n        width: 100%;\r\n        text-decoration: none;\r\n        color: #e5e4dc;\r\n        white-space: nowrap;\r\n    }\r\n    ul button.is-highlighted {\r\n        color: #ffffff;\r\n        background: #67c1f5 linear-gradient(-60deg, #417a9b 5%, #67c1f5 95%);\r\n    }\r\n</style>\r\n", "<svelte:options accessors />\r\n\r\n<script lang=\"ts\">\r\n    import {__wait} from \"@Strings/_strings\";\r\n    import {L} from \"@Core/Localization/Localization\";\r\n    import Modal from \"./Modal.svelte\";\r\n\r\n    export let title: string;\r\n    export let status: string|string[] = L(__wait);\r\n</script>\r\n\r\n\r\n<Modal {title}>\r\n    <div>\r\n        <i></i>\r\n        {#if typeof status === \"string\"}\r\n            {status}\r\n        {:else}\r\n            {#each status as statusStr}\r\n                <div>{statusStr}</div>\r\n            {/each}\r\n        {/if}\r\n    </div>\r\n</Modal>\r\n\r\n\r\n<style>\r\n    div {\r\n        line-height: 32px;\r\n    }\r\n\r\n    i {\r\n        display: block;\r\n        width: 32px;\r\n        height: 32px;\r\n        background: url( 'https://community.fastly.steamstatic.com/public/images/login/throbber.gif' ) center center no-repeat;\r\n        margin-right: 5px;\r\n        float: left;\r\n    }\r\n\r\n</style>", "import type {SvelteComponent} from \"svelte\";\r\nimport BlockingWaitModal from \"./Contained/BlockingWaitModal.svelte\";\r\n\r\nexport default class BlockingWaitDialog {\r\n\r\n    private modalComponent: SvelteComponent | undefined;\r\n\r\n    constructor(\r\n        private readonly title: string,\r\n        private readonly statusFn: () => string|string[]\r\n    ) {\r\n    }\r\n\r\n    async update(): Promise<void> {\r\n        if (!this.modalComponent) {\r\n            this.modalComponent = new BlockingWaitModal({\r\n                target: document.body,\r\n                props: {\r\n                    title: this.title,\r\n                    status: this.statusFn()\r\n                }\r\n            });\r\n        }\r\n\r\n        this.modalComponent.status = this.statusFn();\r\n    }\r\n\r\n    dismiss(): void {\r\n        if (this.modalComponent) {\r\n            this.modalComponent.$destroy();\r\n        }\r\n    }\r\n}\r\n", "import TimeUtils from \"@Core/Utils/TimeUtils\";\r\nimport {\r\n    __awards,\r\n    __date,\r\n    __funny,\r\n    __helpful,\r\n    __length,\r\n    __playtime,\r\n    __processing,\r\n    __rating,\r\n    __visibility,\r\n    __wait,\r\n} from \"@Strings/_strings\";\r\nimport {L} from \"@Core/Localization/Localization\";\r\nimport Feature from \"@Content/Modules/Context/Feature\";\r\nimport type CRecommended from \"@Content/Features/Community/Recommended/CRecommended\";\r\nimport SortBox from \"@Content/Modules/Widgets/SortBox.svelte\";\r\nimport SyncedStorage from \"@Core/Storage/SyncedStorage\";\r\nimport SteamCommunityApiFacade from \"@Content/Modules/Facades/SteamCommunityApiFacade\";\r\nimport type {TReview} from \"@Background/Modules/Community/_types\";\r\nimport HTML from \"@Core/Html/Html\";\r\nimport BlockingWaitDialog from \"@Core/Modals/BlockingWaitDialog\";\r\n\r\nexport default class FReviewSort extends Feature<CRecommended> {\r\n\r\n    private _reviewCount: number = 0;\r\n    private _path: string = \"\";\r\n    private _curPage: number = 0;\r\n    private _pageCount: number = 10;\r\n    private _pages: number = 0;\r\n    private _reviews: TReview[]|undefined = undefined;\r\n\r\n    override checkPrerequisites(): boolean {\r\n        // Total number of reviews. Passed to background script for fetching reviews.\r\n        this._reviewCount = Number(document.querySelector<HTMLElement>(\"#rightContents .review_stat .giantNumber\")?.textContent?.trim());\r\n\r\n        return this._reviewCount > 1;\r\n    }\r\n\r\n    override async apply(): Promise<void> {\r\n\r\n        // Current profile path. Passed to background script for fetching reviews.\r\n        this._path = window.location.pathname.match(/\\/((?:id|profiles)\\/.+?)\\//)![1]!;\r\n\r\n        // Current page. Used to calculate the portion of reviews to show after sorting.\r\n        this._curPage = Number(new URLSearchParams(window.location.search).get(\"p\") ?? 1);\r\n\r\n        // Max reviews displayed per page.\r\n        this._pageCount = 10;\r\n\r\n        // Number of pages. Passed to background script for fetching reviews.\r\n        this._pages = Math.ceil(this._reviewCount / this._pageCount);\r\n\r\n        const anchor = document.querySelector<HTMLElement>(\"#leftContents > h1\");\r\n        if (!anchor) {\r\n            return;\r\n        }\r\n\r\n        (new SortBox({\r\n            target: anchor.parentElement!,\r\n            anchor,\r\n            props: {\r\n                name: \"reviews\",\r\n                options: [\r\n                    [\"default\", L(__date)],\r\n                    [\"rating\", L(__rating)],\r\n                    [\"helpful\", L(__helpful)],\r\n                    [\"funny\", L(__funny)],\r\n                    [\"length\", L(__length)],\r\n                    [\"visibility\", L(__visibility)],\r\n                    [\"playtime\", L(__playtime)],\r\n                    [\"awards\", L(__awards)],\r\n                ],\r\n                value: (await SyncedStorage.get(\"sortreviewsby\")) ?? \"default_ASC\"\r\n            }\r\n        })).$on(\"change\", e => {\r\n            const {value, key, direction} = e.detail;\r\n            SyncedStorage.set(\"sortreviewsby\", value);\r\n            this._sortReviews(key, direction < 0);\r\n        });\r\n    }\r\n\r\n    async _sortReviews(sortBy: string, reversed: boolean): Promise<void> {\r\n\r\n        if (this._reviews === undefined) {\r\n            await this._getReviews();\r\n        }\r\n\r\n        for (const node of document.querySelectorAll(\".review_box, .review_developer_response_container\")) {\r\n            node.remove();\r\n        }\r\n\r\n        let displayedReviews = this._reviews!.slice().sort((a, b) => {\r\n            switch (sortBy) {\r\n                case \"rating\":\r\n                case \"helpful\":\r\n                case \"funny\":\r\n                case \"length\":\r\n                case \"visibility\":\r\n                case \"playtime\":\r\n                case \"awards\":\r\n                    return b[sortBy] - a[sortBy];\r\n                case \"default\":\r\n                    return a[sortBy] - b[sortBy];\r\n                default:\r\n                    this.logError(\r\n                        new Error(\"Invalid sorting criteria\"),\r\n                        \"Can't sort reviews by criteria '%s'\",\r\n                        sortBy,\r\n                    );\r\n                    return 0;\r\n            }\r\n        });\r\n\r\n        if (reversed) {\r\n            displayedReviews.reverse();\r\n        }\r\n\r\n        displayedReviews = displayedReviews.slice(this._pageCount * (this._curPage - 1), this._pageCount * this._curPage);\r\n\r\n        const footer = document.querySelector(\"#leftContents > .workshopBrowsePaging:last-child\");\r\n        for (const {node} of displayedReviews) {\r\n            HTML.beforeBegin(footer, node);\r\n        }\r\n\r\n        // Add back sanitized event handlers\r\n        const loggedIn = this.context.user.isSignedIn ? 1 : 0;\r\n        const loginURL = encodeURIComponent(`https://steamcommunity.com/login/home/?goto=${this._path}/recommended/?insideModal=0`);\r\n        const ids = displayedReviews.map(review => review.id);\r\n        document.querySelectorAll(\".review_box\").forEach((node, i) => {\r\n            const id = ids[i];\r\n\r\n            for (const award of node.querySelectorAll<HTMLElement>(\".review_award\")) {\r\n                // More button shows up after 3 awards\r\n                if (award.classList.contains(\"more_btn\")) {\r\n                    award.setAttribute(\"onclick\", \"UserReview_ShowMoreAwards(this);\");\r\n                } else {\r\n                    const selected = award.dataset.tooltipHtml!.match(/animated\\/(\\d+)\\.png/)![1];\r\n                    award.setAttribute(\"onclick\", `UserReview_Award(${loggedIn}, \"${loginURL}\", \"${id}\", OnUserReviewAward, ${selected});`);\r\n                }\r\n            }\r\n\r\n            // Only exists when the requested profile is yours\r\n            const containers = node.querySelectorAll(\".dselect_container\");\r\n\r\n            if (containers.length > 0) {\r\n                for (const container of containers) {\r\n                    const type = container.id.startsWith(\"ReviewVisibility\") ? \"Visibility\" : \"Language\";\r\n                    const arg = `Review${type}${id}`;\r\n                    const input = container.querySelector<HTMLInputElement>(\"input\")!;\r\n                    const trigger = container.querySelector<HTMLElement>(\".trigger\")!;\r\n                    const selections = container.querySelectorAll(\".dropcontainer a\");\r\n\r\n                    input.setAttribute(\"onchange\", `OnReview${type}Change(\"${id}\", \"${arg}\");`);\r\n\r\n                    trigger.setAttribute(\"href\", \"javascript:DSelectNoop();\");\r\n                    trigger.setAttribute(\"onfocus\", `DSelectOnFocus(\"${arg}\");`);\r\n                    trigger.setAttribute(\"onblur\", `DSelectOnBlur(\"${arg}\");`);\r\n                    trigger.setAttribute(\"onclick\", `DSelectOnTriggerClick(\"${arg}\");`);\r\n\r\n                    selections.forEach((selection, selIndex) => {\r\n                        selection.setAttribute(\"href\", \"javascript:DSelectNoop();\");\r\n                        selection.setAttribute(\"onmouseover\", `DHighlightItem(\"${arg}\", ${selIndex}, false);`);\r\n                        selection.setAttribute(\"onclick\", `DHighlightItem(\"${arg}\", ${selIndex}, true);`);\r\n                    });\r\n                }\r\n\r\n            // Otherwise you have buttons to vote for and award the review\r\n            } else {\r\n                const [upvote, downvote, funny, award] = node.querySelectorAll<HTMLElement>(\".control_block > .btn_small_thin\");\r\n\r\n                for (const btn of [upvote, downvote, funny]) {\r\n                    btn!.setAttribute(\"href\", \"javascript:void(0)\");\r\n                }\r\n\r\n                upvote!.setAttribute(\"onclick\", `UserReviewVoteUp(${loggedIn}, \"${loginURL}\", \"${id}\");`);\r\n                downvote!.setAttribute(\"onclick\", `UserReviewVoteDown(${loggedIn}, \"${loginURL}\", \"${id}\");`);\r\n                funny!.setAttribute(\"onclick\", `UserReviewVoteTag(${loggedIn}, \"${loginURL}\", \"${id}\");`);\r\n                award!.setAttribute(\"onclick\", `UserReview_Award(${loggedIn}, \"${loginURL}\", \"${id}\", OnUserReviewAward);`);\r\n            }\r\n        });\r\n    }\r\n\r\n    async _getReviews(): Promise<void> {\r\n        const waitDialog = new BlockingWaitDialog(L(__processing), () => L(__wait));\r\n        await waitDialog.update();\r\n\r\n        try {\r\n            this._reviews = await SteamCommunityApiFacade.getReviews(this._path, this._pages);\r\n        } finally {\r\n\r\n            // Delay half a second to avoid dialog flicker when grabbing cache\r\n            await TimeUtils.timer(500);\r\n            waitDialog.dismiss();\r\n        }\r\n    }\r\n}\r\n", "import ContextType from \"@Content/Modules/Context/ContextType\";\r\nimport CCommunityBase from \"../CCommunityBase\";\r\nimport FReviewSort from \"./FReviewSort\";\r\nimport type {ContextParams} from \"@Content/Modules/Context/Context\";\r\n\r\nexport default class CRecommended extends CCommunityBase {\r\n\r\n    constructor(params: ContextParams) {\r\n\r\n        super(params, ContextType.RECOMMENDED, [\r\n            FReviewSort,\r\n        ]);\r\n    }\r\n}\r\n", "/**\r\n * @contentScript\r\n * @match *://steamcommunity.com/(id|profiles)/*\\/recommended\r\n * @match *://steamcommunity.com/(id|profiles)/*\\/reviews\r\n */\r\n\r\nimport CommunityPage from \"../../CommunityPage\";\r\nimport CRecommended from \"./CRecommended\";\r\n\r\n(new CommunityPage(CRecommended)).run();\r\n"],
  "mappings": "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",
  "names": ["globalThis", "chrome", "runtime", "id", "Error", "browser", "Object", "getPrototypeOf", "prototype", "CHROME_SEND_MESSAGE_CALLBACK_NO_RESPONSE_MESSAGE", "wrapAPIs", "extensionAPIs", "apiMetadata", "keys", "length", "DefaultWeakMap", "WeakMap", "constructor", "createItem", "items", "undefined", "get", "key", "has", "set", "isThenable", "value", "then", "makeCallback", "promise", "metadata", "callbackArgs", "lastError", "reject", "message", "singleCallbackArg", "resolve", "pluralizeArguments", "numArgs", "wrapAsyncFunction", "name", "target", "args", "minArgs", "maxArgs", "Promise", "fallbackToNoCallback", "cbError", "console", "warn", "noCallback", "wrapMethod", "method", "wrapper", "Proxy", "apply", "targetMethod", "thisObj", "call", "hasOwnProperty", "Function", "bind", "wrapObject", "wrappers", "cache", "create", "handlers", "proxyTarget", "prop", "receiver", "defineProperty", "configurable", "enumerable", "desc", "Reflect", "deleteProperty", "wrapEvent", "wrapperMap", "addListener", "listener", "hasListener", "removeListener", "onRequestFinishedWrappers", "req", "wrappedReq", "getContent", "onMessageWrappers", "sender", "sendResponse", "didCallSendResponse", "wrappedSendResponse", "sendResponsePromise", "response", "result", "err", "isResultThenable", "sendPromisedResult", "msg", "error", "__mozWebExtensionPolyfillReject__", "catch", "wrappedSendMessageCallback", "reply", "wrappedSendMessage", "apiNamespaceObj", "wrappedCb", "push", "sendMessage", "staticWrappers", "devtools", "network", "onRequestFinished", "onMessage", "onMessageExternal", "tabs", "settingMetadata", "clear", "privacy", "services", "websites", "module", "exports", "import_webextension_polyfill", "Info_default", "browser", "import_webextension_polyfill", "import_webextension_polyfill", "Storage", "storageArea", "key", "object", "value", "keys", "SyncedStorage", "Storage", "browser", "SyncedStorage_default", "DefaultSettings", "Info_default", "Event", "listener", "SettingsStore", "SyncedStorage", "key", "value", "data", "Settings_default", "target", "prop", "entries", "setPrototypeOf", "isFrozen", "getPrototypeOf", "getOwnPropertyDescriptor", "freeze", "seal", "create", "apply", "construct", "x", "fun", "thisValue", "args", "Func", "arrayForEach", "unapply", "arrayLastIndexOf", "arrayPop", "arrayPush", "arraySplice", "stringToLowerCase", "stringToString", "stringMatch", "stringReplace", "stringIndexOf", "stringTrim", "objectHasOwnProperty", "regExpTest", "typeErrorCreate", "unconstruct", "func", "thisArg", "_len", "_key", "_len2", "_key2", "addToSet", "set", "array", "transformCaseFunc", "l", "element", "lcElement", "cleanArray", "index", "clone", "object", "newObject", "property", "value", "lookupGetter", "prop", "desc", "fallbackValue", "html$1", "svg$1", "svgFilters", "svgDisallowed", "mathMl$1", "mathMlDisallowed", "text", "html", "svg", "mathMl", "xml", "MUSTACHE_EXPR", "ERB_EXPR", "TMPLIT_EXPR", "DATA_ATTR", "ARIA_ATTR", "IS_ALLOWED_URI", "IS_SCRIPT_OR_DATA", "ATTR_WHITESPACE", "DOCTYPE_NAME", "CUSTOM_ELEMENT", "EXPRESSIONS", "NODE_TYPE", "getGlobal", "_createTrustedTypesPolicy", "trustedTypes", "purifyHostElement", "suffix", "ATTR_NAME", "policyName", "scriptUrl", "_createHooksMap", "createDOMPurify", "window", "DOMPurify", "root", "document", "originalDocument", "currentScript", "DocumentFragment", "HTMLTemplateElement", "Node", "Element", "NodeFilter", "NamedNodeMap", "HTMLFormElement", "DOMParser", "ElementPrototype", "cloneNode", "remove", "getNextSibling", "getChildNodes", "getParentNode", "template", "trustedTypesPolicy", "emptyHTML", "implementation", "createNodeIterator", "createDocumentFragment", "getElementsByTagName", "importNode", "hooks", "IS_ALLOWED_URI$1", "ALLOWED_TAGS", "DEFAULT_ALLOWED_TAGS", "ALLOWED_ATTR", "DEFAULT_ALLOWED_ATTR", "CUSTOM_ELEMENT_HANDLING", "FORBID_TAGS", "FORBID_ATTR", "ALLOW_ARIA_ATTR", "ALLOW_DATA_ATTR", "ALLOW_UNKNOWN_PROTOCOLS", "ALLOW_SELF_CLOSE_IN_ATTR", "SAFE_FOR_TEMPLATES", "SAFE_FOR_XML", "WHOLE_DOCUMENT", "SET_CONFIG", "FORCE_BODY", "RETURN_DOM", "RETURN_DOM_FRAGMENT", "RETURN_TRUSTED_TYPE", "SANITIZE_DOM", "SANITIZE_NAMED_PROPS", "SANITIZE_NAMED_PROPS_PREFIX", "KEEP_CONTENT", "IN_PLACE", "USE_PROFILES", "FORBID_CONTENTS", "DEFAULT_FORBID_CONTENTS", "DATA_URI_TAGS", "DEFAULT_DATA_URI_TAGS", "URI_SAFE_ATTRIBUTES", "DEFAULT_URI_SAFE_ATTRIBUTES", "MATHML_NAMESPACE", "SVG_NAMESPACE", "HTML_NAMESPACE", "NAMESPACE", "IS_EMPTY_INPUT", "ALLOWED_NAMESPACES", "DEFAULT_ALLOWED_NAMESPACES", "MATHML_TEXT_INTEGRATION_POINTS", "HTML_INTEGRATION_POINTS", "COMMON_SVG_AND_HTML_ELEMENTS", "PARSER_MEDIA_TYPE", "SUPPORTED_PARSER_MEDIA_TYPES", "DEFAULT_PARSER_MEDIA_TYPE", "CONFIG", "formElement", "isRegexOrFunction", "testValue", "_parseConfig", "cfg", "ALL_SVG_TAGS", "ALL_MATHML_TAGS", "_checkValidNamespace", "parent", "tagName", "parentTagName", "_forceRemove", "node", "_removeAttribute", "name", "_initDocument", "dirty", "doc", "leadingWhitespace", "matches", "dirtyPayload", "body", "_createNodeIterator", "_isClobbered", "_isNode", "_executeHooks", "currentNode", "data", "hook", "_sanitizeElements", "content", "_isBasicCustomElement", "parentNode", "childNodes", "childCount", "i", "childClone", "expr", "_isValidAttribute", "lcTag", "lcName", "_sanitizeAttributes", "attributes", "hookEvent", "attr", "namespaceURI", "attrValue", "_sanitizeShadowDOM", "fragment", "shadowNode", "shadowIterator", "importedNode", "returnNode", "nodeIterator", "serializedHTML", "tag", "entryPoint", "hookFunction", "purify", "initialized", "bootstrapDomPurify_default", "SettingsStore", "allowOpenInNewTab", "Settings_default", "purifyConfig", "purify", "node", "data", "config_default", "import_webextension_polyfill", "ExtensionResources", "_ExtensionResources", "pathname", "browser", "Language", "_Language", "language", "languages", "import_webextension_polyfill", "ErrorParser", "errStr", "info", "Background", "action", "params", "result", "browser", "e", "error", "ErrorParser", "SteamStoreApiFacade", "appid", "Background", "filter", "appName", "lang", "ids", "Localization", "code", "ExtensionResources", "current", "stored", "Settings_default", "Language", "SteamStoreApiFacade", "lang", "L", "key", "replacements", "text", "value", "HTMLParser", "source", "regex", "m", "node", "nameOrRegex", "v", "Currencies_default", "AugmentedSteamApiFacade", "country", "apps", "subs", "bundles", "voucher", "shops", "Background", "appid", "to", "appids", "channelId", "currency", "steamId", "CurrencyManager", "from", "to", "code", "currency", "Currencies_default", "id", "currencyNode", "walletInfo", "HTMLParser", "SteamStoreApiFacade", "err", "currencySetting", "Settings_default", "toCurrencies", "AugmentedSteamApiFacade", "Feature", "context", "err", "msg", "args", "LoginError", "type", "ServerOutageError", "msg", "OAuthUnauthorized", "HTTPError", "code", "message", "FeatureDependencyError", "featureName", "Errors_default", "Context", "params", "type", "features", "ref", "feature", "_params", "dependent", "dependencies", "promises", "func", "promise", "dependencyFunc", "weak", "dependency", "Errors_default", "pass", "res", "e", "featureName", "Environment", "context", "CookieReader", "Environment", "key", "val", "kv", "name", "defaultValue", "LanguageFactory", "config", "Language", "script", "language", "cookie", "CookieReader", "SteamCommunityApiFacade", "steamId", "appid", "Background", "id", "preventFetch", "pages", "profilePath", "force", "newCountry", "RequestData", "_RequestData", "url", "settings", "_settings", "response", "Errors_default", "e", "data", "LegacyUser", "value", "country", "params", "HTMLParser", "response", "RequestData", "ReactUser", "value", "UserFactory", "appConfig", "user", "LegacyUser", "avatarNode", "login", "SteamCommunityApiFacade", "e", "country", "newCountry", "config", "HTMLParser", "ReactUser", "import_webextension_polyfill", "DOMHelper", "parent", "selector", "nodes", "url", "stylesheet", "path", "ExtensionResources", "content", "style", "params", "s", "browser", "Messenger", "handler", "action", "params", "id", "DOMHelper", "resolve", "e", "SteamFacade", "name", "Messenger", "value", "strTitle", "strDescription", "rgModalParams", "title", "description", "options", "strOKButton", "id", "elemLink", "elemPopup", "align", "valign", "bLinkHasBorder", "strTargetLanguage", "bStayOnPage", "selector", "appid", "divToHide", "divToShowSuccess", "divToShowError", "navref", "divToHide2", "isHtml", "amount", "publisherFee", "currencyCode", "steamid", "accountid", "AppConfig", "data", "AppConfigFactory", "configNode", "data", "config", "storeUserConfig", "AppConfig", "loaderData", "Config", "UserConfig", "SteamFacade", "item", "Environment", "unhandledrejection", "e", "err", "Page", "contextClass", "language", "user", "SettingsStore", "bootstrapDomPurify_default", "appFactory", "AppConfigFactory", "appConfig", "languageFactory", "LanguageFactory", "userFactory", "UserFactory", "Localization", "CurrencyManager", "Info_default", "config_default", "params", "noop", "identity", "x", "assign", "tar", "src", "k", "is_promise", "value", "run", "fn", "blank_object", "run_all", "fns", "is_function", "thing", "safe_not_equal", "a", "b", "src_url_equal_anchor", "src_url_equal", "element_src", "url", "is_empty", "obj", "create_slot", "definition", "ctx", "$$scope", "fn", "slot_ctx", "get_slot_context", "assign", "get_slot_changes", "dirty", "lets", "merged", "len", "i", "update_slot_base", "slot", "slot_definition", "slot_changes", "get_slot_context_fn", "slot_context", "get_all_dirty_from_scope", "$$scope", "dirty", "length", "i", "action_destroyer", "action_result", "is_function", "noop", "is_client", "now", "raf", "cb", "noop", "tasks", "run_tasks", "now", "task", "raf", "loop", "callback", "task", "tasks", "raf", "run_tasks", "fulfill", "globals", "ResizeObserverSingleton", "_ResizeObserverSingleton", "globals", "options", "element", "listener", "entries", "entry", "is_hydrating", "start_hydrating", "end_hydrating", "append", "target", "node", "get_root_for_style", "node", "root", "append_empty_stylesheet", "style_element", "element", "append_stylesheet", "style", "append", "insert", "target", "node", "anchor", "detach", "node", "destroy_each", "iterations", "detaching", "i", "element", "name", "svg_element", "name", "text", "data", "space", "empty", "listen", "node", "event", "handler", "options", "prevent_default", "fn", "attr", "node", "attribute", "value", "children", "element", "set_data", "text", "data", "set_style", "node", "key", "value", "important", "toggle_class", "element", "name", "toggle", "custom_event", "type", "detail", "bubbles", "cancelable", "HtmlTag", "is_svg", "html", "target", "anchor", "svg_element", "element", "i", "insert", "detach", "get_custom_elements_slots", "element", "result", "node", "managed_styles", "active", "hash", "str", "i", "create_style_information", "doc", "node", "info", "append_empty_stylesheet", "create_rule", "a", "b", "duration", "delay", "ease", "fn", "uid", "step", "keyframes", "p", "t", "rule", "name", "get_root_for_style", "stylesheet", "rules", "animation", "delete_rule", "previous", "next", "anim", "deleted", "clear_rules", "raf", "ownerNode", "detach", "current_component", "set_current_component", "component", "get_current_component", "onMount", "fn", "get_current_component", "createEventDispatcher", "component", "get_current_component", "type", "detail", "cancelable", "callbacks", "event", "custom_event", "fn", "bubble", "component", "event", "callbacks", "fn", "dirty_components", "binding_callbacks", "render_callbacks", "flush_callbacks", "resolved_promise", "update_scheduled", "schedule_update", "flush", "tick", "add_render_callback", "fn", "add_flush_callback", "seen_callbacks", "flushidx", "saved_component", "current_component", "dirty_components", "component", "set_current_component", "update", "i", "callback", "$$", "run_all", "dirty", "flush_render_callbacks", "fns", "filtered", "targets", "c", "promise", "wait", "dispatch", "node", "direction", "kind", "custom_event", "outroing", "outros", "group_outros", "check_outros", "run_all", "transition_in", "block", "local", "transition_out", "detach", "callback", "null_transition", "create_in_transition", "fn", "params", "options", "config", "running", "animation_name", "task", "uid", "cleanup", "delete_rule", "go", "delay", "duration", "easing", "identity", "tick", "noop", "css", "create_rule", "start_time", "now", "end_time", "add_render_callback", "loop", "t", "started", "is_function", "create_bidirectional_transition", "node", "fn", "params", "intro", "config", "t", "running_program", "pending_program", "animation_name", "original_inert_value", "clear_animation", "delete_rule", "init", "program", "duration", "d", "go", "b", "delay", "easing", "identity", "tick", "noop", "css", "null_transition", "now", "outros", "create_rule", "add_render_callback", "dispatch", "loop", "run_all", "p", "is_function", "wait", "handle_promise", "promise", "info", "token", "update", "type", "index", "key", "value", "child_ctx", "block", "needs_flush", "i", "group_outros", "transition_out", "check_outros", "transition_in", "flush", "is_promise", "current_component", "get_current_component", "set_current_component", "error", "update_await_block_branch", "ctx", "dirty", "resolved", "ensure_array_like", "array_like_or_iterator", "_boolean_attributes", "boolean_attributes", "bind", "component", "name", "callback", "index", "create_component", "block", "mount_component", "component", "target", "anchor", "fragment", "after_update", "add_render_callback", "new_on_destroy", "run", "is_function", "run_all", "destroy_component", "detaching", "$$", "flush_render_callbacks", "make_dirty", "i", "dirty_components", "schedule_update", "init", "options", "instance", "create_fragment", "not_equal", "props", "append_styles", "dirty", "parent_component", "current_component", "set_current_component", "noop", "blank_object", "ready", "ret", "rest", "value", "start_hydrating", "nodes", "children", "detach", "transition_in", "end_hydrating", "flush", "SvelteElement", "$$componentCtor", "$$slots", "use_shadow_dom", "type", "listener", "unsub", "create_slot", "name", "node", "element", "attr", "insert", "existing_slots", "get_custom_elements_slots", "attribute", "get_custom_element_value", "key", "reflect_attributes", "attribute_value", "_oldValue", "newValue", "attribute_name", "prop", "props_definition", "transform", "SvelteComponent", "destroy_component", "noop", "type", "callback", "is_function", "callbacks", "index", "props", "is_empty", "PUBLIC_VERSION", "PUBLIC_VERSION", "__deleteCommentPrompt", "__thewordunknown", "__date", "__rating", "__helpful", "__funny", "__length", "__visibility", "__processing", "__wait", "__favEmoticonsDragging", "__favEmoticonsNoAccess", "__activate", "__hide", "__clearCache", "__website", "__loading", "__spamCommentShow", "__contribute", "__usingLanguageReturn", "__viewinclient", "__bugFeature", "__visitStore", "__usingLanguage", "__loginWarning", "__never", "__launchRandom", "__launchRandomGameError", "__playGame", "__ok", "__cancel", "__sortBy", "__playtime", "__awards", "__thewordoptions", "__earlyAccess", "__ready_loading", "__ready_ready", "__ready_failed", "__ready_serverOutage", "__itad_lastImport", "__itad_from", "__itad_to", "__itad_syncNow", "__update_dontShow", "__update_updatedNoVersion", "__update_changes", "L", "__ready_serverOutage", "insert", "target", "div", "anchor", "__ready_failed", "ctx", "set_data", "t", "t_value", "create_if_block", "create_if_block_1", "__ready_loading", "__ready_ready", "div3", "append", "div2", "div1", "div0", "react", "$$props", "started", "done", "failed", "progress", "isLoading", "hasWarning", "hasError", "onMount", "onStart", "onDone", "onError", "e", "ReactDOM", "ProgressBar", "react", "node", "Settings_default", "ProgressBar_default", "ReactDOM", "DynamicStore", "DOMHelper", "resolve", "Messenger", "SteamStoreApiFacade", "storeIds", "dsStatus", "storeId", "external", "node", "Settings_default", "CacheApiFacade", "Background", "fade", "node", "delay", "duration", "easing", "identity", "o", "t", "ctx", "insert", "target", "button", "anchor", "append", "span", "type", "$$props", "insert", "target", "button", "anchor", "ctx", "create_if_block_3", "create_if_block_2", "create_if_block_1", "div", "set_data", "t_value", "create_if_block_4", "create_if_block", "div7", "append", "div0", "div6", "div1", "div4", "div3", "div2", "div5", "dispatch", "createEventDispatcher", "title", "$$props", "body", "showClose", "buttons", "ConfirmDialog", "title", "body", "buttons", "L", "__ok", "__cancel", "resolve", "modal", "Modal_default", "e", "AlertDialog", "title", "body", "resolve", "modal", "Modal_default", "ctx", "create_if_block_1", "L", "__thewordoptions", "__clearCache", "__contribute", "__bugFeature", "__website", "ExtensionResources", "config_default", "insert", "target", "div3", "anchor", "append", "div0", "a0", "a1", "div1", "a2", "a3", "div2", "a4", "a5", "a6", "__launchRandom", "div", "a", "create_if_block", "button", "user", "$$props", "isOpen", "parentNode", "outsideClickHandler", "e", "closeMenu", "toggleMenu", "openMenu", "clearCache", "CacheApiFacade", "launchRandom", "i", "appid", "DynamicStore", "appdetails", "SteamStoreApiFacade", "gameid", "gamename", "confirm", "ConfirmDialog", "__playGame", "__ok", "__visitStore", "__cancel", "AlertDialog", "__launchRandomGameError", "onMount", "$$value", "L", "__update_dontShow", "__hide", "ctx", "insert", "target", "div3", "anchor", "append", "div2", "div0", "div1", "button0", "button1", "react", "$$props", "dispatch", "createEventDispatcher", "import_webextension_polyfill", "LocalStorage", "Storage", "browser", "LocalStorage_default", "L", "__loginWarning", "ctx", "dispatch", "createEventDispatcher", "react", "$$props", "page", "host", "handleClose", "LocalStorage_default", "ctx", "info", "handle_promise", "promise_1", "insert", "target", "button", "anchor", "set_data", "t", "t_value", "create_if_block_1", "t0", "t0_value", "create_if_block", "dispatch", "createEventDispatcher", "promise", "react", "$$props", "currentLanguage", "warningLanguage", "resetLanguageCode", "SteamFacade", "handleClose", "Settings_default", "handleSetLanguage", "payload", "str__usingLanguage", "loc", "__usingLanguage", "str__usingLanguageReturn", "__usingLanguageReturn", "onMount", "Localization", "ctx", "create_if_block_1", "create_if_block", "language", "$$props", "react", "languageWarning", "loginWarning", "onMount", "e", "detail", "name", "message", "LocalStorage_default", "Settings_default", "warningLanguage", "Language", "ctx", "insert", "target", "button", "anchor", "$$props", "visible", "toTop", "handleScroll", "scrollTop", "onMount", "AugmentedSteam", "language", "user", "react", "Language", "target", "AugmentedSteamMenu_default", "Settings_default", "scrollTarget", "BackToTop_default", "node", "isContentEditable", "el", "e", "header", "AugmentedSteamWarnings_default", "anchor", "option", "btn", "L", "__viewinclient", "cloned", "__activate", "userId", "cachedUser", "LocalStorage_default", "CacheApiFacade", "DynamicStore", "Version", "_Version", "major", "minor", "patch", "version", "Info_default", "_version", "ctx", "info", "handle_promise", "promise_1", "L", "__update_updatedNoVersion", "Info_default", "insert", "target", "h3", "anchor", "set_data", "t0", "t0_value", "html_tag", "raw_value", "__update_changes", "i", "ExtensionResources", "attr", "img", "img_src_value", "div1", "append", "div0", "p", "a", "create_if_block", "dispatch", "createEventDispatcher", "lastVersion", "$$props", "promise", "onMount", "changelog", "result", "version", "changes", "changeVersion", "Version", "ChangelogHandler", "lastVersion", "Version", "Settings_default", "Info_default", "changelog", "Changelog_default", "ITADApiFacade", "Background", "force", "storeIds", "appids", "storeId", "notes", "appid", "note", "ESyncStatus", "ESyncStatus_default", "ctx", "ESyncStatus_default", "insert", "target", "span", "anchor", "status", "$$props", "ctx", "ESyncStatus_default", "insert", "target", "div", "anchor", "L", "__itad_syncNow", "button", "__loading", "span", "__never", "create_if_block", "__itad_lastImport", "__itad_from", "__itad_to", "div5", "append", "div0", "div2", "div1", "div4", "div3", "set_data", "t4", "t4_value", "t8", "t8_value", "dispatch", "createEventDispatcher", "isConnected", "$$props", "enableSync", "status", "from", "to", "updateLastImport", "last", "ITADApiFacade", "syncNow", "e", "Settings_default", "ctx", "attr", "img", "img_src_value", "insert", "target", "div2", "anchor", "append", "div1", "div0", "itadLogo", "ExtensionResources", "statusComponent", "status", "$$value", "ITAD", "user", "ITADApiFacade", "menu", "ITADSyncMenu_default", "storeIds", "result", "map", "steamId", "value", "LegacyPage", "Page", "factory", "language", "user", "ProgressBar", "AugmentedSteam", "ChangelogHandler", "ITAD", "CommunityPage", "LegacyPage", "ContextType", "ContextType_default", "FConfirmDeleteComment", "Feature", "Settings_default", "DOMHelper", "L", "__deleteCommentPrompt", "__update_dontShow", "SpamComments", "parent", "Settings_default", "nodes", "node", "threadNode", "commentsThread", "count", "button", "L", "__spamCommentShow", "hiddenCount", "commentText", "comment", "FHideSpamComments", "Feature", "Settings_default", "SpamComments", "modalWait", "latestFrame", "HTML", "_HTML", "link", "_link", "str", "map", "m", "html", "template", "purify", "nodeOrSelector", "node", "dom", "firstElement", "wrapperHtml", "startElementOrSelector", "endElementOrSelector", "startElement", "endElement", "wrappedNodes", "cur", "wrapperElement", "position", "FHideTrademarks", "Feature", "Settings_default", "selectors", "ContextType_default", "replaceSymbols", "node", "HTML", "observer", "mutations", "mutation", "nodes", "FDisableLinkFilter", "Feature", "Settings_default", "target", "href", "params", "url", "FKeepSSACheckboxState", "Feature", "selector", "node", "Settings_default", "FDefaultCommunityTab", "Feature", "Settings_default", "tab", "links", "link", "L", "__earlyAccess", "ctx", "attr", "img", "img_src_value", "insert", "target", "span1", "anchor", "append", "span0", "imageUrl", "$$props", "imgHeader", "container", "onMount", "$$value", "GameId", "type_", "id_", "AppId", "GameId", "url", "m", "CDNRegex_1", "CDNRegex_2", "element", "appid", "href", "src", "text", "regex", "result", "id", "EarlyAccessUtils", "language", "nodes", "Settings_default", "_nodes", "imageName", "imageUrl", "ExtensionResources", "node", "imgHeader", "EarlyAccess_default", "appidsMap", "appid", "AppId", "eaStatus", "AugmentedSteamApiFacade", "nodesArray", "FEarlyAccess", "Feature", "EarlyAccessUtils", "CBase", "Context", "params", "type", "features", "FEarlyAccess", "FHideTrademarks", "FDisableLinkFilter", "FKeepSSACheckboxState", "FDefaultCommunityTab", "ctx", "i", "each_1_else", "L", "__favEmoticonsDragging", "attr", "img", "img_src_value", "insert", "target", "div", "anchor", "append", "handleDrag", "__loading", "info", "div2", "div0", "div1", "handle_promise", "promise_1", "emoticonPopup", "$$props", "promise", "favs", "favBox", "overBox", "overRemove", "handleClick", "e", "node", "noFav", "__favEmoticonsNoAccess", "leaveBox", "addFavorite", "name", "persistFavorites", "removeFavorite", "fav", "SyncedStorage_default", "onMount", "$$value", "handleDrag", "e", "emoticon", "emoticonHover", "FFavoriteEmoticons", "Feature", "emoticonPopup", "node", "FFavoriteEmoticons_default", "CCommunityBase", "CBase", "params", "type", "ContextType_default", "features", "FConfirmDeleteComment", "FHideSpamComments", "FFavoriteEmoticons", "Timer", "duration", "resolve", "onDone", "ResettableTimer", "TimeUtils", "timestamp", "ctx", "insert", "target", "li", "anchor", "append", "button", "set_data", "t0", "t0_value", "i", "create_if_block", "L", "__sortBy", "div3", "div0", "div2", "button0", "div1", "ul", "button1", "dispatch", "createEventDispatcher", "name", "$$props", "options", "value", "highlighted", "selected", "selectedName", "direction", "containerNode", "isOpen", "clickOutsideHandler", "e", "hide", "show", "dispatchChange", "select", "key", "reverse", "onMount", "__thewordunknown", "tick", "$$value", "ctx", "i", "insert", "target", "div", "anchor", "set_data", "t", "t_value", "create_if_block", "append", "title", "$$props", "status", "L", "__wait", "BlockingWaitDialog", "title", "statusFn", "BlockingWaitModal_default", "FReviewSort", "Feature", "anchor", "SortBox_default", "L", "__date", "__rating", "__helpful", "__funny", "__length", "__visibility", "__playtime", "__awards", "SyncedStorage_default", "e", "value", "key", "direction", "sortBy", "reversed", "node", "displayedReviews", "a", "b", "footer", "HTML", "loggedIn", "loginURL", "ids", "review", "i", "id", "award", "selected", "containers", "container", "type", "arg", "input", "trigger", "selections", "selection", "selIndex", "upvote", "downvote", "funny", "btn", "waitDialog", "BlockingWaitDialog", "__processing", "__wait", "SteamCommunityApiFacade", "TimeUtils", "CRecommended", "CCommunityBase", "params", "ContextType_default", "FReviewSort", "CommunityPage", "CRecommended"]
}
