"use strict";var _as=(()=>{var Yu=Object.create;var Vi=Object.defineProperty;var Xu=Object.getOwnPropertyDescriptor;var em=Object.getOwnPropertyNames;var tm=Object.getPrototypeOf,om=Object.prototype.hasOwnProperty;var nm=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var rm=(r,e,t,o)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of em(e))!om.call(r,n)&&n!==t&&Vi(r,n,{get:()=>e[n],enumerable:!(o=Xu(e,n))||o.enumerable});return r};var Ut=(r,e,t)=>(t=r!=null?Yu(tm(r)):{},rm(e||!r||!r.__esModule?Vi(t,"default",{value:r,enumerable:!0}):t,r));var Qt=nm((cs,gc)=>{(function(r,e){if(typeof define=="function"&&define.amd)define("webextension-polyfill",["module"],e);else if(typeof cs<"u")e(gc);else{var t={exports:{}};e(t),r.browser=t.exports}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:cs,function(r){"use strict";if(!chrome?.runtime?.id)throw new Error("This script should only be loaded in a browser extension.");if(typeof globalThis.browser>"u"||Object.getPrototypeOf(globalThis.browser)!==Object.prototype){let e="The message port closed before a response was received.",t=o=>{let n={alarms:{clear:{minArgs:0,maxArgs:1},clearAll:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getAll:{minArgs:0,maxArgs:0}},bookmarks:{create:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},getChildren:{minArgs:1,maxArgs:1},getRecent:{minArgs:1,maxArgs:1},getSubTree:{minArgs:1,maxArgs:1},getTree:{minArgs:0,maxArgs:0},move:{minArgs:2,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeTree:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}},browserAction:{disable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},enable:{minArgs:0,maxArgs:1,fallbackToNoCallback:!0},getBadgeBackgroundColor:{minArgs:1,maxArgs:1},getBadgeText:{minArgs:1,maxArgs:1},getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},openPopup:{minArgs:0,maxArgs:0},setBadgeBackgroundColor:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setBadgeText:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},browsingData:{remove:{minArgs:2,maxArgs:2},removeCache:{minArgs:1,maxArgs:1},removeCookies:{minArgs:1,maxArgs:1},removeDownloads:{minArgs:1,maxArgs:1},removeFormData:{minArgs:1,maxArgs:1},removeHistory:{minArgs:1,maxArgs:1},removeLocalStorage:{minArgs:1,maxArgs:1},removePasswords:{minArgs:1,maxArgs:1},removePluginData:{minArgs:1,maxArgs:1},settings:{minArgs:0,maxArgs:0}},commands:{getAll:{minArgs:0,maxArgs:0}},contextMenus:{remove:{minArgs:1,maxArgs:1},removeAll:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},cookies:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:1,maxArgs:1},getAllCookieStores:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},devtools:{inspectedWindow:{eval:{minArgs:1,maxArgs:2,singleCallbackArg:!1}},panels:{create:{minArgs:3,maxArgs:3,singleCallbackArg:!0},elements:{createSidebarPane:{minArgs:1,maxArgs:1}}}},downloads:{cancel:{minArgs:1,maxArgs:1},download:{minArgs:1,maxArgs:1},erase:{minArgs:1,maxArgs:1},getFileIcon:{minArgs:1,maxArgs:2},open:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},pause:{minArgs:1,maxArgs:1},removeFile:{minArgs:1,maxArgs:1},resume:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},extension:{isAllowedFileSchemeAccess:{minArgs:0,maxArgs:0},isAllowedIncognitoAccess:{minArgs:0,maxArgs:0}},history:{addUrl:{minArgs:1,maxArgs:1},deleteAll:{minArgs:0,maxArgs:0},deleteRange:{minArgs:1,maxArgs:1},deleteUrl:{minArgs:1,maxArgs:1},getVisits:{minArgs:1,maxArgs:1},search:{minArgs:1,maxArgs:1}},i18n:{detectLanguage:{minArgs:1,maxArgs:1},getAcceptLanguages:{minArgs:0,maxArgs:0}},identity:{launchWebAuthFlow:{minArgs:1,maxArgs:1}},idle:{queryState:{minArgs:1,maxArgs:1}},management:{get:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},getSelf:{minArgs:0,maxArgs:0},setEnabled:{minArgs:2,maxArgs:2},uninstallSelf:{minArgs:0,maxArgs:1}},notifications:{clear:{minArgs:1,maxArgs:1},create:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:0},getPermissionLevel:{minArgs:0,maxArgs:0},update:{minArgs:2,maxArgs:2}},pageAction:{getPopup:{minArgs:1,maxArgs:1},getTitle:{minArgs:1,maxArgs:1},hide:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setIcon:{minArgs:1,maxArgs:1},setPopup:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},setTitle:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0},show:{minArgs:1,maxArgs:1,fallbackToNoCallback:!0}},permissions:{contains:{minArgs:1,maxArgs:1},getAll:{minArgs:0,maxArgs:0},remove:{minArgs:1,maxArgs:1},request:{minArgs:1,maxArgs:1}},runtime:{getBackgroundPage:{minArgs:0,maxArgs:0},getPlatformInfo:{minArgs:0,maxArgs:0},openOptionsPage:{minArgs:0,maxArgs:0},requestUpdateCheck:{minArgs:0,maxArgs:0},sendMessage:{minArgs:1,maxArgs:3},sendNativeMessage:{minArgs:2,maxArgs:2},setUninstallURL:{minArgs:1,maxArgs:1}},sessions:{getDevices:{minArgs:0,maxArgs:1},getRecentlyClosed:{minArgs:0,maxArgs:1},restore:{minArgs:0,maxArgs:1}},storage:{local:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}},managed:{get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1}},sync:{clear:{minArgs:0,maxArgs:0},get:{minArgs:0,maxArgs:1},getBytesInUse:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}}},tabs:{captureVisibleTab:{minArgs:0,maxArgs:2},create:{minArgs:1,maxArgs:1},detectLanguage:{minArgs:0,maxArgs:1},discard:{minArgs:0,maxArgs:1},duplicate:{minArgs:1,maxArgs:1},executeScript:{minArgs:1,maxArgs:2},get:{minArgs:1,maxArgs:1},getCurrent:{minArgs:0,maxArgs:0},getZoom:{minArgs:0,maxArgs:1},getZoomSettings:{minArgs:0,maxArgs:1},goBack:{minArgs:0,maxArgs:1},goForward:{minArgs:0,maxArgs:1},highlight:{minArgs:1,maxArgs:1},insertCSS:{minArgs:1,maxArgs:2},move:{minArgs:2,maxArgs:2},query:{minArgs:1,maxArgs:1},reload:{minArgs:0,maxArgs:2},remove:{minArgs:1,maxArgs:1},removeCSS:{minArgs:1,maxArgs:2},sendMessage:{minArgs:2,maxArgs:3},setZoom:{minArgs:1,maxArgs:2},setZoomSettings:{minArgs:1,maxArgs:2},update:{minArgs:1,maxArgs:2}},topSites:{get:{minArgs:0,maxArgs:0}},webNavigation:{getAllFrames:{minArgs:1,maxArgs:1},getFrame:{minArgs:1,maxArgs:1}},webRequest:{handlerBehaviorChanged:{minArgs:0,maxArgs:0}},windows:{create:{minArgs:0,maxArgs:1},get:{minArgs:1,maxArgs:2},getAll:{minArgs:0,maxArgs:1},getCurrent:{minArgs:0,maxArgs:1},getLastFocused:{minArgs:0,maxArgs:1},remove:{minArgs:1,maxArgs:1},update:{minArgs:2,maxArgs:2}}};if(Object.keys(n).length===0)throw new Error("api-metadata.json has not been included in browser-polyfill");class s extends WeakMap{constructor(L,F=void 0){super(F),this.createItem=L}get(L){return this.has(L)||this.set(L,this.createItem(L)),super.get(L)}}let i=Q=>Q&&typeof Q=="object"&&typeof Q.then=="function",a=(Q,L)=>(...F)=>{o.runtime.lastError?Q.reject(new Error(o.runtime.lastError.message)):L.singleCallbackArg||F.length<=1&&L.singleCallbackArg!==!1?Q.resolve(F[0]):Q.resolve(F)},l=Q=>Q==1?"argument":"arguments",c=(Q,L)=>function(A,...R){if(R.length<L.minArgs)throw new Error(`Expected at least ${L.minArgs} ${l(L.minArgs)} for ${Q}(), got ${R.length}`);if(R.length>L.maxArgs)throw new Error(`Expected at most ${L.maxArgs} ${l(L.maxArgs)} for ${Q}(), got ${R.length}`);return new Promise((K,se)=>{if(L.fallbackToNoCallback)try{A[Q](...R,a({resolve:K,reject:se},L))}catch(J){console.warn(`${Q} API method doesn't seem to support the callback parameter, falling back to call it without a callback: `,J),A[Q](...R),L.fallbackToNoCallback=!1,L.noCallback=!0,K()}else L.noCallback?(A[Q](...R),K()):A[Q](...R,a({resolve:K,reject:se},L))})},p=(Q,L,F)=>new Proxy(L,{apply(A,R,K){return F.call(R,Q,...K)}}),u=Function.call.bind(Object.prototype.hasOwnProperty),_=(Q,L={},F={})=>{let A=Object.create(null),R={has(se,J){return J in Q||J in A},get(se,J,fe){if(J in A)return A[J];if(!(J in Q))return;let te=Q[J];if(typeof te=="function")if(typeof L[J]=="function")te=p(Q,Q[J],L[J]);else if(u(F,J)){let ye=c(J,F[J]);te=p(Q,Q[J],ye)}else te=te.bind(Q);else if(typeof te=="object"&&te!==null&&(u(L,J)||u(F,J)))te=_(te,L[J],F[J]);else if(u(F,"*"))te=_(te,L[J],F["*"]);else return Object.defineProperty(A,J,{configurable:!0,enumerable:!0,get(){return Q[J]},set(ye){Q[J]=ye}}),te;return A[J]=te,te},set(se,J,fe,te){return J in A?A[J]=fe:Q[J]=fe,!0},defineProperty(se,J,fe){return Reflect.defineProperty(A,J,fe)},deleteProperty(se,J){return Reflect.deleteProperty(A,J)}},K=Object.create(Q);return new Proxy(K,R)},g=Q=>({addListener(L,F,...A){L.addListener(Q.get(F),...A)},hasListener(L,F){return L.hasListener(Q.get(F))},removeListener(L,F){L.removeListener(Q.get(F))}}),d=new s(Q=>typeof Q!="function"?Q:function(F){let A=_(F,{},{getContent:{minArgs:0,maxArgs:0}});Q(A)}),k=new s(Q=>typeof Q!="function"?Q:function(F,A,R){let K=!1,se,J=new Promise(re=>{se=function(oe){K=!0,re(oe)}}),fe;try{fe=Q(F,A,se)}catch(re){fe=Promise.reject(re)}let te=fe!==!0&&i(fe);if(fe!==!0&&!te&&!K)return!1;let ye=re=>{re.then(oe=>{R(oe)},oe=>{let ae;oe&&(oe instanceof Error||typeof oe.message=="string")?ae=oe.message:ae="An unexpected error occurred",R({__mozWebExtensionPolyfillReject__:!0,message:ae})}).catch(oe=>{console.error("Failed to send onMessage rejected reply",oe)})};return ye(te?fe:J),!0}),S=({reject:Q,resolve:L},F)=>{o.runtime.lastError?o.runtime.lastError.message===e?L():Q(new Error(o.runtime.lastError.message)):F&&F.__mozWebExtensionPolyfillReject__?Q(new Error(F.message)):L(F)},U=(Q,L,F,...A)=>{if(A.length<L.minArgs)throw new Error(`Expected at least ${L.minArgs} ${l(L.minArgs)} for ${Q}(), got ${A.length}`);if(A.length>L.maxArgs)throw new Error(`Expected at most ${L.maxArgs} ${l(L.maxArgs)} for ${Q}(), got ${A.length}`);return new Promise((R,K)=>{let se=S.bind(null,{resolve:R,reject:K});A.push(se),F.sendMessage(...A)})},N={devtools:{network:{onRequestFinished:g(d)}},runtime:{onMessage:g(k),onMessageExternal:g(k),sendMessage:U.bind(null,"sendMessage",{minArgs:1,maxArgs:3})},tabs:{sendMessage:U.bind(null,"sendMessage",{minArgs:2,maxArgs:3})}},E={clear:{minArgs:1,maxArgs:1},get:{minArgs:1,maxArgs:1},set:{minArgs:1,maxArgs:1}};return n.privacy={network:{"*":E},services:{"*":E},websites:{"*":E}},_(o,N,n)};r.exports=t(chrome)}else r.exports=globalThis.browser})});var ht=class{constructor(e,t){this.type_=e;this.id_=t;this.full=`${this.type_}/${this.id_}`}get type(){return this.type_}get number(){return this.id_}get string(){return this.full}};var Ue=class extends ht{static fromUrl(e){let t=e.match(/(?:store\.steampowered|steamcommunity)\.com\/(?:app|games|market\/listings)\/(\d+)\/?/);return t&&t[1]!==void 0?Number(t[1]):null}static fromCDNUrl(e){let t=/(?:cdn\.(?:(?:akamai|cloudflare|fastly)\.)?steamstatic\.com\/steam|steamcdn-a\.akamaihd\.net\/steam|steamcommunity\/public\/images)\/apps\/(\d+)\//,o=/shared\.(?:(?:akamai|cloudflare|fastly)\.)?steamstatic\.com\/store_item_assets\/steam\/apps\/(\d+)\//,n=e.match(t)??e.match(o);return n&&n[1]!==void 0?Number(n[1]):null}static fromGameCardUrl(e){let t=e.match(/\/gamecards\/(\d+)/);return t&&t[1]!==void 0?Number(t[1]):null}static fromElement(e){if(!e)return null;let t=e.dataset.dsAppid;if(t)return Number(t);let o=e.getAttribute("href");return o?this.fromUrl(o):null}static fromImageElement(e){if(!e)return null;let t=e.getAttribute("src");return t?this.fromCDNUrl(t):e.dataset.imageUrl?this.fromCDNUrl(e.dataset.imageUrl):null}static fromText(e){let t=/(?:store\.steampowered|steamcommunity)\.com\/app\/(\d+)\/?/g,o=[],n;for(;(n=t.exec(e))!==null;)o.push(Number(n[1]));return o}constructor(e){super("app",e)}};var Ki="downloadDemoHeader";var Yi="thewordunknown";var Xi="moreOnSteampeek";var ea="viewInLibrary",ta="support",oa="email";var na="dlcDetails",ra="badgeNotUnlocked",Or="badgeLevel";var cr="getHelp",sa="addSelectedDlcToCart";var ia="activate";var aa="couponApplicationNote",la="hide";var ca="cardsOwned";var pa="clearCache";var Gr="viewBadgeProgress",ua="badgeProgress";var ma="apppageSections",pr="website";var _a="loading";var da="homepageTabs";var fa="communityHub",He="viewOnWebsite",ga="drmThirdParty",ha="hoursShort";var ba="addToWishlist",xa="addFullgameToWishlist",va="addToWaitlist",wa="addFullgameToWaitlist",ya="removeFromWaitlistTooltip",Qa="removeFullgameFromWaitlistTooltip",Sa="removeFromWishlistAndWaitlistTooltip",ka="removeFullgameFromWishlistAndWaitlistTooltip";var La="theworddefault";var Na="couponLearnMore_linkText",Fa="couponLearnMore_fullText";var Hr="ownedCollection",Zr="viewBadge";var Da="contribute";var Ca="readReviews";var Ea="youtubeGameplay",Ba="youtubeReviews",Ua="packageInfo";var jr="homepageCurators",Aa="homepageTopnewreleases",Ia="homepageSidebar";var Ta="usingLanguageReturn";var ur="save";var fo="viewinclient";var Ma="apppageRecentupdates",Pa="apppageEaheader",Ra="apppageEabanner",Wa="apppageWorkshop",$a="apppageGreenlight",qa="apppageLegal",za="apppageFranchise",Ja="apppageMorefromfranchise",Oa="bugFeature";var Ga="ratingDetails";var Ha="familySharingNotice_notice",Za="familySharingNotice_desc",ja="visitStore";var Va="usingLanguage",Vr="loginWarning";var Ka="purchaseDate";var Ya="buy",Kr="buyPackage",Xa="moreInformation",el="regionUnavailable";var tl="export_download";var go="never",ol="couponAvailable",nl="launchRandom",rl="launchRandomGameError",sl="playGame";var il="wishlist";var al="onWaitlist",ll="onWishlistAndWaitlist",mr="ok",Vt="cancel",cl="wikiArticle";var pl="drmThirdPartySub",ul="customize";var ml="thewordoptions";var _l="pricing_lowestPrice",dl="pricing_historicalLow",fl="pricing_bundled",Yr="pricing_withVoucher",ho="pricing_store",Xr="pricing_bundleCount";var es="expandSlider",ts="contractSlider",gl="earlyAccess";var hl="userScore";var bl="achievements_summary",xl="bundle_offerEnds",os="bundle_includes",ns="bundle_tierIncludes",rs="bundle_tier",vl="bundle_header",wl="bundle_info",yl="charts_peakall",Ql="charts_current",Sl="charts_playingNow",kl="charts_peaktoday",Ll="hltb_title",Nl="hltb_mainE",Fl="hltb_compl",Dl="hltb_main";var Cl="options_userNotes_saveWithEnter";var El="options_homepage";var ss="ready_loading",is="ready_ready",as="ready_failed",Bl="ready_serverOutage";var Ul="dlcSelect_wishlistedDlc",Al="dlcSelect_none",Il="dlcSelect_unownedDlc",Tl="tag_wishlist",Ml="tag_followed",Pl="tag_coupon",Rl="tag_invGift",Wl="tag_invGuestpass",$l="tag_owned",ql="tag_notinterested",zl="tag_ignoredOwned",Jl="tag_collection",Ol="tag_waitlist";var Gl="wsgf_incomplete",Hl="wsgf_unsupported",Zl="wsgf_gold",jl="wsgf_silver",Vl="wsgf_limited",Kl="wsgf_certifications";var Yl="itad_lastImport",Xl="itad_from",ec="itad_to",tc="itad_syncNow";var oc="update_dontShow";var nc="update_updatedNoVersion",rc="update_changes";var sc="coll_inCollection";var bo="userNote_add",ls="userNote_update",xo="userNote_addForGame",ic="userNote_notEnoughSpace",ac="userNote_notEnoughSpaceDesc",lc="userNote_closeOnStorage",cc="userNote_closeOnStorageDesc",pc="userNote_storageWarningDesc",uc="userNote_saveSyncedStorage",mc="userNote_saveLocal";var _c="userNote_syncError";var dc="queue_new",fc="queue_newTooltip";var hc=Ut(Qt()),Fe={version:hc.default.runtime.getManifest().version,db_version:6};var ps=Ut(Qt());var xf=Ut(Qt()),At=class{constructor(e){this.storageArea=e}get onChanged(){return this.storageArea.onChanged}async get(e){return(await this.storageArea.get(e))[e]??void 0}getObject(e){return this.storageArea.get(e)}set(e,t){return this.storageArea.set({[e]:t})}setObject(e){return this.storageArea.set(e)}remove(...e){return this.storageArea.remove(e)}};var vo=class extends At{constructor(){super(ps.default.storage.sync)}get QUOTA_BYTES_PER_ITEM(){return ps.default.storage.sync.QUOTA_BYTES_PER_ITEM??8192}},ct=new vo;var _r={language:"english",version:Fe.version,version_show:!0,highlight_owned_color:"#00ce67",highlight_wishlist_color:"#0491bf",highlight_followed_color:"#d64550",highlight_coupon_color:"#a26426",highlight_inv_gift_color:"#800040",highlight_inv_guestpass_color:"#513c73",highlight_notinterested_color:"#4f4f4f",highlight_ignored_owned_color:"#4f4f4f",highlight_collection_color:"#856d0e",highlight_waitlist_color:"#4c7521",tag_owned_color:"#00b75b",tag_wishlist_color:"#0383b4",tag_followed_color:"#d64550",tag_coupon_color:"#c27120",tag_inv_gift_color:"#b10059",tag_inv_guestpass_color:"#65449a",tag_notinterested_color:"#4f4f4f",tag_ignored_owned_color:"#4f4f4f",tag_collection_color:"#856d0e",tag_waitlist_color:"#4c7521",highlight_owned:!0,highlight_wishlist:!0,highlight_followed:!0,highlight_coupon:!1,highlight_inv_gift:!1,highlight_inv_guestpass:!1,highlight_notinterested:!1,highlight_ignored_owned:!1,highlight_excludef2p:!1,highlight_collection:!0,highlight_waitlist:!0,tag_owned:!1,tag_wishlist:!1,tag_followed:!1,tag_coupon:!1,tag_inv_gift:!1,tag_inv_guestpass:!1,tag_notinterested:!0,tag_ignored_owned:!0,tag_collection:!1,tag_waitlist:!1,tag_short:!1,hidetmsymbols:!1,showlowestprice:!0,showlowestprice_onwishlist:!0,showlowestpricecoupon:!0,showallstores:!0,excluded_stores:[],override_price:"auto",showregionalprice:"mouse",regional_countries:["us","gb","fr","br","au","jp"],show_es_homepagetabs:!0,showmarkettotal:!1,showmcus:!0,showoc:!0,showhltb:!0,showyoutube:!0,showtwitch:!0,showpcgw:!0,showcompletionistme:!1,showprotondb:!1,showviewinlibrary:!1,showsteamcardexchange:!1,showitadlinks:!0,showsteamdb:!0,showbartervg:!1,showyoutubegameplay:!0,showyoutubereviews:!0,showwsgf:!0,exfgls:!0,app_custom_link:[{enabled:!0,name:"Google",url:"https://www.google.com/search?q=[ID]+[NAME]",icon:"https://www.google.com/images/branding/product/ico/googleg_lodp.ico"}],customize_apppage:{},customize_frontpage:{},show_package_info:!1,show_players_info:!0,show_early_access:!0,show_alternative_linux_icon:!1,show_itad_button:!1,skip_got_steam:!1,installsteam:"show",openinnewtab:!1,keepssachecked:!1,showemptywishlist:!0,user_notes_app:!0,user_notes_wishlist:!0,user_notes_simple:!0,showwishliststats:!0,oneclickremovewl:!1,user_notes_adapter:"synced_storage",showlanguagewarning:!0,showlanguagewarninglanguage:"english",homepage_tab_selection:"remember",send_age_info:!0,removebroadcasts:!1,prevent_video_pause:!1,tabtitle_appname_first:!1,horizontalscrolling:!0,showsupportinfo:!0,showdrm:!0,regional_hideworld:!1,showinvnav:!0,quickinv:!0,quickinv_diff:-.01,community_default_tab:"",showallstats:!0,replacecommunityhublinks:!1,hideannouncementcomments:!1,showachinstore:!0,hideactivelistings:!1,showlowestmarketprice:!0,hidespamcomments:!1,spamcommentregex:"[\\u2500-\\u25FF]",wlbuttoncommunityapp:!0,removeguideslanguagefilter:!1,confirmdeletecomment:!0,disablelinkfilter:!1,show1clickgoo:!0,show_profile_link_images:"gray",show_custom_themes:!0,profile_pinned_bg:!1,friends_append_nickname:!1,profile_steamrepcn:!0,profile_steamgifts:!0,profile_steamtrades:!0,profile_bartervg:!0,profile_steamdbcalc:!0,profile_backpacktf:!0,profile_steamid:!0,profile_custom_link:[{enabled:!0,name:"Google",url:"https://www.google.com/search?q=[ID]",icon:"https://www.google.com/images/branding/product/ico/googleg_lodp.ico"}],group_steamgifts:!0,steamcardexchange:!0,purchase_dates:!0,show_badge_progress:!0,show_coupon:!0,show_wishlist_link:!0,show_wishlist_count:!0,show_progressbar:!0,show_backtotop:!1,profile_showcase_twitch:!0,profile_showcase_own_twitch:!1,profile_showcase_twitch_profileonly:!1,itad_sync_library:!0,itad_sync_wishlist:!0,add_to_waitlist:!1,collection_banner_notowned:!1,itad_sync_notes:!1,context_steam_store:!1,context_steam_lucky:!1,context_steam_market:!1,context_itad:!1,context_bartervg:!1,context_steamdb:!1,context_steamdb_instant:!1,context_steam_keys:!1},dr=class{constructor(){this.listeners=new Set}addListener(e){this.listeners.add(e)}removeListener(e){this.listeners.delete(e)}invoke(){for(let e of this.listeners)e()}},It=class{static{this.storage=new vo}static{this.onSaveStart=new dr}static{this.onSaveEnd=new dr}static async load(){this.data=await this.storage.getObject(_r)}static init(){return this.promise||(this.promise=this.load()),this.promise}static getDefault(e){return _r[e]}static get(e){if(!this.data)throw new Error("Settings have not been loaded");return this.data[e]}static async set(e,t){this.onSaveStart.invoke(),this.data[e]=t,await this.storage.set(e,t),this.onSaveEnd.invoke()}static remove(e){this.storage.remove(e),this.data[e]=structuredClone(_r[e])}static clear(){this.storage.remove(...Object.keys(this.data)),this.data=structuredClone(_r)}static async import(e){await this.storage.setObject(e),await this.load()}static asObject(){return structuredClone(this.data)}},b=new Proxy(It,{get(r,e){return r.get(e)},set(r,e,t){return r.set(e,t),!0}});var bc=Ut(Qt()),ge=class r{static getURL(e){return bc.default.runtime.getURL(e)}static get(e){return fetch(r.getURL(e))}static async getJSON(e){return await(await r.get(e)).json()}static async getText(e){return await(await r.get(e)).text()}};var Ze=class r{static{this.map={english:"en",bulgarian:"bg",czech:"cs",danish:"da",dutch:"nl",finnish:"fi",french:"fr",greek:"el",german:"de",hungarian:"hu",italian:"it",japanese:"ja",koreana:"ko",norwegian:"no",polish:"pl",portuguese:"pt-PT",brazilian:"pt-BR",russian:"ru",romanian:"ro",schinese:"zh-CN",spanish:"es-ES",latam:"es-419",swedish:"sv-SE",tchinese:"zh-TW",thai:"th",turkish:"tr",ukrainian:"ua",vietnamese:"vi"}}constructor(e){this._name=e,this._code=r.map[e]??null}get name(){return this._name}get code(){return this._code}isOneOf(...e){return e.includes(this._name)}};var xc=Ut(Qt());var wo=class{static parse(e){let t=e.match(/(.*):\s(.+)/);return t?{name:t[1]??"",message:t[2]??""}:{name:null,message:null}}};var O=class{static async send(e,t={}){document.dispatchEvent(new CustomEvent("asRequestStart"));try{let o=await xc.default.runtime.sendMessage({action:e,params:t});return document.dispatchEvent(new CustomEvent("asRequestDone")),o}catch(o){let n=wo.parse(o.message??"");throw document.dispatchEvent(new CustomEvent("asRequestError",{detail:n})),o}}};var De=class{static wishlistAdd(e){return O.send("wishlist.add",{appid:e})}static wishlistRemove(e){return O.send("wishlist.remove",{appid:e})}static fetchAppDetails(e,t=void 0){return O.send("appdetails",{appid:e,filter:t})}static getPurchaseDate(e,t){return O.send("purchases",{appName:e,lang:t})}static getCurrency(){return O.send("currency")}static clearPurchases(){return O.send("clearpurchases")}static clearDynamicStore(){return O.send("dynamicstore.clear")}static getDynamicStoreStatus(e){return O.send("dynamicstore.status",{ids:e})}static getDynamicStoreRandomApp(){return O.send("dynamicstore.randomapp")}};var St=class{static load(e){return ge.getJSON(`/localization/compiled/${e}.json`)}static async init(e){let t=b.language;e===null?e=new Ze(t):e.name!==t&&(b.language=e.name,De.clearPurchases());let o=e.code??"en";try{this.locale=await this.load(o)}catch{console.error(`Failed to load ${o}`),this.locale=await this.load("en")}}};function v(r,e=null){let t=St.locale.strings[r]??"<<missing text>>";if(e!==null)for(let[o,n]of Object.entries(e))t=t.replaceAll(`__${o}__`,String(n));return t}var P=class{constructor(e){this.context=e}checkPrerequisites(){return!0}logError(e,t,...o){console.group(this.constructor.name),console.error(t,...o),console.error(e),console.groupEnd()}};var{entries:Dc,setPrototypeOf:vc,isFrozen:sm,getPrototypeOf:im,getOwnPropertyDescriptor:am}=Object,{freeze:Re,seal:ot,create:Cc}=Object,{apply:gs,construct:hs}=typeof Reflect<"u"&&Reflect;Re||(Re=function(e){return e});ot||(ot=function(e){return e});gs||(gs=function(e,t,o){return e.apply(t,o)});hs||(hs=function(e,t){return new e(...t)});var fr=We(Array.prototype.forEach),lm=We(Array.prototype.lastIndexOf),wc=We(Array.prototype.pop),yo=We(Array.prototype.push),cm=We(Array.prototype.splice),hr=We(String.prototype.toLowerCase),us=We(String.prototype.toString),yc=We(String.prototype.match),Qo=We(String.prototype.replace),pm=We(String.prototype.indexOf),um=We(String.prototype.trim),rt=We(Object.prototype.hasOwnProperty),Pe=We(RegExp.prototype.test),So=mm(TypeError);function We(r){return function(e){for(var t=arguments.length,o=new Array(t>1?t-1:0),n=1;n<t;n++)o[n-1]=arguments[n];return gs(r,e,o)}}function mm(r){return function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];return hs(r,t)}}function ie(r,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:hr;vc&&vc(r,null);let o=e.length;for(;o--;){let n=e[o];if(typeof n=="string"){let s=t(n);s!==n&&(sm(e)||(e[o]=s),n=s)}r[n]=!0}return r}function _m(r){for(let e=0;e<r.length;e++)rt(r,e)||(r[e]=null);return r}function Tt(r){let e=Cc(null);for(let[t,o]of Dc(r))rt(r,t)&&(Array.isArray(o)?e[t]=_m(o):o&&typeof o=="object"&&o.constructor===Object?e[t]=Tt(o):e[t]=o);return e}function ko(r,e){for(;r!==null;){let o=am(r,e);if(o){if(o.get)return We(o.get);if(typeof o.value=="function")return We(o.value)}r=im(r)}function t(){return null}return t}var Qc=Re(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),ms=Re(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),_s=Re(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),dm=Re(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ds=Re(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),fm=Re(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Sc=Re(["#text"]),kc=Re(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),fs=Re(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Lc=Re(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),gr=Re(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),gm=ot(/\{\{[\w\W]*|[\w\W]*\}\}/gm),hm=ot(/<%[\w\W]*|[\w\W]*%>/gm),bm=ot(/\$\{[\w\W]*/gm),xm=ot(/^data-[\-\w.\u00B7-\uFFFF]+$/),vm=ot(/^aria-[\-\w]+$/),Ec=ot(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),wm=ot(/^(?:\w+script|data):/i),ym=ot(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Bc=ot(/^html$/i),Qm=ot(/^[a-z][.\w]*(-[.\w]+)+$/i),Nc=Object.freeze({__proto__:null,ARIA_ATTR:vm,ATTR_WHITESPACE:ym,CUSTOM_ELEMENT:Qm,DATA_ATTR:xm,DOCTYPE_NAME:Bc,ERB_EXPR:hm,IS_ALLOWED_URI:Ec,IS_SCRIPT_OR_DATA:wm,MUSTACHE_EXPR:gm,TMPLIT_EXPR:bm}),Lo={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Sm=function(){return typeof window>"u"?null:window},km=function(e,t){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let o=null,n="data-tt-policy-suffix";t&&t.hasAttribute(n)&&(o=t.getAttribute(n));let s="dompurify"+(o?"#"+o:"");try{return e.createPolicy(s,{createHTML(i){return i},createScriptURL(i){return i}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},Fc=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Uc(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Sm(),e=V=>Uc(V);if(e.version="3.2.4",e.removed=[],!r||!r.document||r.document.nodeType!==Lo.document||!r.Element)return e.isSupported=!1,e;let{document:t}=r,o=t,n=o.currentScript,{DocumentFragment:s,HTMLTemplateElement:i,Node:a,Element:l,NodeFilter:c,NamedNodeMap:p=r.NamedNodeMap||r.MozNamedAttrMap,HTMLFormElement:u,DOMParser:_,trustedTypes:g}=r,d=l.prototype,k=ko(d,"cloneNode"),S=ko(d,"remove"),U=ko(d,"nextSibling"),N=ko(d,"childNodes"),E=ko(d,"parentNode");if(typeof i=="function"){let V=t.createElement("template");V.content&&V.content.ownerDocument&&(t=V.content.ownerDocument)}let Q,L="",{implementation:F,createNodeIterator:A,createDocumentFragment:R,getElementsByTagName:K}=t,{importNode:se}=o,J=Fc();e.isSupported=typeof Dc=="function"&&typeof E=="function"&&F&&F.createHTMLDocument!==void 0;let{MUSTACHE_EXPR:fe,ERB_EXPR:te,TMPLIT_EXPR:ye,DATA_ATTR:re,ARIA_ATTR:oe,IS_SCRIPT_OR_DATA:ae,ATTR_WHITESPACE:tt,CUSTOM_ELEMENT:Qe}=Nc,{IS_ALLOWED_URI:co}=Nc,Le=null,Ni=ie({},[...Qc,...ms,..._s,...ds,...Sc]),Ee=null,Fi=ie({},[...kc,...fs,...Lc,...gr]),M=Object.seal(Cc(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),po=null,Ar=null,Di=!0,Ir=!0,Ci=!1,Ei=!0,Jt=!1,Tr=!0,Bt=!1,Mr=!1,Pr=!1,Ot=!1,or=!1,nr=!1,Bi=!0,Ui=!1,Ju="user-content-",Rr=!0,uo=!1,Gt={},Ht=null,Ai=ie({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Ii=null,Ti=ie({},["audio","video","img","source","image","track"]),Wr=null,Mi=ie({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),rr="http://www.w3.org/1998/Math/MathML",sr="http://www.w3.org/2000/svg",ft="http://www.w3.org/1999/xhtml",Zt=ft,$r=!1,qr=null,Ou=ie({},[rr,sr,ft],us),ir=ie({},["mi","mo","mn","ms","mtext"]),ar=ie({},["annotation-xml"]),Gu=ie({},["title","style","font","a","script"]),mo=null,Hu=["application/xhtml+xml","text/html"],Zu="text/html",Ne=null,jt=null,ju=t.createElement("form"),Pi=function(y){return y instanceof RegExp||y instanceof Function},zr=function(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(jt&&jt===y)){if((!y||typeof y!="object")&&(y={}),y=Tt(y),mo=Hu.indexOf(y.PARSER_MEDIA_TYPE)===-1?Zu:y.PARSER_MEDIA_TYPE,Ne=mo==="application/xhtml+xml"?us:hr,Le=rt(y,"ALLOWED_TAGS")?ie({},y.ALLOWED_TAGS,Ne):Ni,Ee=rt(y,"ALLOWED_ATTR")?ie({},y.ALLOWED_ATTR,Ne):Fi,qr=rt(y,"ALLOWED_NAMESPACES")?ie({},y.ALLOWED_NAMESPACES,us):Ou,Wr=rt(y,"ADD_URI_SAFE_ATTR")?ie(Tt(Mi),y.ADD_URI_SAFE_ATTR,Ne):Mi,Ii=rt(y,"ADD_DATA_URI_TAGS")?ie(Tt(Ti),y.ADD_DATA_URI_TAGS,Ne):Ti,Ht=rt(y,"FORBID_CONTENTS")?ie({},y.FORBID_CONTENTS,Ne):Ai,po=rt(y,"FORBID_TAGS")?ie({},y.FORBID_TAGS,Ne):{},Ar=rt(y,"FORBID_ATTR")?ie({},y.FORBID_ATTR,Ne):{},Gt=rt(y,"USE_PROFILES")?y.USE_PROFILES:!1,Di=y.ALLOW_ARIA_ATTR!==!1,Ir=y.ALLOW_DATA_ATTR!==!1,Ci=y.ALLOW_UNKNOWN_PROTOCOLS||!1,Ei=y.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Jt=y.SAFE_FOR_TEMPLATES||!1,Tr=y.SAFE_FOR_XML!==!1,Bt=y.WHOLE_DOCUMENT||!1,Ot=y.RETURN_DOM||!1,or=y.RETURN_DOM_FRAGMENT||!1,nr=y.RETURN_TRUSTED_TYPE||!1,Pr=y.FORCE_BODY||!1,Bi=y.SANITIZE_DOM!==!1,Ui=y.SANITIZE_NAMED_PROPS||!1,Rr=y.KEEP_CONTENT!==!1,uo=y.IN_PLACE||!1,co=y.ALLOWED_URI_REGEXP||Ec,Zt=y.NAMESPACE||ft,ir=y.MATHML_TEXT_INTEGRATION_POINTS||ir,ar=y.HTML_INTEGRATION_POINTS||ar,M=y.CUSTOM_ELEMENT_HANDLING||{},y.CUSTOM_ELEMENT_HANDLING&&Pi(y.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(M.tagNameCheck=y.CUSTOM_ELEMENT_HANDLING.tagNameCheck),y.CUSTOM_ELEMENT_HANDLING&&Pi(y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(M.attributeNameCheck=y.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),y.CUSTOM_ELEMENT_HANDLING&&typeof y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(M.allowCustomizedBuiltInElements=y.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Jt&&(Ir=!1),or&&(Ot=!0),Gt&&(Le=ie({},Sc),Ee=[],Gt.html===!0&&(ie(Le,Qc),ie(Ee,kc)),Gt.svg===!0&&(ie(Le,ms),ie(Ee,fs),ie(Ee,gr)),Gt.svgFilters===!0&&(ie(Le,_s),ie(Ee,fs),ie(Ee,gr)),Gt.mathMl===!0&&(ie(Le,ds),ie(Ee,Lc),ie(Ee,gr))),y.ADD_TAGS&&(Le===Ni&&(Le=Tt(Le)),ie(Le,y.ADD_TAGS,Ne)),y.ADD_ATTR&&(Ee===Fi&&(Ee=Tt(Ee)),ie(Ee,y.ADD_ATTR,Ne)),y.ADD_URI_SAFE_ATTR&&ie(Wr,y.ADD_URI_SAFE_ATTR,Ne),y.FORBID_CONTENTS&&(Ht===Ai&&(Ht=Tt(Ht)),ie(Ht,y.FORBID_CONTENTS,Ne)),Rr&&(Le["#text"]=!0),Bt&&ie(Le,["html","head","body"]),Le.table&&(ie(Le,["tbody"]),delete po.tbody),y.TRUSTED_TYPES_POLICY){if(typeof y.TRUSTED_TYPES_POLICY.createHTML!="function")throw So('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof y.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw So('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');Q=y.TRUSTED_TYPES_POLICY,L=Q.createHTML("")}else Q===void 0&&(Q=km(g,n)),Q!==null&&typeof L=="string"&&(L=Q.createHTML(""));Re&&Re(y),jt=y}},Ri=ie({},[...ms,..._s,...dm]),Wi=ie({},[...ds,...fm]),Vu=function(y){let W=E(y);(!W||!W.tagName)&&(W={namespaceURI:Zt,tagName:"template"});let Z=hr(y.tagName),xe=hr(W.tagName);return qr[y.namespaceURI]?y.namespaceURI===sr?W.namespaceURI===ft?Z==="svg":W.namespaceURI===rr?Z==="svg"&&(xe==="annotation-xml"||ir[xe]):!!Ri[Z]:y.namespaceURI===rr?W.namespaceURI===ft?Z==="math":W.namespaceURI===sr?Z==="math"&&ar[xe]:!!Wi[Z]:y.namespaceURI===ft?W.namespaceURI===sr&&!ar[xe]||W.namespaceURI===rr&&!ir[xe]?!1:!Wi[Z]&&(Gu[Z]||!Ri[Z]):!!(mo==="application/xhtml+xml"&&qr[y.namespaceURI]):!1},at=function(y){yo(e.removed,{element:y});try{E(y).removeChild(y)}catch{S(y)}},lr=function(y,W){try{yo(e.removed,{attribute:W.getAttributeNode(y),from:W})}catch{yo(e.removed,{attribute:null,from:W})}if(W.removeAttribute(y),y==="is")if(Ot||or)try{at(W)}catch{}else try{W.setAttribute(y,"")}catch{}},$i=function(y){let W=null,Z=null;if(Pr)y="<remove></remove>"+y;else{let Be=yc(y,/^[\r\n\t ]+/);Z=Be&&Be[0]}mo==="application/xhtml+xml"&&Zt===ft&&(y='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+y+"</body></html>");let xe=Q?Q.createHTML(y):y;if(Zt===ft)try{W=new _().parseFromString(xe,mo)}catch{}if(!W||!W.documentElement){W=F.createDocument(Zt,"template",null);try{W.documentElement.innerHTML=$r?L:xe}catch{}}let Te=W.body||W.documentElement;return y&&Z&&Te.insertBefore(t.createTextNode(Z),Te.childNodes[0]||null),Zt===ft?K.call(W,Bt?"html":"body")[0]:Bt?W.documentElement:Te},qi=function(y){return A.call(y.ownerDocument||y,y,c.SHOW_ELEMENT|c.SHOW_COMMENT|c.SHOW_TEXT|c.SHOW_PROCESSING_INSTRUCTION|c.SHOW_CDATA_SECTION,null)},Jr=function(y){return y instanceof u&&(typeof y.nodeName!="string"||typeof y.textContent!="string"||typeof y.removeChild!="function"||!(y.attributes instanceof p)||typeof y.removeAttribute!="function"||typeof y.setAttribute!="function"||typeof y.namespaceURI!="string"||typeof y.insertBefore!="function"||typeof y.hasChildNodes!="function")},zi=function(y){return typeof a=="function"&&y instanceof a};function gt(V,y,W){fr(V,Z=>{Z.call(e,y,W,jt)})}let Ji=function(y){let W=null;if(gt(J.beforeSanitizeElements,y,null),Jr(y))return at(y),!0;let Z=Ne(y.nodeName);if(gt(J.uponSanitizeElement,y,{tagName:Z,allowedTags:Le}),y.hasChildNodes()&&!zi(y.firstElementChild)&&Pe(/<[/\w]/g,y.innerHTML)&&Pe(/<[/\w]/g,y.textContent)||y.nodeType===Lo.progressingInstruction||Tr&&y.nodeType===Lo.comment&&Pe(/<[/\w]/g,y.data))return at(y),!0;if(!Le[Z]||po[Z]){if(!po[Z]&&Gi(Z)&&(M.tagNameCheck instanceof RegExp&&Pe(M.tagNameCheck,Z)||M.tagNameCheck instanceof Function&&M.tagNameCheck(Z)))return!1;if(Rr&&!Ht[Z]){let xe=E(y)||y.parentNode,Te=N(y)||y.childNodes;if(Te&&xe){let Be=Te.length;for(let Ge=Be-1;Ge>=0;--Ge){let lt=k(Te[Ge],!0);lt.__removalCount=(y.__removalCount||0)+1,xe.insertBefore(lt,U(y))}}}return at(y),!0}return y instanceof l&&!Vu(y)||(Z==="noscript"||Z==="noembed"||Z==="noframes")&&Pe(/<\/no(script|embed|frames)/i,y.innerHTML)?(at(y),!0):(Jt&&y.nodeType===Lo.text&&(W=y.textContent,fr([fe,te,ye],xe=>{W=Qo(W,xe," ")}),y.textContent!==W&&(yo(e.removed,{element:y.cloneNode()}),y.textContent=W)),gt(J.afterSanitizeElements,y,null),!1)},Oi=function(y,W,Z){if(Bi&&(W==="id"||W==="name")&&(Z in t||Z in ju))return!1;if(!(Ir&&!Ar[W]&&Pe(re,W))){if(!(Di&&Pe(oe,W))){if(!Ee[W]||Ar[W]){if(!(Gi(y)&&(M.tagNameCheck instanceof RegExp&&Pe(M.tagNameCheck,y)||M.tagNameCheck instanceof Function&&M.tagNameCheck(y))&&(M.attributeNameCheck instanceof RegExp&&Pe(M.attributeNameCheck,W)||M.attributeNameCheck instanceof Function&&M.attributeNameCheck(W))||W==="is"&&M.allowCustomizedBuiltInElements&&(M.tagNameCheck instanceof RegExp&&Pe(M.tagNameCheck,Z)||M.tagNameCheck instanceof Function&&M.tagNameCheck(Z))))return!1}else if(!Wr[W]){if(!Pe(co,Qo(Z,tt,""))){if(!((W==="src"||W==="xlink:href"||W==="href")&&y!=="script"&&pm(Z,"data:")===0&&Ii[y])){if(!(Ci&&!Pe(ae,Qo(Z,tt,"")))){if(Z)return!1}}}}}}return!0},Gi=function(y){return y!=="annotation-xml"&&yc(y,Qe)},Hi=function(y){gt(J.beforeSanitizeAttributes,y,null);let{attributes:W}=y;if(!W||Jr(y))return;let Z={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ee,forceKeepAttr:void 0},xe=W.length;for(;xe--;){let Te=W[xe],{name:Be,namespaceURI:Ge,value:lt}=Te,_o=Ne(Be),Me=Be==="value"?lt:um(lt);if(Z.attrName=_o,Z.attrValue=Me,Z.keepAttr=!0,Z.forceKeepAttr=void 0,gt(J.uponSanitizeAttribute,y,Z),Me=Z.attrValue,Ui&&(_o==="id"||_o==="name")&&(lr(Be,y),Me=Ju+Me),Tr&&Pe(/((--!?|])>)|<\/(style|title)/i,Me)){lr(Be,y);continue}if(Z.forceKeepAttr||(lr(Be,y),!Z.keepAttr))continue;if(!Ei&&Pe(/\/>/i,Me)){lr(Be,y);continue}Jt&&fr([fe,te,ye],ji=>{Me=Qo(Me,ji," ")});let Zi=Ne(y.nodeName);if(Oi(Zi,_o,Me)){if(Q&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!Ge)switch(g.getAttributeType(Zi,_o)){case"TrustedHTML":{Me=Q.createHTML(Me);break}case"TrustedScriptURL":{Me=Q.createScriptURL(Me);break}}try{Ge?y.setAttributeNS(Ge,Be,Me):y.setAttribute(Be,Me),Jr(y)?at(y):wc(e.removed)}catch{}}}gt(J.afterSanitizeAttributes,y,null)},Ku=function V(y){let W=null,Z=qi(y);for(gt(J.beforeSanitizeShadowDOM,y,null);W=Z.nextNode();)gt(J.uponSanitizeShadowNode,W,null),Ji(W),Hi(W),W.content instanceof s&&V(W.content);gt(J.afterSanitizeShadowDOM,y,null)};return e.sanitize=function(V){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=null,Z=null,xe=null,Te=null;if($r=!V,$r&&(V="<!-->"),typeof V!="string"&&!zi(V))if(typeof V.toString=="function"){if(V=V.toString(),typeof V!="string")throw So("dirty is not a string, aborting")}else throw So("toString is not a function");if(!e.isSupported)return V;if(Mr||zr(y),e.removed=[],typeof V=="string"&&(uo=!1),uo){if(V.nodeName){let lt=Ne(V.nodeName);if(!Le[lt]||po[lt])throw So("root node is forbidden and cannot be sanitized in-place")}}else if(V instanceof a)W=$i("<!---->"),Z=W.ownerDocument.importNode(V,!0),Z.nodeType===Lo.element&&Z.nodeName==="BODY"||Z.nodeName==="HTML"?W=Z:W.appendChild(Z);else{if(!Ot&&!Jt&&!Bt&&V.indexOf("<")===-1)return Q&&nr?Q.createHTML(V):V;if(W=$i(V),!W)return Ot?null:nr?L:""}W&&Pr&&at(W.firstChild);let Be=qi(uo?V:W);for(;xe=Be.nextNode();)Ji(xe),Hi(xe),xe.content instanceof s&&Ku(xe.content);if(uo)return V;if(Ot){if(or)for(Te=R.call(W.ownerDocument);W.firstChild;)Te.appendChild(W.firstChild);else Te=W;return(Ee.shadowroot||Ee.shadowrootmode)&&(Te=se.call(o,Te,!0)),Te}let Ge=Bt?W.outerHTML:W.innerHTML;return Bt&&Le["!doctype"]&&W.ownerDocument&&W.ownerDocument.doctype&&W.ownerDocument.doctype.name&&Pe(Bc,W.ownerDocument.doctype.name)&&(Ge="<!DOCTYPE "+W.ownerDocument.doctype.name+`>
`+Ge),Jt&&fr([fe,te,ye],lt=>{Ge=Qo(Ge,lt," ")}),Q&&nr?Q.createHTML(Ge):Ge},e.setConfig=function(){let V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};zr(V),Mr=!0},e.clearConfig=function(){jt=null,Mr=!1},e.isValidAttribute=function(V,y,W){jt||zr({});let Z=Ne(V),xe=Ne(y);return Oi(Z,xe,W)},e.addHook=function(V,y){typeof y=="function"&&yo(J[V],y)},e.removeHook=function(V,y){if(y!==void 0){let W=lm(J[V],y);return W===-1?void 0:cm(J[V],W,1)[0]}return wc(J[V])},e.removeHooks=function(V){J[V]=[]},e.removeAllHooks=function(){J=Fc()},e}var bt=Uc();var G=class r{static formatUrl(e){let o=/^[a-z]+:\/\//.test(e)?e:`//${e}`;return encodeURI(o)}static escape(e){let t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,o=>{if(!t[o])throw new Error;return t[o]})}static toDom(e){let t=document.createElement("template");return t.innerHTML=bt.sanitize(e),t.content}static toElement(e){return r.toDom(e).firstElementChild}static _getNode(e){let t=typeof e=="string"?document.querySelector(e):e;return t instanceof Element?t:(console.warn(`${t} is not an Element.`),console.trace(),null)}static inner(e,t){let o=r._getNode(e);return o&&(o.innerHTML=bt.sanitize(t)),o}static replace(e,t){let o=r._getNode(e);if(!o)return null;let n=r.toDom(t),s=n.firstElementChild;return o.replaceWith(n),s}static wrap(e,t,o=t){let n=r._getNode(t);if(!n)return null;let s=o===null?n.parentElement?.lastElementChild??null:r._getNode(o),i=[n];for(let l=n;l.nextElementSibling!==null&&l!==s;l=l.nextElementSibling)i.push(l.nextElementSibling);let a=r.toElement(e);return a?(n.replaceWith(a),a.append(...i),a):null}static _adjacent(e,t,o){let n=r._getNode(e);return n&&n.insertAdjacentHTML(t,bt.sanitize(o)),n}static beforeBegin(e,t){e&&r._adjacent(e,"beforebegin",t)}static afterBegin(e,t){e&&r._adjacent(e,"afterbegin",t)}static beforeEnd(e,t){e&&r._adjacent(e,"beforeend",t)}static afterEnd(e,t){e&&r._adjacent(e,"afterend",t)}};var Ac=Ut(Qt());var bs=class extends At{constructor(){super(Ac.default.storage.local)}},ve=new bs;var Ic=(M=>(M[M.ACCOUNT=0]="ACCOUNT",M[M.APP=1]="APP",M[M.BUNDLE=2]="BUNDLE",M[M.STORE_DEFAULT=3]="STORE_DEFAULT",M[M.FUNDS=4]="FUNDS",M[M.REGISTER_KEY=5]="REGISTER_KEY",M[M.CART=6]="CART",M[M.SEARCH=7]="SEARCH",M[M.CHARTS=8]="CHARTS",M[M.STORE_FRONT=9]="STORE_FRONT",M[M.SUB=10]="SUB",M[M.WISHLIST=11]="WISHLIST",M[M.AGECHECK=12]="AGECHECK",M[M.COMMUNITY_DEFAULT=13]="COMMUNITY_DEFAULT",M[M.WORKSHOP=14]="WORKSHOP",M[M.PROFILE_ACTIVITY=15]="PROFILE_ACTIVITY",M[M.GAMES=16]="GAMES",M[M.PROFILE_EDIT=17]="PROFILE_EDIT",M[M.BADGES=18]="BADGES",M[M.GAME_CARD=19]="GAME_CARD",M[M.FRIENDS_THAT_PLAY=20]="FRIENDS_THAT_PLAY",M[M.GLOBAL_STATS=21]="GLOBAL_STATS",M[M.MARKET_SEARCH=22]="MARKET_SEARCH",M[M.INVENTORY=23]="INVENTORY",M[M.MARKET_LISTING=24]="MARKET_LISTING",M[M.MARKET_HOME=25]="MARKET_HOME",M[M.PROFILE_HOME=26]="PROFILE_HOME",M[M.GROUP_HOME=27]="GROUP_HOME",M[M.GUIDES=28]="GUIDES",M[M.COMMUNITY_APP=29]="COMMUNITY_APP",M[M.PROFILE_STATS=30]="PROFILE_STATS",M[M.MY_WORKSHOP=31]="MY_WORKSHOP",M[M.SHARED_FILES=32]="SHARED_FILES",M[M.WORKSHOP_BROWSE=33]="WORKSHOP_BROWSE",M[M.EDIT_GUIDE=34]="EDIT_GUIDE",M[M.RECOMMENDED=35]="RECOMMENDED",M[M.BOOSTER_CREATOR=36]="BOOSTER_CREATOR",M[M.TRADE_OFFER=37]="TRADE_OFFER",M[M.FRIENDS_AND_GROUPS=38]="FRIENDS_AND_GROUPS",M[M.POINTS_SHOP=39]="POINTS_SHOP",M[M.LICENSES=40]="LICENSES",M))(Ic||{}),je=Ic;var Tc=Ut(Qt());var le=class{static selectLastNode(e,t){let o=e.querySelectorAll(t);return o[o.length-1]??null}static insertRemoteStylesheet(e){let t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,document.head.appendChild(t)}static insertStylesheet(e){let t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=ge.getURL(e),document.head.appendChild(t)}static insertCSS(e){let t=document.createElement("style");t.textContent=e,document.head.appendChild(t)}static insertScript(e,t=void 0){let o=document.createElement("script");o.src=Tc.default.runtime.getURL(e),o.onload=function(){this.remove()},t&&(o.dataset.params=JSON.stringify(t)),(document.head||document.documentElement).appendChild(o)}};function B(){}var Mt=r=>r;function Mc(r,e){for(let t in e)r[t]=e[t];return r}function Pc(r){return!!r&&(typeof r=="object"||typeof r=="function")&&typeof r.then=="function"}function xs(r){return r()}function xr(){return Object.create(null)}function be(r){r.forEach(xs)}function kt(r){return typeof r=="function"}function q(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}var br;function $e(r,e){return r===e?!0:(br||(br=document.createElement("a")),br.href=e,r===br.href)}function Rc(r){return Object.keys(r).length===0}function pt(r,e,t,o){if(r){let n=Wc(r,e,t,o);return r[0](n)}}function Wc(r,e,t,o){return r[1]&&o?Mc(t.ctx.slice(),r[1](o(e))):t.ctx}function ut(r,e,t,o){if(r[2]&&o){let n=r[2](o(t));if(e.dirty===void 0)return n;if(typeof n=="object"){let s=[],i=Math.max(e.dirty.length,n.length);for(let a=0;a<i;a+=1)s[a]=e.dirty[a]|n[a];return s}return e.dirty|n}return e.dirty}function mt(r,e,t,o,n,s){if(n){let i=Wc(e,t,o,s);r.p(i,n)}}function _t(r){if(r.ctx.length>32){let e=[],t=r.ctx.length/32;for(let o=0;o<t;o++)e[o]=-1;return e}return-1}function Ce(r){return r&&kt(r.destroy)?r.destroy:B}var $c=typeof window<"u",vr=$c?()=>window.performance.now():()=>Date.now(),No=$c?r=>requestAnimationFrame(r):B;var Yt=new Set;function qc(r){Yt.forEach(e=>{e.c(r)||(Yt.delete(e),e.f())}),Yt.size!==0&&No(qc)}function wr(r){let e;return Yt.size===0&&No(qc),{promise:new Promise(t=>{Yt.add(e={c:r,f:t})}),abort(){Yt.delete(e)}}}var Fo=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;var yr=class r{_listeners="WeakMap"in Fo?new WeakMap:void 0;_observer=void 0;options;constructor(e){this.options=e}observe(e,t){return this._listeners.set(e,t),this._getObserver().observe(e,this.options),()=>{this._listeners.delete(e),this._observer.unobserve(e)}}_getObserver(){return this._observer??(this._observer=new ResizeObserver(e=>{for(let t of e)r.entries.set(t.target,t),this._listeners.get(t.target)?.(t)}))}};yr.entries="WeakMap"in Fo?new WeakMap:void 0;var zc=!1;function Jc(){zc=!0}function Oc(){zc=!1}function f(r,e){r.appendChild(e)}function vs(r){if(!r)return document;let e=r.getRootNode?r.getRootNode():r.ownerDocument;return e&&e.host?e:r.ownerDocument}function Gc(r){let e=h("style");return e.textContent="/* empty */",Nm(vs(r),e),e.sheet}function Nm(r,e){return f(r.head||r,e),e.sheet}function w(r,e,t){r.insertBefore(e,t||null)}function x(r){r.parentNode&&r.parentNode.removeChild(r)}function qe(r,e){for(let t=0;t<r.length;t+=1)r[t]&&r[t].d(e)}function h(r){return document.createElement(r)}function Qr(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function T(r){return document.createTextNode(r)}function D(){return T(" ")}function ue(){return T("")}function ne(r,e,t,o){return r.addEventListener(e,t,o),()=>r.removeEventListener(e,t,o)}function Sr(r){return function(e){return e.preventDefault(),r.call(this,e)}}function Hc(r){return function(e){return e.stopPropagation(),r.call(this,e)}}function m(r,e,t){t==null?r.removeAttribute(e):r.getAttribute(e)!==t&&r.setAttribute(e,t)}function Zc(r){return Array.from(r.childNodes)}function H(r,e){e=""+e,r.data!==e&&(r.data=e)}function Xt(r,e){r.value=e??""}function ze(r,e,t,o){t==null?r.style.removeProperty(e):r.style.setProperty(e,t,o?"important":"")}function j(r,e,t){r.classList.toggle(e,!!t)}function Do(r,e,{bubbles:t=!1,cancelable:o=!1}={}){return new CustomEvent(r,{detail:e,bubbles:t,cancelable:o})}var st=class{is_svg=!1;e=void 0;n=void 0;t=void 0;a=void 0;constructor(e=!1){this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,o=null){this.e||(this.is_svg?this.e=Qr(t.nodeName):this.e=h(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(o)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)w(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(x)}};function jc(r){let e={};return r.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}var kr=new Map,Lr=0;function Fm(r){let e=5381,t=r.length;for(;t--;)e=(e<<5)-e^r.charCodeAt(t);return e>>>0}function Dm(r,e){let t={stylesheet:Gc(e),rules:{}};return kr.set(r,t),t}function Co(r,e,t,o,n,s,i,a=0){let l=16.666/o,c=`{
`;for(let S=0;S<=1;S+=l){let U=e+(t-e)*s(S);c+=S*100+`%{${i(U,1-U)}}
`}let p=c+`100% {${i(t,1-t)}}
}`,u=`__svelte_${Fm(p)}_${a}`,_=vs(r),{stylesheet:g,rules:d}=kr.get(_)||Dm(_,r);d[u]||(d[u]=!0,g.insertRule(`@keyframes ${u} ${p}`,g.cssRules.length));let k=r.style.animation||"";return r.style.animation=`${k?`${k}, `:""}${u} ${o}ms linear ${n}ms 1 both`,Lr+=1,u}function Eo(r,e){let t=(r.style.animation||"").split(", "),o=t.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),n=t.length-o.length;n&&(r.style.animation=o.join(", "),Lr-=n,Lr||Cm())}function Cm(){No(()=>{Lr||(kr.forEach(r=>{let{ownerNode:e}=r.stylesheet;e&&x(e)}),kr.clear())})}var Lt;function Ke(r){Lt=r}function Nr(){if(!Lt)throw new Error("Function called outside component initialization");return Lt}function me(r){Nr().$$.on_mount.push(r)}function Je(){let r=Nr();return(e,t,{cancelable:o=!1}={})=>{let n=r.$$.callbacks[e];if(n){let s=Do(e,t,{cancelable:o});return n.slice().forEach(i=>{i.call(r,s)}),!s.defaultPrevented}return!0}}function eo(r,e){let t=r.$$.callbacks[e.type];t&&t.slice().forEach(o=>o.call(this,e))}var Pt=[];var Ae=[],oo=[],ys=[],Vc=Promise.resolve(),Qs=!1;function Ss(){Qs||(Qs=!0,Vc.then(it))}function ks(){return Ss(),Vc}function Ye(r){oo.push(r)}function Kc(r){ys.push(r)}var ws=new Set,to=0;function it(){if(to!==0)return;let r=Lt;do{try{for(;to<Pt.length;){let e=Pt[to];to++,Ke(e),Em(e.$$)}}catch(e){throw Pt.length=0,to=0,e}for(Ke(null),Pt.length=0,to=0;Ae.length;)Ae.pop()();for(let e=0;e<oo.length;e+=1){let t=oo[e];ws.has(t)||(ws.add(t),t())}oo.length=0}while(Pt.length);for(;ys.length;)ys.pop()();Qs=!1,ws.clear(),Ke(r)}function Em(r){if(r.fragment!==null){r.update(),be(r.before_update);let e=r.dirty;r.dirty=[-1],r.fragment&&r.fragment.p(r.ctx,e),r.after_update.forEach(Ye)}}function Yc(r){let e=[],t=[];oo.forEach(o=>r.indexOf(o)===-1?e.push(o):t.push(o)),t.forEach(o=>o()),oo=e}var Bo;function Xc(){return Bo||(Bo=Promise.resolve(),Bo.then(()=>{Bo=null})),Bo}function Uo(r,e,t){r.dispatchEvent(Do(`${e?"intro":"outro"}${t}`))}var Fr=new Set,xt;function ce(){xt={r:0,c:[],p:xt}}function pe(){xt.r||be(xt.c),xt=xt.p}function C(r,e){r&&r.i&&(Fr.delete(r),r.i(e))}function I(r,e,t,o){if(r&&r.o){if(Fr.has(r))return;Fr.add(r),xt.c.push(()=>{Fr.delete(r),o&&(t&&r.d(1),o())}),r.o(e)}else o&&o()}var ep={duration:0};function tp(r,e,t){let o={direction:"in"},n=e(r,t,o),s=!1,i,a,l=0;function c(){i&&Eo(r,i)}function p(){let{delay:_=0,duration:g=300,easing:d=Mt,tick:k=B,css:S}=n||ep;S&&(i=Co(r,0,1,g,_,d,S,l++)),k(0,1);let U=vr()+_,N=U+g;a&&a.abort(),s=!0,Ye(()=>Uo(r,!0,"start")),a=wr(E=>{if(s){if(E>=N)return k(1,0),Uo(r,!0,"end"),c(),s=!1;if(E>=U){let Q=d((E-U)/g);k(Q,1-Q)}}return s})}let u=!1;return{start(){u||(u=!0,Eo(r),kt(n)?(n=n(o),Xc().then(p)):p())},invalidate(){u=!1},end(){s&&(c(),s=!1)}}}function no(r,e,t,o){let s=e(r,t,{direction:"both"}),i=o?0:1,a=null,l=null,c=null,p;function u(){c&&Eo(r,c)}function _(d,k){let S=d.b-i;return k*=Math.abs(S),{a:i,b:d.b,d:S,duration:k,start:d.start,end:d.start+k,group:d.group}}function g(d){let{delay:k=0,duration:S=300,easing:U=Mt,tick:N=B,css:E}=s||ep,Q={start:vr()+k,b:d};d||(Q.group=xt,xt.r+=1),"inert"in r&&(d?p!==void 0&&(r.inert=p):(p=r.inert,r.inert=!0)),a||l?l=Q:(E&&(u(),c=Co(r,i,d,S,k,U,E)),d&&N(0,1),a=_(Q,S),Ye(()=>Uo(r,d,"start")),wr(L=>{if(l&&L>l.start&&(a=_(l,S),l=null,Uo(r,a.b,"start"),E&&(u(),c=Co(r,i,a.b,a.duration,0,U,s.css))),a){if(L>=a.end)N(i=a.b,1-i),Uo(r,a.b,"end"),l||(a.b?u():--a.group.r||be(a.group.c)),a=null;else if(L>=a.start){let F=L-a.start;i=a.a+a.d*U(F/a.duration),N(i,1-i)}}return!!(a||l)}))}return{run(d){kt(s)?Xc().then(()=>{s=s({direction:d?"in":"out"}),g(d)}):g(d)},end(){u(),a=l=null}}}function ro(r,e){let t=e.token={};function o(n,s,i,a){if(e.token!==t)return;e.resolved=a;let l=e.ctx;i!==void 0&&(l=l.slice(),l[i]=a);let c=n&&(e.current=n)(l),p=!1;e.block&&(e.blocks?e.blocks.forEach((u,_)=>{_!==s&&u&&(ce(),I(u,1,1,()=>{e.blocks[_]===u&&(e.blocks[_]=null)}),pe())}):e.block.d(1),c.c(),C(c,1),c.m(e.mount(),e.anchor),p=!0),e.block=c,e.blocks&&(e.blocks[s]=c),p&&it()}if(Pc(r)){let n=Nr();if(r.then(s=>{Ke(n),o(e.then,1,e.value,s),Ke(null)},s=>{if(Ke(n),o(e.catch,2,e.error,s),Ke(null),!e.hasCatch)throw s}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,r),!0;e.resolved=r}}function Dr(r,e,t){let o=e.slice(),{resolved:n}=r;r.current===r.then&&(o[r.value]=n),r.current===r.catch&&(o[r.error]=n),r.block.p(o,t)}function _e(r){return r?.length!==void 0?r:Array.from(r)}function op(r,e){r.d(1),e.delete(r.key)}function np(r,e,t,o,n,s,i,a,l,c,p,u){let _=r.length,g=s.length,d=_,k={};for(;d--;)k[r[d].key]=d;let S=[],U=new Map,N=new Map,E=[];for(d=g;d--;){let A=u(n,s,d),R=t(A),K=i.get(R);K?o&&E.push(()=>K.p(A,e)):(K=c(R,A),K.c()),U.set(R,S[d]=K),R in k&&N.set(R,Math.abs(d-k[R]))}let Q=new Set,L=new Set;function F(A){C(A,1),A.m(a,p),i.set(A.key,A),p=A.first,g--}for(;_&&g;){let A=S[g-1],R=r[_-1],K=A.key,se=R.key;A===R?(p=A.first,_--,g--):U.has(se)?!i.has(K)||Q.has(K)?F(A):L.has(se)?_--:N.get(K)>N.get(se)?(L.add(K),F(A)):(Q.add(se),_--):(l(R,i),_--)}for(;_--;){let A=r[_];U.has(A.key)||l(A,i)}for(;g;)F(S[g-1]);return be(E),S}var Bm=["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],Um=new Set([...Bm]);function rp(r,e,t){let o=r.$$.props[e];o!==void 0&&(r.$$.bound[o]=t,t(r.$$.ctx[o]))}function ee(r){r&&r.c()}function Y(r,e,t){let{fragment:o,after_update:n}=r.$$;o&&o.m(e,t),Ye(()=>{let s=r.$$.on_mount.map(xs).filter(kt);r.$$.on_destroy?r.$$.on_destroy.push(...s):be(s),r.$$.on_mount=[]}),n.forEach(Ye)}function X(r,e){let t=r.$$;t.fragment!==null&&(Yc(t.after_update),be(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Im(r,e){r.$$.dirty[0]===-1&&(Pt.push(r),Ss(),r.$$.dirty.fill(0)),r.$$.dirty[e/31|0]|=1<<e%31}function z(r,e,t,o,n,s,i=null,a=[-1]){let l=Lt;Ke(r);let c=r.$$={fragment:null,ctx:[],props:s,update:B,not_equal:n,bound:xr(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:xr(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};i&&i(c.root);let p=!1;if(c.ctx=t?t(r,e.props||{},(u,_,...g)=>{let d=g.length?g[0]:_;return c.ctx&&n(c.ctx[u],c.ctx[u]=d)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](d),p&&Im(r,u)),_}):[],c.update(),p=!0,be(c.before_update),c.fragment=o?o(c.ctx):!1,e.target){if(e.hydrate){Jc();let u=Zc(e.target);c.fragment&&c.fragment.l(u),u.forEach(x)}else c.fragment&&c.fragment.c();e.intro&&C(r.$$.fragment),Y(r,e.target,e.anchor),Oc(),it()}Ke(l)}var Tm;typeof HTMLElement=="function"&&(Tm=class extends HTMLElement{$$ctor;$$s;$$c;$$cn=!1;$$d={};$$r=!1;$$p_d={};$$l={};$$l_u=new Map;constructor(r,e,t){super(),this.$$ctor=r,this.$$s=e,t&&this.attachShadow({mode:"open"})}addEventListener(r,e,t){if(this.$$l[r]=this.$$l[r]||[],this.$$l[r].push(e),this.$$c){let o=this.$$c.$on(r,e);this.$$l_u.set(e,o)}super.addEventListener(r,e,t)}removeEventListener(r,e,t){if(super.removeEventListener(r,e,t),this.$$c){let o=this.$$l_u.get(e);o&&(o(),this.$$l_u.delete(e))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let r=function(n){return()=>{let s;return{c:function(){s=h("slot"),n!=="default"&&m(s,"name",n)},m:function(l,c){w(l,s,c)},d:function(l){l&&x(s)}}}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;let e={},t=jc(this);for(let n of this.$$s)n in t&&(e[n]=[r(n)]);for(let n of this.attributes){let s=this.$$g_p(n.name);s in this.$$d||(this.$$d[s]=Ls(s,n.value,this.$$p_d,"toProp"))}for(let n in this.$$p_d)!(n in this.$$d)&&this[n]!==void 0&&(this.$$d[n]=this[n],delete this[n]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:e,$$scope:{ctx:[]}}});let o=()=>{this.$$r=!0;for(let n in this.$$p_d)if(this.$$d[n]=this.$$c.$$.ctx[this.$$c.$$.props[n]],this.$$p_d[n].reflect){let s=Ls(n,this.$$d[n],this.$$p_d,"toAttribute");s==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,s)}this.$$r=!1};this.$$c.$$.after_update.push(o),o();for(let n in this.$$l)for(let s of this.$$l[n]){let i=this.$$c.$on(n,s);this.$$l_u.set(s,i)}this.$$l={}}}attributeChangedCallback(r,e,t){this.$$r||(r=this.$$g_p(r),this.$$d[r]=Ls(r,t,this.$$p_d,"toProp"),this.$$c?.$set({[r]:this.$$d[r]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(r){return Object.keys(this.$$p_d).find(e=>this.$$p_d[e].attribute===r||!this.$$p_d[e].attribute&&e.toLowerCase()===r)||r}});function Ls(r,e,t,o){let n=t[r]?.type;if(e=n==="Boolean"&&typeof e!="boolean"?e!=null:e,!o||!t[r])return e;if(o==="toAttribute")switch(n){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(n){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}var $=class{$$=void 0;$$set=void 0;$destroy(){X(this,1),this.$destroy=B}$on(e,t){if(!kt(t))return B;let o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{let n=o.indexOf(t);n!==-1&&o.splice(n,1)}}$set(e){this.$$set&&!Rc(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}};var sp="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(sp);var{Map:Mm}=Fo;function ip(r,e,t){let o=r.slice();o[12]=e[t][0],o[13]=e[t][1];let n=o[13][0];o[14]=n;let s=o[13][1];return o[15]=s,o}function ap(r,e){let t,o,n,s,i=e[14]+"",a,l,c,p;function u(){return e[7](e[12])}return{key:r,first:null,c(){t=h("div"),o=h("div"),n=D(),s=h("div"),a=T(i),l=D(),m(o,"class","home_viewsettings_checkbox svelte-1xzkesz"),j(o,"checked",e[15]),m(s,"class","home_viewsettings_label svelte-1xzkesz"),m(t,"class","home_viewsettings_checkboxrow ellipsis svelte-1xzkesz"),this.first=t},m(_,g){w(_,t,g),f(t,o),f(t,n),f(t,s),f(s,a),f(t,l),c||(p=ne(t,"click",u),c=!0)},p(_,g){e=_,g&1&&j(o,"checked",e[15]),g&1&&i!==(i=e[14]+"")&&H(a,i)},d(_){_&&x(t),c=!1,p()}}}function Pm(r){let e,t,o=v(ul)+"",n,s,i,a,l,c,p,u,_=[],g=new Mm,d,k,S=_e(r[0].entries()),U=N=>N[12];for(let N=0;N<S.length;N+=1){let E=ip(r,S,N),Q=U(E);g.set(Q,_[N]=ap(Q,E))}return{c(){e=h("div"),t=h("div"),n=T(o),s=D(),i=h("img"),l=D(),c=h("div"),p=h("div"),p.textContent=`${v(ma)}`,u=D();for(let N=0;N<_.length;N+=1)_[N].c();$e(i.src,a="//store.cloudflare.steamstatic.com/public/images/v6/btn_arrow_down_padded_white.png")||m(i,"src",a),m(i,"alt",""),m(i,"class","svelte-1xzkesz"),m(t,"class","es_customize_title svelte-1xzkesz"),m(p,"class","home_viewsettings_instructions svelte-1xzkesz"),m(c,"class","home_viewsettings_popup svelte-1xzkesz"),m(e,"class","store_header_btn_gray store_header_btn svelte-1xzkesz"),m(e,"id","es_customize_btn"),j(e,"active",r[1])},m(N,E){w(N,e,E),f(e,t),f(t,n),f(t,s),f(t,i),f(e,l),f(e,c),f(c,p),f(c,u);for(let Q=0;Q<_.length;Q+=1)_[Q]&&_[Q].m(c,null);d||(k=[ne(c,"click",Hc(r[6])),ne(e,"click",r[8]),ne(e,"mouseleave",r[9])],d=!0)},p(N,[E]){E&5&&(S=_e(N[0].entries()),_=np(_,E,U,1,N,S,g,c,op,ap,null,ip)),E&2&&j(e,"active",N[1])},i:B,o:B,d(N){N&&x(e);for(let E=0;E<_.length;E+=1)_[E].d();d=!1,be(k)}}}function lp(r){let e=r.querySelector("h1, h2, .home_title, .home_section_title");if(!e)return"";let t="";for(let o of e.childNodes)o.nodeType===Node.TEXT_NODE&&(t+=o.textContent.trim());return t.toLowerCase()}function Rm(r,e,t){let{type:o}=e,{setup:n=[]}=e,{dynamicSelector:s=void 0}=e,i=new Map,a=!1;function l(d){let k=i.get(d),S=!k[1];k[1]=S,i.set(d,k);for(let U of document.querySelectorAll(`[data-as-customizer='${d}']`))U.classList.toggle("esi-shown",S),U.classList.toggle("esi-hidden",!S);o==="app"?(b.customize_apppage[d]=S,b.customize_apppage=b.customize_apppage):o==="frontpage"&&(b.customize_frontpage[d]=S,b.customize_frontpage=b.customize_frontpage),t(0,i)}function c(d){let k=o==="app"?b.customize_apppage:b.customize_frontpage;for(let[S,U,N,E]of d){if(!U)continue;let Q=k[S]??!0,L=typeof U=="string"?[...document.querySelectorAll(U)]:[U];for(let F of L)getComputedStyle(F).display==="none"&&!E||(typeof N!="string"||N==="")&&(N=lp(F),N==="")||(F.classList.toggle("esi-shown",Q),F.classList.toggle("esi-hidden",!Q),F.dataset.asCustomizer=S);N&&i.set(S,[N,Q])}t(0,i)}me(()=>{if(c(n),s){let d=[];for(let k of document.querySelectorAll(s)){if(k.closest("[data-as-customizer]")||k.querySelector("[data-as-customizer]")||k.style.display==="none")continue;let S=lp(k);if(S==="")return;d.push([`dynamic_${S}`,k])}}});function p(d){eo.call(this,r,d)}let u=d=>l(d),_=()=>t(1,a=!a),g=()=>t(1,a=!1);return r.$$set=d=>{"type"in d&&t(3,o=d.type),"setup"in d&&t(4,n=d.setup),"dynamicSelector"in d&&t(5,s=d.dynamicSelector)},[i,a,l,o,n,s,p,u,_,g]}var Ns=class extends ${constructor(e){super(),z(this,e,Rm,Pm,q,{type:3,setup:4,dynamicSelector:5})}},Fs=Ns;var Ao=class extends P{apply(){let e=document.querySelector("#cart_status_data");if(!e)return;let t=e.firstElementChild??void 0;this.context.type===je.APP?new Fs({target:e,anchor:t,props:{type:"app",setup:this.getAppPageSetup()}}):this.context.type===je.STORE_FRONT&&(document.addEventListener("renderComplete",()=>{new Fs({target:e,anchor:t,props:{type:"frontpage",setup:this.getFrontPageSetup(),dynamicSelector:".home_page_body_ctn .home_ctn:not(.esi-customizer), .home_pagecontent_ctn"}})}),le.insertScript("scriptlets/Store/Common/storeFrontCustomizer.js"))}getAppPageSetup(){function e(t){let o=document.querySelector(t);return o&&o.closest(".game_page_autocollapse_ctn")}return[["franchisenotice",".franchise_notice",v(za)],["eaheader",".early_access_header:not(.es_coupon_info)",v(Pa)],["eabanner",".early_access_banner",v(Ra)],["recentupdates","[data-featuretarget=events-row]",v(Ma)],["reviews","#game_area_reviews"],["about",e("#game_area_description")],["contentwarning",e("#game_area_content_descriptors")],["sysreq",e(".sys_req")],["legal",e("#game_area_legal"),v(qa)],["moredlcfrombasegame","#moredlcfrombasegame_block"],["franchise","#franchise_block",v(Ja)],["morelikethis","#recommended_block"],["recommendedbycurators",".steam_curators_block"],["customerreviews","#app_reviews_hash"],["workshop",e("[href^='https://steamcommunity.com/workshop/browse']"),v(Wa)],["greenlight",e("[href^='https://steamcommunity.com/greenlight']"),v($a)]]}getFrontPageSetup(){function e(t){let o=document.querySelector(t);return o&&o.closest(".home_ctn")}return[["featuredrecommended",".home_cluster_ctn"],["trendingamongfriends",".friends_recently_purchased","",!0],["discoveryqueue",".discovery_queue_ctn"],["curators",".steam_curators_ctn",v(jr)],["morecuratorrecommendations",".apps_recommended_by_curators_ctn",v(jr)],["fromdevelopersandpublishersthatyouknow",".recommended_creators_ctn"],["popularvrgames",".best_selling_vr_ctn"],["homepagetabs",".tab_container",v(da)],["gamesstreamingnow",".live_streams_ctn","",!0],["updatesandoffers",".marketingmessage_area","",!0],["topnewreleases",".top_new_releases",v(Aa)],["homepagesidebar","body:not(.no_home_gutter) .home_page_gutter",v(Ia)],["specialoffers",e(".special_offers")],["browsesteam",e(".big_buttons.home_page_content")],["recentlyupdated",e(".recently_updated_block")],["under",e("[class*='specials_under']")]]}};function Wm(r){let e,t,o;return{c(){e=h("div"),t=h("span"),o=T(r[0]),m(t,"class","svelte-1iirt72"),m(e,"class","drm_warning svelte-1iirt72")},m(n,s){w(n,e,s),f(e,t),f(t,o)},p(n,[s]){s&1&&H(o,n[0])},i:B,o:B,d(n){n&&x(e)}}}function $m(r,e,t){let{drmString:o}=e;return r.$$set=n=>{"drmString"in n&&t(0,o=n.drmString)},[o]}var Ds=class extends ${constructor(e){super(),z(this,e,$m,Wm,q,{drmString:0})}},cp=Ds;var Io=class extends P{constructor(){super(...arguments);this.excludedAppids=[21690]}checkPrerequisites(){return b.showdrm&&(!this.context.appid||!this.excludedAppids.includes(this.context.appid))}getTextFromDRMNotices(){let t=[];for(let o of document.querySelectorAll(".DRM_notice")){if(o.querySelector("a[onclick^=ShowEULA]"))continue;let n="";for(let s of o.childNodes)s.nodeType===Node.TEXT_NODE?n+=s.textContent.trim():s.nodeName==="BR"&&(n+=", ");t.push(n)}return t}getTextFromGameDetails(){let t="",o=document.querySelector(".language_list");if(!o)return"";for(o=o.nextSibling;o!==null;)t+=o.textContent,o=o.nextSibling;return t}apply(){let t=this.context.type===je.APP,o="";for(let c of document.querySelectorAll(".game_area_sys_req, #game_area_legal"))o+=c.textContent;let n=[],s="";t?(n=this.getTextFromDRMNotices(),o+=n.join("")):(s=this.getTextFromGameDetails(),o+=s),o=o.toLowerCase();let a=[{name:"Games for Windows Live",enabled:o.includes("games for windows live")||o.includes("games for windows - live")||o.includes("online play requires log-in to games for windows")||o.includes("installation of the games for windows live software")||o.includes("multiplayer play and other live features included at no charge")||o.includes("www.gamesforwindows.com/live")},{name:"Ubisoft Connect",enabled:o.includes("uplay")||o.includes("ubisoft account")||o.includes("ubisoft connect")},{name:"SecuROM",enabled:o.includes("securom")},{name:"Tages",enabled:/\b(tages|solidshield)\b/.test(o)&&!/angebote des tages/.test(o)},{name:"Stardock Account required",enabled:o.includes("stardock account")},{name:"Rockstar Social Club",enabled:o.includes("rockstar social club")||o.includes("rockstar games social club")},{name:"Kalypso Launcher",enabled:o.includes("requires a kalypso account")},{name:"Denuvo Anti-Tamper",enabled:o.includes("denuvo")},{name:"EA app (Origin)",enabled:o.includes("origin client")||o.includes("ea account")||o.includes("ea app")},{name:"Microsoft Xbox Live",enabled:o.includes("xbox live")}].flatMap(({name:c,enabled:p})=>p?[c]:[]),l;if(a.length>0)l=v(t?ga:pl,{drmlist:`(${a.join(", ")})`});else{let c=/\b(drm|account|steam)\b/i;t?l=n.find(p=>c.test(p)):c.test(s)&&(l=s)}if(l){let c=document.querySelector("#game_area_purchase, #game_area_purchase_top");if(!c)throw new Error("Node not found");new cp({target:c,anchor:c.firstElementChild,props:{drmString:l}})}}};var nt=class{static getVariable(e,t){if(typeof e=="string"){let o=e.match(t);return o&&o[1]?o[1]:null}for(let o of e.querySelectorAll("script"))if(o.textContent){let n=o.textContent.match(t);if(n)return n&&n[1]?n[1]:null}return null}static getStringVariable(e,t=document){let o=typeof e=="string"?new RegExp(`${e}\\s*=\\s*['"](.+?)['"];`):e;return this.getVariable(t,o)}static getIntVariable(e,t=document){let o=typeof e=="string"?new RegExp(`${e}\\s*=\\s*(.+?);`):e,n=this.getVariable(t,o);return n?Number(n):null}static getArrayVariable(e,t=document){let o=typeof e=="string"?new RegExp(`${e}\\s*=\\s*(\\[.+?]);`):e,n=this.getVariable(t,o);return n?JSON.parse(n):null}static getObjectVariable(e,t=document){let o=typeof e=="string"?new RegExp(`${e}\\s*=\\s*(\\{.+?});`):e,n=this.getVariable(t,o);return n?JSON.parse(n):null}};var Cs=[{id:1,abbr:"USD",symbol:"$",hint:"United States Dollars",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"$",thousand:",",decimal:".",right:!1}},{id:2,abbr:"GBP",symbol:"\xA3",hint:"British Pound",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\xA3",thousand:",",decimal:".",right:!1}},{id:3,abbr:"EUR",symbol:"\u20AC",hint:"European Union Euro",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20AC",thousand:" ",decimal:",",right:!0}},{id:4,abbr:"CHF",symbol:"CHF",hint:"Swiss Francs",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"CHF ",thousand:"'",decimal:".",right:!1}},{id:5,abbr:"RUB",symbol:"p\u0443\u0431",hint:"Russian Rouble",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!0,symbolFormat:" p\u0443\u0431.",thousand:"",decimal:",",right:!0}},{id:6,abbr:"PLN",symbol:"z\u0142",hint:"Polish Z\u0142oty",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" z\u0142",thousand:" ",decimal:",",right:!0}},{id:7,abbr:"BRL",symbol:"R$",hint:"Brazilian Reals",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"R$ ",thousand:".",decimal:",",right:!1}},{id:8,abbr:"JPY",symbol:"\xA5",hint:"Japanese Yen",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!1,symbolFormat:"\xA5 ",thousand:" ",group:4,decimal:".",right:!1}},{id:9,abbr:"NOK",symbol:"kr",hint:"Norwegian Krone",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" kr",thousand:".",decimal:",",right:!0}},{id:10,abbr:"IDR",symbol:"Rp",hint:"Indonesian Rupiah",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!1,symbolFormat:"Rp ",thousand:" ",decimal:".",right:!1}},{id:11,abbr:"MYR",symbol:"RM",hint:"Malaysian Ringgit",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"RM",thousand:",",decimal:".",right:!1}},{id:12,abbr:"PHP",symbol:"P",hint:"Philippine Pes",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"P",thousand:",",decimal:".",right:!1}},{id:13,abbr:"SGD",symbol:"S$",hint:"Singapore Dollar",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"S$",thousand:",",decimal:".",right:!1}},{id:14,abbr:"THB",symbol:"\u0E3F",hint:"Thai Baht",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u0E3F",thousand:",",decimal:".",right:!1}},{id:15,abbr:"VND",symbol:"\u20AB",hint:"Vietnamese Dong",multiplier:100,unit:5e4,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20AB",thousand:",",decimal:".",right:!1}},{id:16,abbr:"KRW",symbol:"\u20A9",hint:"South Korean Won",multiplier:100,unit:1e3,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20A9",thousand:",",decimal:".",right:!1}},{id:17,abbr:"TRY",symbol:"TL",hint:"Turkish Lira",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" TL",thousand:"",decimal:",",right:!0}},{id:18,abbr:"UAH",symbol:"\u20B4",hint:"Ukrainian Hryvnia",multiplier:100,unit:100,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20B4",thousand:"",decimal:",",right:!0}},{id:19,abbr:"MXN",symbol:"Mex$",hint:"Mexican Peso",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"Mex$ ",thousand:",",decimal:".",right:!1}},{id:20,abbr:"CAD",symbol:"CDN$",hint:"Canadian Dollars",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"CDN$ ",thousand:",",decimal:".",right:!1}},{id:21,abbr:"AUD",symbol:"A$",hint:"Australian Dollars",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"A$ ",thousand:",",decimal:".",right:!1}},{id:22,abbr:"NZD",symbol:"NZ$",hint:"New Zealand Dollar",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"NZ$ ",thousand:",",decimal:".",right:!1}},{id:23,abbr:"CNY",symbol:null,hint:"Chinese Renminbi (yuan)",multiplier:100,unit:100,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\xA5 ",thousand:",",decimal:".",right:!1}},{id:24,abbr:"INR",symbol:"\u20B9",hint:"Indian Rupee",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!1,symbolFormat:"\u20B9 ",thousand:",",decimal:".",right:!1}},{id:25,abbr:"CLP",symbol:"CLP$",hint:"Chilean Peso",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!0,symbolFormat:"CLP$ ",thousand:".",decimal:",",right:!1}},{id:26,abbr:"PEN",symbol:"S/.",hint:"Peruvian Nuevo Sol",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"S/.",thousand:",",decimal:".",right:!1}},{id:27,abbr:"COP",symbol:"COL$",hint:"Colombian Peso",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!0,symbolFormat:"COL$ ",thousand:".",decimal:",",right:!1}},{id:28,abbr:"ZAR",symbol:"R ",hint:"South African Rand",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"R ",thousand:" ",decimal:".",right:!1}},{id:29,abbr:"HKD",symbol:"HK$",hint:"Hong Kong Dollar",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"HK$ ",thousand:",",decimal:".",right:!1}},{id:30,abbr:"TWD",symbol:"NT$",hint:"New Taiwan Dollar",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!1,symbolFormat:"NT$ ",thousand:",",decimal:".",right:!1}},{id:31,abbr:"SAR",symbol:"SR",hint:"Saudi Riyal",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" SR",thousand:",",decimal:".",right:!0}},{id:32,abbr:"AED",symbol:"DH",hint:"United Arab Emirates Dirham",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" DH",thousand:",",decimal:".",right:!0}},{id:34,abbr:"ARS",symbol:"ARS$",hint:"Argentine Peso",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"ARS$ ",thousand:".",decimal:",",right:!1}},{id:35,abbr:"ILS",symbol:"\u20AA",hint:"Israeli New Shekel",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20AA",thousand:",",decimal:".",right:!1}},{id:37,abbr:"KZT",symbol:"\u20B8",hint:"Kazakhstani Tenge",multiplier:100,unit:100,format:{places:2,hidePlacesWhenZero:!0,symbolFormat:"\u20B8 ",thousand:" ",decimal:".",right:!1}},{id:38,abbr:"KWD",symbol:"KD",hint:"Kuwaiti Dinar",multiplier:100,unit:1,format:{places:3,hidePlacesWhenZero:!1,symbolFormat:" KD",thousand:",",decimal:".",right:!0}},{id:39,abbr:"QAR",symbol:"QR",hint:"Qatari Riyal",multiplier:100,unit:1,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:" QR",thousand:",",decimal:".",right:!0}},{id:40,abbr:"CRC",symbol:"\u20A1",hint:"Costa Rican Col\xF3n",multiplier:100,unit:500,format:{places:2,hidePlacesWhenZero:!1,symbolFormat:"\u20A1",thousand:".",decimal:",",right:!1}},{id:41,abbr:"UYU",symbol:"$U",hint:"Uruguayan Peso",multiplier:100,unit:100,format:{places:0,hidePlacesWhenZero:!0,symbolFormat:"$U",thousand:",",decimal:".",right:!1}}];var Oe=class{static fetchPrices(e,t,o,n,s,i){return O.send("prices",{country:e,apps:t,subs:o,bundles:n,voucher:s,shops:i})}static fetchDlcInfo(e){return O.send("dlcinfo",{appid:e})}static getStorePageData(e){return O.send("storepagedata",{appid:e})}static expireStorePageData(e){return O.send("storepagedata.expiry",{appid:e})}static getRates(e){return O.send("rates",{to:e})}static clearRates(){return O.send("clearrates")}static isEarlyAccess(e){return O.send("isea",{appids:e})}static fetchProfileBackground(e){return O.send("profile.background",{appid:e})}static fetchProfileBackgroundGames(){return O.send("profile.background.games")}static fetchTwitchStream(e){return O.send("twitch.stream",{channelId:e})}static fetchMarketCardAveragePrices(e,t){return O.send("market.averagecardprices",{currency:e,appids:t})}static fetchSteamPeek(e){return O.send("steampeek",{appid:e})}static async getProfileData(e){return O.send("profile",{steamId:e})}static clearOwn(e){return O.send("clearownprofile",{steamId:e})}};var we=class{static{this._defaultCurrency="USD"}static get storeCurrency(){return this.storeCurrencyCode}static get customCurrency(){return this.customCurrencyCode}static getRate(e,t){return e===t?1:this._rates?.[e]?.[t]??null}static getCurrencyInfo(e){for(let t of Cs)if(t.abbr===e)return t;throw new Error("Unknown currency")}static currencyIdToCode(e){for(let t of Cs)if(t.id===e)return t.abbr;throw new Error("Unknown currency")}static _getCurrencyCodeFromDom(){let e=document.querySelector("meta[itemprop=priceCurrency][content]");return e?e.getAttribute("content"):null}static _getCurrencyCodeFromWallet(){let e=nt.getObjectVariable("g_rgWalletInfo");return e&&e.wallet_currency?this.currencyIdToCode(e.wallet_currency):null}static async _getStoreCurrency(){let e=this._getCurrencyCodeFromDom()??this._getCurrencyCodeFromWallet();if(e)return e;try{return await De.getCurrency()}catch(t){console.error(t)}return"USD"}static async _loadCurrency(){let e=b.override_price;this.storeCurrencyCode=await this._getStoreCurrency(),this.customCurrencyCode=e==="auto"?this.storeCurrencyCode:e}static async _loadRates(){let e=[this.storeCurrencyCode];this.customCurrencyCode!==this.storeCurrencyCode&&e.push(this.customCurrencyCode),this._rates=await Oe.getRates(e)}static init(){return this.promise||(this.promise=(async()=>{try{await this._loadCurrency(),await this._loadRates()}catch(e){console.error("Failed to initialize Currency"),console.error(e)}})()),this.promise}};var Ie=class r{static parseFromString(e,t=we.storeCurrency){let n=we.getCurrencyInfo(t).format,s=e.trim().replace(n.thousand,"");n.decimal!=="."&&(s=s.replace(n.decimal,".")),s=s.replace(/[^\d.]/g,"");let i=parseFloat(s);return Number.isNaN(i)?null:new r(i,t)}constructor(e=0,t=we.storeCurrency){this.value=e,this.currency=t}inCurrency(e){if(this.currency===e)return this;let t=we.getRate(this.currency,e);if(t===null)throw new Error(`Could not establish conversion rate between ${this.currency} and ${e}`);return new r(this.value*t,e)}formattedValue(){return this.stringify(!1)}toString(){return this.stringify()}stringify(e=!0){let o=we.getCurrencyInfo(this.currency).format,n=this.value<0?"-":"",s=Math.abs(this.value).toFixed(o.places).split("."),i=s[0]??"",a=s[1]??"",l=o.group??3,c=[],p;for(p=i.length;p>l;p-=l)c.unshift(i.substring(p-l,p));c.unshift(i.substring(0,p));let u=[n,c.join(o.thousand)];return o.places>0&&(!o.hidePlacesWhenZero||parseInt(a)>0)&&(u.push(o.decimal),u.push(a)),e&&(o.right?u.push(o.symbolFormat):u.unshift(o.symbolFormat)),u.join("")}};function Se(r){b.openinnewtab&&(r.target="_blank",r.rel="noreferrer noopener")}function pp(r,e,t){let o=r.slice();o[5]=e[t];let n=o[5].expiry?new Date(o[5].expiry):null;return o[6]=n,o}function up(r,e,t){let o=r.slice();return o[10]=e[t],o[12]=t,o}function mp(r,e,t){let o=r.slice();return o[13]=e[t],o[15]=t,o}function Es(r){let e=r.slice(),t=e[3](e[5]);return e[9]=t,e}function _p(r){let e,t,o,n=_e(r[0]),s=[];for(let i=0;i<n.length;i+=1)s[i]=xp(pp(r,n,i));return{c(){e=h("h2"),e.textContent=`${v(vl)}`,t=D();for(let i=0;i<s.length;i+=1)s[i].c();o=ue(),m(e,"class","gradientbg es_external_icon")},m(i,a){w(i,e,a),w(i,t,a);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(i,a);w(i,o,a)},p(i,a){if(a&15){n=_e(i[0]);let l;for(l=0;l<n.length;l+=1){let c=pp(i,n,l);s[l]?s[l].p(c,a):(s[l]=xp(c),s[l].c(),s[l].m(o.parentNode,o))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},d(i){i&&(x(e),x(t),x(o)),qe(s,i)}}}function dp(r){let e,t,o,n,s=v(Kr,{package:`${r[5].page.name} ${r[5].title}`})+"",i,a,l,c,p,u,_,g,d,k,S,U,N,E,Q,L,F,A,R,K,se,J,fe,te=r[6]&&fp(r),ye=_e(vp(r[5])),re=[];for(let ae=0;ae<ye.length;ae+=1)re[ae]=hp(up(r,ye,ae));let oe=r[9]&&bp(r);return{c(){e=h("div"),t=h("div"),o=D(),n=h("h1"),i=T(s),a=D(),te&&te.c(),l=D(),c=h("p");for(let ae=0;ae<re.length;ae+=1)re[ae].c();p=D(),u=h("div"),_=h("div"),g=h("div"),d=h("a"),k=h("span"),k.textContent=`${v(wl)}`,N=D(),E=h("div"),oe&&oe.c(),Q=D(),L=h("div"),F=h("a"),A=h("span"),A.textContent=`${v(Ya)}`,se=D(),m(t,"class","game_area_purchase_platform"),m(c,"class","package_contents"),m(d,"class","btn_blue_steamui btn_medium"),m(d,"href",S=r[5].details),m(g,"class","btn_addtocart btn_packageinfo"),m(_,"class","game_purchase_action_bg"),m(F,"class","btn_green_steamui btn_medium"),m(F,"href",R=r[5].url),m(L,"class","btn_addtocart"),m(E,"class","game_purchase_action_bg"),m(u,"class","game_purchase_action"),m(e,"class","game_area_purchase_game")},m(ae,tt){w(ae,e,tt),f(e,t),f(e,o),f(e,n),f(n,i),f(e,a),te&&te.m(e,null),f(e,l),f(e,c);for(let Qe=0;Qe<re.length;Qe+=1)re[Qe]&&re[Qe].m(c,null);f(e,p),f(e,u),f(u,_),f(_,g),f(g,d),f(d,k),f(u,N),f(u,E),oe&&oe.m(E,null),f(E,Q),f(E,L),f(L,F),f(F,A),f(e,se),J||(fe=[Ce(U=Se.call(null,d)),Ce(K=Se.call(null,F))],J=!0)},p(ae,tt){if(tt&1&&s!==(s=v(Kr,{package:`${ae[5].page.name} ${ae[5].title}`})+"")&&H(i,s),ae[6]?te?te.p(ae,tt):(te=fp(ae),te.c(),te.m(e,l)):te&&(te.d(1),te=null),tt&7){ye=_e(vp(ae[5]));let Qe;for(Qe=0;Qe<ye.length;Qe+=1){let co=up(ae,ye,Qe);re[Qe]?re[Qe].p(co,tt):(re[Qe]=hp(co),re[Qe].c(),re[Qe].m(c,null))}for(;Qe<re.length;Qe+=1)re[Qe].d(1);re.length=ye.length}tt&1&&S!==(S=ae[5].details)&&m(d,"href",S),ae[9]?oe?oe.p(ae,tt):(oe=bp(ae),oe.c(),oe.m(E,Q)):oe&&(oe.d(1),oe=null),tt&1&&R!==(R=ae[5].url)&&m(F,"href",R)},d(ae){ae&&x(e),te&&te.d(),qe(re,ae),oe&&oe.d(),J=!1,be(fe)}}}function fp(r){let e,t=v(xl)+"",o,n,s=r[6].toLocaleDateString()+"",i;return{c(){e=h("p"),o=T(t),n=D(),i=T(s),m(e,"class","game_purchase_discount_countdown")},m(a,l){w(a,e,l),f(e,o),f(e,n),f(e,i)},p(a,l){l&1&&s!==(s=a[6].toLocaleDateString()+"")&&H(i,s)},d(a){a&&x(e)}}}function qm(r){let e=v(os,{num:r[10].games.length})+"",t,o;return{c(){t=T(e),o=T(":")},m(n,s){w(n,t,s),w(n,o,s)},p(n,s){s&1&&e!==(e=v(os,{num:n[10].games.length})+"")&&H(t,e)},d(n){n&&(x(t),x(o))}}}function zm(r){let e=v(ns,{tier:v(rs,{num:r[12]+1}),price:r[10].price?r[2](r[10].price).toString():"",num:r[10].games.length})+"",t,o;return{c(){t=T(e),o=T(":")},m(n,s){w(n,t,s),w(n,o,s)},p(n,s){s&1&&e!==(e=v(ns,{tier:v(rs,{num:n[12]+1}),price:n[10].price?n[2](n[10].price).toString():"",num:n[10].games.length})+"")&&H(t,e)},d(n){n&&(x(t),x(o))}}}function Jm(r){let e;return{c(){e=T(",")},m(t,o){w(t,e,o)},d(t){t&&x(e)}}}function gp(r){let e,t,o=r[13].title+"",n,s=r[15]!==0&&Jm(r);return{c(){s&&s.c(),e=D(),t=h("span"),n=T(o),m(t,"class","svelte-1sqt0e0"),j(t,"highlight",r[1]===r[13].title)},m(i,a){s&&s.m(i,a),w(i,e,a),w(i,t,a),f(t,n)},p(i,a){a&1&&o!==(o=i[13].title+"")&&H(n,o),a&3&&j(t,"highlight",i[1]===i[13].title)},d(i){i&&(x(e),x(t)),s&&s.d(i)}}}function hp(r){let e,t,o,n;function s(p,u){return p[5].tiers.length>1?zm:qm}let i=s(r,-1),a=i(r),l=_e(r[10].games),c=[];for(let p=0;p<l.length;p+=1)c[p]=gp(mp(r,l,p));return{c(){e=h("b"),a.c(),t=D();for(let p=0;p<c.length;p+=1)c[p].c();o=D(),n=h("br"),m(e,"class","as_bundle_tier_title")},m(p,u){w(p,e,u),a.m(e,null),w(p,t,u);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(p,u);w(p,o,u),w(p,n,u)},p(p,u){if(i===(i=s(p,u))&&a?a.p(p,u):(a.d(1),a=i(p),a&&(a.c(),a.m(e,null))),u&3){l=_e(p[10].games);let _;for(_=0;_<l.length;_+=1){let g=mp(p,l,_);c[_]?c[_].p(g,u):(c[_]=gp(g),c[_].c(),c[_].m(o.parentNode,o))}for(;_<c.length;_+=1)c[_].d(1);c.length=l.length}},d(p){p&&(x(e),x(t),x(o),x(n)),a.d(),qe(c,p)}}}function bp(r){let e,t=r[2](r[9]).toString()+"",o;return{c(){e=h("div"),o=T(t),m(e,"class","game_purchase_price price"),m(e,"itemprop","price")},m(n,s){w(n,e,s),f(e,o)},p(n,s){s&1&&t!==(t=n[2](n[9]).toString()+"")&&H(o,t)},d(n){n&&x(e)}}}function xp(r){let e=r[6]===null||r[6].valueOf()>Date.now(),t,o=e&&dp(Es(r));return{c(){o&&o.c(),t=ue()},m(n,s){o&&o.m(n,s),w(n,t,s)},p(n,s){s&1&&(e=n[6]===null||n[6].valueOf()>Date.now()),e?o?o.p(Es(n),s):(o=dp(Es(n)),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},d(n){n&&x(t),o&&o.d(n)}}}function Om(r){let e=r[0].length>0&&r[0].some(r[4]),t,o=e&&_p(r);return{c(){o&&o.c(),t=ue()},m(n,s){o&&o.m(n,s),w(n,t,s)},p(n,[s]){s&1&&(e=n[0].length>0&&n[0].some(n[4])),e?o?o.p(n,s):(o=_p(n),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null)},i:B,o:B,d(n){n&&x(t),o&&o.d(n)}}}function vp(r){return r.tiers.filter(e=>e.games.length>0)}function Gm(r,e,t){let{data:o}=e;function n(l){let c=new Ie(l.amount,l.currency);try{c=c.inCurrency(we.customCurrency)}catch{console.warn("Could not convert currency, using country currency")}return c}let s;function i(l){return l.tiers.find(c=>c.games.find(p=>p.title===s))?.price??null}me(()=>{t(1,s=document.querySelector(".apphub_AppName")?.textContent??null)});let a=l=>!l.expiry||Date.parse(l.expiry)>Date.now();return r.$$set=l=>{"data"in l&&t(0,o=l.data)},[o,s,n,i,a]}var Bs=class extends ${constructor(e){super(),z(this,e,Gm,Om,q,{data:0})}},wp=Bs;function Hm(r){let e,t,o;return{c(){e=T("("),t=T(r[1]),o=T(")")},m(n,s){w(n,e,s),w(n,t,s),w(n,o,s)},p:B,d(n){n&&(x(e),x(t),x(o))}}}function Zm(r){let e,t,o,n=r[1]&&Hm(r);return{c(){e=T(r[0]),t=D(),n&&n.c(),o=ue()},m(s,i){w(s,e,i),w(s,t,i),n&&n.m(s,i),w(s,o,i)},p(s,[i]){s[1]&&n.p(s,i)},i:B,o:B,d(s){s&&(x(e),x(t),x(o)),n&&n.d(s)}}}function jm(r,e,t){let{price:o}=e;function n(a){let l=we.customCurrency;if(a.currency!==l)try{return new Ie(a.amount,a.currency).inCurrency(l)}catch{console.warn(`Could not convert currency ${a.currency} to ${l}`)}return null}let s=new Ie(o.amount,o.currency).toString(),i=n(o)?.toString();return r.$$set=a=>{"price"in a&&t(2,o=a.price)},[s,i,o]}var Us=class extends ${constructor(e){super(),z(this,e,jm,Zm,q,{price:2})}},As=Us;function yp(r){let e,t=v(_l)+"",o,n,s,i,a,l,c,p,u,_,g,d=v(ho,{store:G.escape(r[0].current.shop.name)})+"",k,S,U,N,E,Q;l=new As({props:{price:r[0].current.price}});let L=r[0].current.cut>0&&Qp(r),F=r[0].current.voucher&&Sp(r),A=r[4].length>0&&kp(r);return{c(){e=h("a"),o=T(t),i=D(),a=h("span"),ee(l.$$.fragment),c=D(),p=h("a"),L&&L.c(),u=D(),F&&F.c(),_=D(),g=new st(!1),k=D(),A&&A.c(),m(e,"href",n=r[0].urls.info),m(e,"class","svelte-if7f0f"),m(a,"class","itad-pricing__price svelte-if7f0f"),g.a=k,m(p,"href",S=r[0].current.url),m(p,"class","itad-pricing__main svelte-if7f0f")},m(R,K){w(R,e,K),f(e,o),w(R,i,K),w(R,a,K),Y(l,a,null),w(R,c,K),w(R,p,K),L&&L.m(p,null),f(p,u),F&&F.m(p,null),f(p,_),g.m(d,p),f(p,k),A&&A.m(p,null),N=!0,E||(Q=[Ce(s=Se.call(null,e)),Ce(U=Se.call(null,p))],E=!0)},p(R,K){(!N||K&1&&n!==(n=R[0].urls.info))&&m(e,"href",n);let se={};K&1&&(se.price=R[0].current.price),l.$set(se),R[0].current.cut>0?L?L.p(R,K):(L=Qp(R),L.c(),L.m(p,u)):L&&(L.d(1),L=null),R[0].current.voucher?F?F.p(R,K):(F=Sp(R),F.c(),F.m(p,_)):F&&(F.d(1),F=null),(!N||K&1)&&d!==(d=v(ho,{store:G.escape(R[0].current.shop.name)})+"")&&g.p(d),R[4].length>0?A?A.p(R,K):(A=kp(R),A.c(),A.m(p,null)):A&&(A.d(1),A=null),(!N||K&1&&S!==(S=R[0].current.url))&&m(p,"href",S)},i(R){N||(C(l.$$.fragment,R),N=!0)},o(R){I(l.$$.fragment,R),N=!1},d(R){R&&(x(e),x(i),x(a),x(c),x(p)),X(l),L&&L.d(),F&&F.d(),A&&A.d(),E=!1,be(Q)}}}function Qp(r){let e,t,o=r[0].current.cut+"",n,s;return{c(){e=h("span"),t=T("-"),n=T(o),s=T("%"),m(e,"class","itad-pricing__cut svelte-if7f0f")},m(i,a){w(i,e,a),f(e,t),f(e,n),f(e,s)},p(i,a){a&1&&o!==(o=i[0].current.cut+"")&&H(n,o)},d(i){i&&x(e)}}}function Sp(r){let e,t=v(Yr,{voucher:r[0].current.voucher})+"",o;return{c(){e=h("span"),o=T(t),m(e,"class","itad-pricing__voucher svelte-if7f0f")},m(n,s){w(n,e,s),f(e,o)},p(n,s){s&1&&t!==(t=v(Yr,{voucher:n[0].current.voucher})+"")&&H(o,t)},d(n){n&&x(e)}}}function kp(r){let e,t,o=r[4].join(", ")+"",n,s;return{c(){e=h("span"),t=T("("),n=T(o),s=T(")"),m(e,"class","itad-pricing__drm svelte-if7f0f")},m(i,a){w(i,e,a),f(e,t),f(e,n),f(e,s)},p(i,a){a&16&&o!==(o=i[4].join(", ")+"")&&H(n,o)},d(i){i&&x(e)}}}function Lp(r){let e,t=v(dl)+"",o,n,s,i,a,l,c,p,u,_,g=v(ho,{store:G.escape(r[0].lowest.shop.name)})+"",d,k=new Date(r[0].lowest.timestamp).toLocaleDateString()+"",S,U,N,E;l=new As({props:{price:r[0].lowest.price}});let Q=r[0].lowest.cut>0&&Np(r);return{c(){e=h("a"),o=T(t),i=D(),a=h("span"),ee(l.$$.fragment),c=D(),p=h("div"),Q&&Q.c(),u=D(),_=new st(!1),d=D(),S=T(k),m(e,"href",n=r[0].urls.history),m(e,"class","svelte-if7f0f"),m(a,"class","itad-pricing__price svelte-if7f0f"),_.a=d,m(p,"class","itad-pricing__main svelte-if7f0f")},m(L,F){w(L,e,F),f(e,o),w(L,i,F),w(L,a,F),Y(l,a,null),w(L,c,F),w(L,p,F),Q&&Q.m(p,null),f(p,u),_.m(g,p),f(p,d),f(p,S),U=!0,N||(E=Ce(s=Se.call(null,e)),N=!0)},p(L,F){(!U||F&1&&n!==(n=L[0].urls.history))&&m(e,"href",n);let A={};F&1&&(A.price=L[0].lowest.price),l.$set(A),L[0].lowest.cut>0?Q?Q.p(L,F):(Q=Np(L),Q.c(),Q.m(p,u)):Q&&(Q.d(1),Q=null),(!U||F&1)&&g!==(g=v(ho,{store:G.escape(L[0].lowest.shop.name)})+"")&&_.p(g),(!U||F&1)&&k!==(k=new Date(L[0].lowest.timestamp).toLocaleDateString()+"")&&H(S,k)},i(L){U||(C(l.$$.fragment,L),U=!0)},o(L){I(l.$$.fragment,L),U=!1},d(L){L&&(x(e),x(i),x(a),x(c),x(p)),X(l),Q&&Q.d(),N=!1,E()}}}function Np(r){let e,t,o=r[0].lowest.cut+"",n,s;return{c(){e=h("span"),t=T("-"),n=T(o),s=T("%"),m(e,"class","itad-pricing__cut svelte-if7f0f")},m(i,a){w(i,e,a),f(e,t),f(e,n),f(e,s)},p(i,a){a&1&&o!==(o=i[0].lowest.cut+"")&&H(n,o)},d(i){i&&x(e)}}}function Fp(r){let e,t=v(fl)+"",o,n,s,i,a,l=v(Xr,{count:r[0].bundled})+"",c,p,u;return{c(){e=h("a"),o=T(t),i=D(),a=h("div"),c=T(l),m(e,"href",n=r[0].urls.info),m(e,"class","svelte-if7f0f"),m(a,"class","itad-pricing__bundled svelte-if7f0f")},m(_,g){w(_,e,g),f(e,o),w(_,i,g),w(_,a,g),f(a,c),p||(u=Ce(s=Se.call(null,e)),p=!0)},p(_,g){g&1&&n!==(n=_[0].urls.info)&&m(e,"href",n),g&1&&l!==(l=v(Xr,{count:_[0].bundled})+"")&&H(c,l)},d(_){_&&(x(e),x(i),x(a)),p=!1,u()}}}function Vm(r){let e,t,o,n,s=r[0].current&&yp(r),i=r[0].lowest&&Lp(r),a=r[0].bundled&&Fp(r);return{c(){e=h("div"),s&&s.c(),t=D(),i&&i.c(),o=D(),a&&a.c(),m(e,"class","itad-pricing svelte-if7f0f"),ze(e,"margin-top",r[1]),ze(e,"margin-bottom",r[2])},m(l,c){w(l,e,c),s&&s.m(e,null),f(e,t),i&&i.m(e,null),f(e,o),a&&a.m(e,null),r[5](e),n=!0},p(l,[c]){l[0].current?s?(s.p(l,c),c&1&&C(s,1)):(s=yp(l),s.c(),C(s,1),s.m(e,t)):s&&(ce(),I(s,1,1,()=>{s=null}),pe()),l[0].lowest?i?(i.p(l,c),c&1&&C(i,1)):(i=Lp(l),i.c(),C(i,1),i.m(e,o)):i&&(ce(),I(i,1,1,()=>{i=null}),pe()),l[0].bundled?a?a.p(l,c):(a=Fp(l),a.c(),a.m(e,null)):a&&(a.d(1),a=null),c&2&&ze(e,"margin-top",l[1]),c&4&&ze(e,"margin-bottom",l[2])},i(l){n||(C(s),C(i),n=!0)},o(l){I(s),I(i),n=!1},d(l){l&&x(e),s&&s.d(),i&&i.d(),a&&a.d(),r[5](null)}}}function Km(r,e,t){let{data:o}=e,{marginTop:n=void 0}=e,{marginBottom:s=void 0}=e,i,a;o.current&&(a=o.current.drm.filter(c=>c.id!==61).map(c=>c.name));function l(c){Ae[c?"unshift":"push"](()=>{i=c,t(3,i)})}return r.$$set=c=>{"data"in c&&t(0,o=c.data),"marginTop"in c&&t(1,n=c.marginTop),"marginBottom"in c&&t(2,s=c.marginBottom)},[o,n,s,i,a,l]}var Is=class extends ${constructor(e){super(),z(this,e,Km,Vm,q,{data:0,marginTop:1,marginBottom:2})}get data(){return this.$$.ctx[0]}set data(e){this.$$set({data:e}),it()}get marginTop(){return this.$$.ctx[1]}set marginTop(e){this.$$set({marginTop:e}),it()}get marginBottom(){return this.$$.ctx[2]}set marginBottom(e){this.$$set({marginBottom:e}),it()}},Dp=Is;var de=class{static getStoreList(){return O.send("itad.storelist")}static authorize(){return O.send("itad.authorize")}static disconnect(){return O.send("itad.disconnect")}static isConnected(){return O.send("itad.isconnected")}static sync(e=!1){return O.send("itad.sync",{force:e})}static getLastImport(){return O.send("itad.lastimport")}static getSyncEvents(){return O.send("itad.syncevents")}static async inWaitlist(e){return O.send("itad.inwaitlist",{storeIds:e})}static async addToWaitlist(...e){return O.send("itad.addtowaitlist",{appids:e})}static async removeFromWaitlist(...e){return O.send("itad.removefromwaitlist",{appids:e})}static async inCollection(e){return O.send("itad.incollection",{storeIds:e})}static async getFromCollection(e){return O.send("itad.getfromcollection",{storeId:e})}static async pullNotes(){return O.send("itad.notes.pull")}static async pushNotes(e){return O.send("itad.notes.push",{notes:e})}static async pushNote(e,t){return O.send("itad.notes.push",{notes:[[e,t]]})}static async deleteNote(e){return O.send("itad.notes.delete",{appids:[e]})}};var To=class{constructor(e){this.user=e}async _getShops(){let e=b.excluded_stores;if(!b.showallstores&&e.length>0){let t=await de.getStoreList().catch(o=>console.error(o));if(t)return t.map(({id:o})=>o).filter(o=>!e.includes(o))}return[]}async load(e){let t=await Oe.fetchPrices(this.user.storeCountry??"US",e.apps??[],e.subs??[],e.bundles??[],b.showlowestpricecoupon,await this._getShops()),o={prices:[],bundles:[]};for(let[n,s]of Object.entries(t.prices)){let[i,a]=n.split("/");o.prices.push({type:i,id:Number(a),data:s})}return o.bundles=t.bundles,o}};var Mo=class extends P{checkPrerequisites(){return b.showlowestprice}insertPrices(e,t,o){let n=null;if(e==="sub"){let s=document.querySelector(`input[name=subid][value="${t}"]`);s&&(n=s.closest(".game_area_purchase_game_wrapper")||s.closest(".game_area_purchase_game"))}else e==="bundle"&&(n=document.querySelector(`.game_area_purchase_game_wrapper[data-ds-bundleid="${t}"]`)||document.querySelector(`.game_area_purchase_game[data-ds-bundleid="${t}"]`));n&&new Dp({target:n.parentElement,anchor:n,props:{data:o}})}insertBundles(e){let t=document.querySelector("#game_area_purchase")?.nextElementSibling;t&&new wp({target:t.parentElement,anchor:t,props:{data:e}})}async apply(){let e=new To(this.context.user),t=this.context.getAllSubids().map(Number),o=[];for(let n of document.querySelectorAll("[data-ds-bundleid]"))o.push(Number(n.dataset.dsBundleid));t.length===0&&o.length===0||e.load({subs:t,bundles:o}).then(({prices:n,bundles:s})=>{for(let{type:i,id:a,data:l}of n)this.insertPrices(i,a,l);this.insertBundles(s)})}};function Ym(r){let e,t;return{c(){e=h("span"),m(e,"class",t="es-flag-"+r[0]+" svelte-1l58fp6")},m(o,n){w(o,e,n)},p(o,[n]){n&1&&t!==(t="es-flag-"+o[0]+" svelte-1l58fp6")&&m(e,"class",t)},i:B,o:B,d(o){o&&x(e)}}}function Xm(r,e,t){let{country:o}=e;return r.$$set=n=>{"country"in n&&t(0,o=n.country)},[o]}var Ts=class extends ${constructor(e){super(),z(this,e,Xm,Ym,q,{country:0})}},Cp=Ts;function Ep(r,e,t){let o=r.slice();o[10]=e[t];let n=o[1][o[10]];return o[11]=n,o}function Ms(r){let e=r.slice(),t=Number((e[15].value/e[2].value*100-100).toFixed(2));return e[16]=t,e}function e_(r){let e=r.slice(),t=new Ie(e[11].final/100,e[11].currency);e[14]=t;let o=e[4](e[14],e[10]);return e[15]=o,e}function t_(r){let e;return{c(){e=h("div"),m(e,"class","es_regional_arrow svelte-tc81l5")},m(t,o){w(t,e,o)},d(t){t&&x(e)}}}function o_(r){let e;return{c(){e=h("span"),e.textContent=`${v(el)}`,m(e,"class","es-none svelte-tc81l5")},m(t,o){w(t,e,o)},p:B,d(t){t&&x(e)}}}function Bp(r){let e=r[14].toString()+"",t,o,n,s=r[2]&&r[15]&&Up(Ms(r));return{c(){t=T(e),o=D(),s&&s.c(),n=ue()},m(i,a){w(i,t,a),w(i,o,a),s&&s.m(i,a),w(i,n,a)},p(i,a){a&3&&e!==(e=i[14].toString()+"")&&H(t,e),i[2]&&i[15]?s?s.p(Ms(i),a):(s=Up(Ms(i)),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(i){i&&(x(t),x(o),x(n)),s&&s.d(i)}}}function Up(r){let e,t=r[15].toString()+"",o,n,s,i=Math.abs(r[16])+"",a,l;return{c(){e=h("span"),o=T(t),n=D(),s=h("span"),a=T(i),l=T("%"),m(e,"class","es-converted svelte-tc81l5"),m(s,"class","es-perc svelte-tc81l5"),j(s,"es-perc--higher",r[16]>0),j(s,"es-perc--lower",r[16]<0),j(s,"es-perc--equal",r[16]===0)},m(c,p){w(c,e,p),f(e,o),w(c,n,p),w(c,s,p),f(s,a),f(s,l)},p(c,p){p&3&&t!==(t=c[15].toString()+"")&&H(o,t),p&7&&i!==(i=Math.abs(c[16])+"")&&H(a,i),p&23&&j(s,"es-perc--higher",c[16]>0),p&23&&j(s,"es-perc--lower",c[16]<0),p&23&&j(s,"es-perc--equal",c[16]===0)},d(c){c&&(x(e),x(n),x(s))}}}function Ap(r){let e,t,o,n,s;t=new Cp({props:{country:r[10]}});function i(p,u){return p[11]?Bp:o_}function a(p,u){return u===Bp?e_(p):p}let l=i(r,-1),c=l(a(r,l));return{c(){e=h("div"),ee(t.$$.fragment),o=D(),c.c(),n=D(),m(e,"class","es-regprice svelte-tc81l5")},m(p,u){w(p,e,u),Y(t,e,null),f(e,o),c.m(e,null),f(e,n),s=!0},p(p,u){let _={};u&1&&(_.country=p[10]),t.$set(_),l===(l=i(p,u))&&c?c.p(a(p,l),u):(c.d(1),c=l(a(p,l)),c&&(c.c(),c.m(e,n)))},i(p){s||(C(t.$$.fragment,p),s=!0)},o(p){I(t.$$.fragment,p),s=!1},d(p){p&&x(e),X(t),c.d()}}}function n_(r){let e,t,o,n=b.showregionalprice==="mouse"&&t_(r),s=_e(r[0]),i=[];for(let l=0;l<s.length;l+=1)i[l]=Ap(Ep(r,s,l));let a=l=>I(i[l],1,1,()=>{i[l]=null});return{c(){e=h("div"),n&&n.c(),t=D();for(let l=0;l<i.length;l+=1)i[l].c();m(e,"class","es_regional svelte-tc81l5"),j(e,"es_regional--always",b.showregionalprice==="always"),j(e,"es_regional--onmouse",b.showregionalprice==="mouse")},m(l,c){w(l,e,c),n&&n.m(e,null),f(e,t);for(let p=0;p<i.length;p+=1)i[p]&&i[p].m(e,null);r[8](e),o=!0},p(l,[c]){if(c&23){s=_e(l[0]);let p;for(p=0;p<s.length;p+=1){let u=Ep(l,s,p);i[p]?(i[p].p(u,c),C(i[p],1)):(i[p]=Ap(u),i[p].c(),C(i[p],1),i[p].m(e,null))}for(ce(),p=s.length;p<i.length;p+=1)a(p);pe()}},i(l){if(!o){for(let c=0;c<s.length;c+=1)C(i[c]);o=!0}},o(l){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)I(i[c]);o=!1},d(l){l&&x(e),n&&n.d(),qe(i,l),r[8](null)}}}function r_(r,e,t){let{user:o}=e,{countries:n}=e,{prices:s}=e,{errors:i}=e,{priceNode:a=null}=e,l=null;try{let g=s[o.storeCountry.toLowerCase()];l=new Ie(g.final/100,g.currency).inCurrency(we.customCurrency)}catch(g){p(g)}function c(g,d){try{return g.inCurrency(we.customCurrency)}catch(k){return p(k,d),null}}function p(g,d){let k=d?`Can't show converted price and relative price differences for country code ${d.toUpperCase()}`:"Can't show relative price differences to any other currencies";i.has(k)||(i.add(k),console.group("Regional pricing"),console.warn(k),console.error(g),console.groupEnd())}let u;b.showregionalprice==="mouse"&&(a.classList.add("es_regional_onmouse"),b.regional_hideworld||a.classList.add("es_regional_icon"),a.addEventListener("mouseenter",()=>{let g=a.getBoundingClientRect();t(3,u.style.display="block",u),t(3,u.style.top=`${g.top+window.scrollY-5}px`,u),t(3,u.style.left=`${g.left-u.getBoundingClientRect().width}px`,u)}),a.addEventListener("mouseleave",()=>{t(3,u.style.display="none",u)}));function _(g){Ae[g?"unshift":"push"](()=>{u=g,t(3,u)})}return r.$$set=g=>{"user"in g&&t(5,o=g.user),"countries"in g&&t(0,n=g.countries),"prices"in g&&t(1,s=g.prices),"errors"in g&&t(6,i=g.errors),"priceNode"in g&&t(7,a=g.priceNode)},[n,s,l,u,c,o,i,a,_]}var Ps=class extends ${constructor(e){super(),z(this,e,r_,n_,q,{user:5,countries:0,prices:1,errors:6,priceNode:7})}},Rs=Ps;var Ws=class extends Error{constructor(e){super(e),this.name="LoginError"}},$s=class extends Error{constructor(e){super(e),this.name="ServerOutageError"}},qs=class extends Error{constructor(e){super(e),this.name="OAuth Unauthorized"}},zs=class extends Error{constructor(e,t){super(t),this.code=e}},Js=class extends Error{constructor(e,t){super(e),this.featureName=t}},Po={LoginError:Ws,ServerOutageError:$s,HTTPError:zs,FeatureDependencyError:Js,OAuthUnauthorized:qs};var vt=class r{static{this._fetchFn=typeof content<"u"&&content&&content.fetch||fetch.bind(window)}static async getHttp(e,t={}){let o={method:"GET",credentials:"include",headers:{origin:window.location.origin},referrer:window.location.origin+window.location.pathname,cache:"default",...t};document.dispatchEvent(new CustomEvent("asRequestStart"));let n;try{if(n=await r._fetchFn(e,o),!n.ok)throw new Po.HTTPError(n.status,`HTTP ${n.status} ${n.statusText} for ${n.url}`)}catch(s){throw document.dispatchEvent(new CustomEvent("asRequestError",{detail:s})),s}return document.dispatchEvent(new CustomEvent("asRequestDone")),n}static async getText(e,t={}){return(await this.getHttp(e,t)).text()}static async getJson(e,t={}){return(await this.getHttp(e,t)).json()}static async getBlob(e,t={}){return(await this.getHttp(e,t)).blob()}static async post(e,t,o={}){let n={method:"POST",body:new URLSearchParams(t),credentials:"include",headers:{origin:window.location.origin},referrer:window.location.origin+window.location.pathname,...o};return await r._fetchFn(e,n)}};var Ro=class extends P{checkPrerequisites(){let e=b.regional_countries;return e&&e.length>0&&b.showregionalprice!=="off"}async apply(){let e=b.regional_countries,t=this.context.user.storeCountry.toLowerCase();e.includes(t)||e.push(t);let o=new Set;for(let n of this.context.getAllSubids()){let s={};if(await Promise.all(e.map(async l=>{let c=await vt.getJson(`https://store.steampowered.com/api/packagedetails/?packageids=${n}&cc=${l}`,{credentials:"omit"});if(!c)return;let p=c[n];!p||!p.success||!p.data.price||(s[l]=p.data.price)})),s[t]===void 0)continue;let i=document.querySelector(`input[name=subid][value="${n}"]`).closest(".game_area_purchase_game_wrapper, #game_area_purchase").querySelector(".game_purchase_action"),a=i.closest(".game_area_purchase_game");if(a.classList.add("es_regional_prices"),b.showregionalprice==="always")a.classList.add("es_regional_always"),new Rs({target:i.parentElement,anchor:i,props:{user:this.context.user,countries:e,prices:s,errors:o}});else if(b.showregionalprice==="mouse"){let l=i.querySelector(".price, .discount_prices");new Rs({target:document.body,props:{user:this.context.user,countries:e,prices:s,errors:o,priceNode:l}})}}}};function s_(r){let e,t,o,n,s,i=`${r[0]}%`;return{c(){e=h("div"),t=h("div"),t.textContent=`${r[1]}`,o=D(),n=h("div"),s=h("div"),m(s,"class","es_achievebar_progress svelte-n7asem"),ze(s,"width",i),m(n,"class","es_achievebar svelte-n7asem"),m(e,"class","es_achievebar_ctn svelte-n7asem")},m(a,l){w(a,e,l),f(e,t),f(e,o),f(e,n),f(n,s)},p(a,[l]){l&1&&i!==(i=`${a[0]}%`)&&ze(s,"width",i)},i:B,o:B,d(a){a&&x(e)}}}function i_(r,e,t){let{unlocked:o}=e,{total:n}=e,{percentage:s}=e,i=v(bl,{unlocked:o,total:n,percentage:s});return r.$$set=a=>{"unlocked"in a&&t(2,o=a.unlocked),"total"in a&&t(3,n=a.total),"percentage"in a&&t(0,s=a.percentage)},[s,i,o,n]}var Os=class extends ${constructor(e){super(),z(this,e,i_,s_,q,{unlocked:2,total:3,percentage:0})}},Ip=Os;var Wo=class{static async getAchievementsProgress(e,t){let o;try{let s=await e.getWebApiToken(),i=e.steamId;o=await(await vt.post(`https://api.steampowered.com/IPlayerService/GetAchievementsProgress/v1/?access_token=${s}`,{steamid:i,"appids[0]":String(t)},{credentials:"omit"})).json()}catch{throw new Error("Failed to fetch achievements")}let n=o?.response?.achievement_progress?.[0];if(!n)throw new Error("Failed to find achievements data");return n}};var $o=class extends P{checkPrerequisites(){return b.showachinstore&&this.context.hasAchievements&&this.context.isOwnedAndPlayed}async apply(){let{unlocked:e,total:t,percentage:o}=await Wo.getAchievementsProgress(this.context.user,this.context.communityAppid),n=document.querySelector("#my_activity");new Ip({target:n,anchor:n.firstElementChild??void 0,props:{unlocked:e,total:t,percentage:Math.round(o)}})}};function a_(r){let e,t,o,n,s,i,a=r[0].name+"",l,c,p,u=v(Or,{level:r[0].level})+"",_;return{c(){e=h("div"),t=h("img"),n=D(),s=h("div"),i=h("div"),l=T(a),c=D(),p=h("div"),_=T(u),$e(t.src,o=r[0].iconurl)||m(t,"src",o),m(t,"class","badge_icon svelte-m0doyw"),m(t,"alt","Badge"),m(e,"class","badge_info_image svelte-m0doyw"),m(i,"class","badge_info_title svelte-m0doyw"),m(s,"class","badge_info_description svelte-m0doyw")},m(g,d){w(g,e,d),f(e,t),w(g,n,d),w(g,s,d),f(s,i),f(i,l),f(s,c),f(s,p),f(p,_)},p(g,d){d&1&&!$e(t.src,o=g[0].iconurl)&&m(t,"src",o),d&1&&a!==(a=g[0].name+"")&&H(l,a),d&1&&u!==(u=v(Or,{level:g[0].level})+"")&&H(_,u)},d(g){g&&(x(e),x(n),x(s))}}}function l_(r){let e,t,o,n,s=r[0].nextlevelname+"",i,a,l;return{c(){e=h("div"),t=D(),o=h("div"),n=h("div"),i=T(s),a=D(),l=h("div"),l.textContent=`${v(ra)}`,m(e,"class","badge_empty_circle svelte-m0doyw"),m(n,"class","badge_empty_name svelte-m0doyw"),m(l,"class","badge_empty_name svelte-m0doyw"),m(o,"class","badge_empty_right svelte-m0doyw")},m(c,p){w(c,e,p),w(c,t,p),w(c,o,p),f(o,n),f(n,i),f(o,a),f(o,l)},p(c,p){p&1&&s!==(s=c[0].nextlevelname+"")&&H(i,s)},d(c){c&&(x(e),x(t),x(o))}}}function c_(r){let e,t,o,n,s,i,a,l,c,p,u,_,g=v(r[0].bMaxed?Zr:Gr)+"",d,k;function S(E,Q){return E[0].level===0?l_:a_}let U=S(r,-1),N=U(r);return{c(){e=h("div"),e.textContent=`${v(ua)}`,t=D(),o=h("div"),n=h("div"),N.c(),s=D(),i=h("div"),a=h("div"),a.textContent=`${v(ca,{owned:r[1],possible:r[2]})}`,l=D(),c=h("div"),p=h("div"),p.innerHTML='<img src="//store.steampowered.com/public/images/v6/ico/ico_cards.png" class="category_icon" alt="Cards icon"/>',u=D(),_=h("a"),d=T(g),m(e,"class","block responsive_apppage_details_right heading"),m(a,"class","es_cards_owned svelte-m0doyw"),m(i,"class","es_cards_numbers svelte-m0doyw"),m(p,"class","icon"),m(_,"href",k="//steamcommunity.com/my/gamecards/"+r[0].appid+"/"),m(_,"class","name"),m(c,"class","game_area_details_specs"),m(n,"class","block_content_inner es_badges_progress_block svelte-m0doyw"),m(o,"class","block responsive_apppage_details_right")},m(E,Q){w(E,e,Q),w(E,t,Q),w(E,o,Q),f(o,n),N.m(n,null),f(n,s),f(n,i),f(i,a),f(n,l),f(n,c),f(c,p),f(c,u),f(c,_),f(_,d)},p(E,[Q]){U===(U=S(E,Q))&&N?N.p(E,Q):(N.d(1),N=U(E),N&&(N.c(),N.m(n,s))),Q&1&&g!==(g=v(E[0].bMaxed?Zr:Gr)+"")&&H(d,g),Q&1&&k!==(k="//steamcommunity.com/my/gamecards/"+E[0].appid+"/")&&m(_,"href",k)},i:B,o:B,d(E){E&&(x(e),x(t),x(o)),N.d()}}}function p_(r,e,t){let{data:o}=e,n=o.rgCards.filter(i=>i.owned===1).length,s=o.rgCards.length;return r.$$set=i=>{"data"in i&&t(0,o=i.data)},[o,n,s]}var Gs=class extends ${constructor(e){super(),z(this,e,p_,c_,q,{data:0})}},Tp=Gs;var dt=class{static fetchBadgeInfo(e,t){return O.send("community.badgeinfo",{steamId:e,appid:t})}static getWorkshopFileSize(e,t){return O.send("community.workshopFileSize",{id:e,preventFetch:t})}static getReviews(e,t){return O.send("community.reviews",{steamId:e,pages:t})}static login(e){return O.send("community.login",{profilePath:e})}static logout(e=void 0){return O.send("community.logout",{force:e})}static setStoreCountry(e){return O.send("community.storecountry.set",{newCountry:e})}static getStoreCountry(){return O.send("community.storecountry.get")}};var qo=class extends P{checkPrerequisites(){return!this.context.isDlcLike&&this.context.user.isSignedIn&&b.show_badge_progress}async apply(){let t=(await dt.fetchBadgeInfo(this.context.user.steamId,this.context.communityAppid)).badgedata;if(!t)return;let o=document.querySelector(".rightcol.game_meta_data");if(!o)throw new Error("Node not found");new Tp({target:o,anchor:o.querySelector("#category_block")?.nextElementSibling??void 0,props:{data:t}})}};var zo=class extends P{constructor(){super(...arguments);this._demoLink=null}checkPrerequisites(){return this._demoLink=document.querySelector(".download_demo_button a.btn_medium")?.href.slice(11)??null,!!this._demoLink&&document.querySelector(".demo_above_purchase")===null}apply(){let t=document.querySelector("[data-os=win]")?'<span class="platform_img win"></span>':"",o=document.querySelector("[data-os=mac]")?'<span class="platform_img mac"></span>':"",n=document.querySelector("[data-os=linux]")?'<span class="platform_img linux"></span>':"",s=`<div class="game_area_purchase_game demo_above_purchase">
            <div class="game_area_purchase_platform">
                ${t}${o}${n}
            </div>
            <h1>${v(Ki,{gamename:this.context.appName})}</h1>
            <div class="game_purchase_action">
                <div class="game_purchase_action_bg">
                    <div id="demoGameBtn" class="btn_addtocart">
                        <span class="btn_green_steamui btn_medium">
                            <span>${v(tl)}</span>
                        </span>
                    </div>
                </div>
            </div>
        </div>`,i=document.getElementById("purchase_note");i?G.afterEnd(i,s):G.afterBegin(document.getElementById("game_area_purchase"),s),document.querySelector("#demoGameBtn > .btn_green_steamui").setAttribute("onclick",this._demoLink)}};var Jo=class extends P{checkPrerequisites(){return document.querySelector(".game_area_dlc_section .game_area_dlc_list input[name^=subid]")!==null}apply(){let e=document.querySelector(".game_area_dlc_section");if(!e)return;for(let i of e.querySelectorAll(".game_area_dlc_row")){let a=i.querySelector("input[name^=subid]");if(!a)continue;let l=document.createElement("label");l.classList.add("es_dlc_label"),i.classList.contains("ds_wishlist")?l.classList.add("es_dlc_wishlist"):i.classList.contains("ds_owned")&&l.classList.add("es_dlc_owned");let c=document.createElement("input");c.type="checkbox",c.dataset.esDlcSubid=a.value;let p=i.querySelector(".discount_final_price")??i.querySelector(".game_area_dlc_price"),u=p?Ie.parseFromString(p.textContent):null;u!==null&&(c.dataset.esDlcPrice=String(u.value)),l.append(c);let _=i.querySelector(":scope > div:first-child");_&&(CSS.supports("selector(:has(a))")||(i.classList.contains("dlc_highlight")?_.style.marginLeft="-4px":(_.style.display="flex",_.style.marginLeft="-4px",_.style.padding="0")),_.prepend(l))}new MutationObserver(i=>{for(let a of i){let l=a.target;if(!l.classList.contains("game_area_dlc_row"))continue;let c=l.querySelector(".es_dlc_label");c&&c.classList.toggle("es_dlc_wishlist",l.classList.contains("ds_wishlist"))}}).observe(e.querySelector(".gameDlcBlocks"),{subtree:!0,attributeFilter:["class"]});let t=`<div class="game_purchase_action game_purchase_action_bg" id="es_selected_btn">
                <div class="game_purchase_price price"></div>
                <div class="btn_addtocart">
                    <a class="btn_green_steamui btn_medium">
                        <span>${v(sa)}</span>
                    </a>
                </div>
            </div>`,o=e.querySelector("#game_area_dlc_expanded");o?(G.afterEnd(o,t),G.afterEnd(e,'<div style="clear: both;"></div>')):G.afterEnd(e.querySelector(".gameDlcBlocks"),t);let n=new Set,s=e.querySelector("#es_selected_btn");s.addEventListener("click",()=>{le.insertScript("scriptlets/Store/App/addItemToCart.js",{subids:Array.from(n)})}),G.afterEnd(e.querySelector(".gradientbg"),`<div id="es_dlc_option_panel">
                <div class="es_dlc_option" id="unowned_dlc_check">${v(Il)}</div>
                <div class="es_dlc_option" id="wl_dlc_check">${v(Ul)}</div>
                <div class="es_dlc_option" id="no_dlc_check">${v(Al)}</div>
            </div>`),e.querySelector("#unowned_dlc_check").addEventListener("click",()=>{let i=e.querySelectorAll(".es_dlc_label:not(.es_dlc_owned) > input");for(let a of i)a.checked=!0;e.dispatchEvent(new Event("change"))}),e.querySelector("#wl_dlc_check").addEventListener("click",()=>{let i=e.querySelectorAll(".es_dlc_label.es_dlc_wishlist > input");for(let a of i)a.checked=!0;e.dispatchEvent(new Event("change"))}),e.querySelector("#no_dlc_check").addEventListener("click",()=>{let i=e.querySelectorAll(".es_dlc_label > input:checked");for(let a of i)a.checked=!1;e.dispatchEvent(new Event("change"))}),e.addEventListener("change",()=>{n.clear();let i=0;for(let a of e.querySelectorAll(".es_dlc_label > input:checked"))n.add(Number(a.dataset.esDlcSubid)),a.dataset.esDlcPrice&&(i+=Number(a.dataset.esDlcPrice));i>0?(s.querySelector(".game_purchase_price").textContent=new Ie(i).toString(),s.style.display="block"):s.style.display="none"})}};function Mp(r,e,t){let o=r.slice();return o[1]=e[t],o}function Pp(r){let e,t,o,n,s,i,a=r[1].name+"",l,c,p;return{c(){e=h("div"),t=h("div"),o=h("img"),s=D(),i=h("a"),l=T(a),p=D(),$e(o.src,n=ge.getURL(`/img/dlcicons/${encodeURIComponent(r[1].icon)}`))||m(o,"src",n),m(o,"alt",""),m(t,"class","icon"),m(i,"class","name"),m(i,"title",c=r[1].description),m(e,"class","game_area_details_specs")},m(u,_){w(u,e,_),f(e,t),f(t,o),f(e,s),f(e,i),f(i,l),f(e,p)},p(u,_){_&1&&!$e(o.src,n=ge.getURL(`/img/dlcicons/${encodeURIComponent(u[1].icon)}`))&&m(o,"src",n),_&1&&a!==(a=u[1].name+"")&&H(l,a),_&1&&c!==(c=u[1].description)&&m(i,"title",c)},d(u){u&&x(e)}}}function u_(r){let e,t,o,n,s,i,a,l=_e(r[0]),c=[];for(let p=0;p<l.length;p+=1)c[p]=Pp(Mp(r,l,p));return{c(){e=h("div"),e.textContent=`${v(na)}`,t=D(),o=h("div"),n=h("div"),s=h("div"),i=h("div"),a=T(`\`;\r
\r
                `);for(let p=0;p<c.length;p+=1)c[p].c();m(e,"class","block responsive_apppage_details_right heading"),m(i,"class","details_block"),m(s,"class","block_content_inner"),m(n,"class","block_content"),m(o,"class","block es_dlc_info")},m(p,u){w(p,e,u),w(p,t,u),w(p,o,u),f(o,n),f(n,s),f(s,i),f(i,a);for(let _=0;_<c.length;_+=1)c[_]&&c[_].m(i,null)},p(p,[u]){if(u&1){l=_e(p[0]);let _;for(_=0;_<l.length;_+=1){let g=Mp(p,l,_);c[_]?c[_].p(g,u):(c[_]=Pp(g),c[_].c(),c[_].m(i,null))}for(;_<c.length;_+=1)c[_].d(1);c.length=l.length}},i:B,o:B,d(p){p&&(x(e),x(t),x(o)),qe(c,p)}}}function m_(r,e,t){let{dlcInfo:o}=e;return r.$$set=n=>{"dlcInfo"in n&&t(0,o=n.dlcInfo)},[o]}var Hs=class extends ${constructor(e){super(),z(this,e,m_,u_,q,{dlcInfo:0})}},Rp=Hs;var Oo=class extends P{checkPrerequisites(){return this.context.isDlc}async apply(){let e;try{if(e=await Oe.fetchDlcInfo(this.context.appid),!e||!e.length)return}catch(n){console.error(n);return}let t=document.querySelector("#category_block"),o=t.parentElement;new Rp({target:o,anchor:t,props:{dlcInfo:e}})}};function __(r){let e,t,o,n,s,i,a=v(Za)+"",l,c,p;return{c(){e=h("div"),t=h("div"),o=D(),n=h("div"),s=h("b"),s.textContent=`${v(Ha)}`,i=D(),l=T(a),c=D(),p=h("div"),m(t,"class","notice_box_top"),m(n,"class","notice_box_content"),m(p,"class","notice_box_bottom")},m(u,_){w(u,e,_),f(e,t),f(e,o),f(e,n),f(n,s),f(n,i),f(n,l),f(e,c),f(e,p)},p:B,i:B,o:B,d(u){u&&x(e)}}}var Zs=class extends ${constructor(e){super(),z(this,e,null,__,q,{})}},Wp=Zs;var Go=class extends P{async checkPrerequisites(){if(!b.exfgls||document.querySelector(".game_area_comingsoon"))return!1;let t=await this.context.data;return t!==null&&!t.family_sharing}apply(){let e=document.querySelector("#game_area_purchase");if(!e)throw new Error("Node not found");new Wp({target:e.parentElement,anchor:e})}};var Ho=class extends P{apply(){function e(o){document.fullscreenElement?document.exitFullscreen():o.target.closest(".screenshot_popup_modal_content").requestFullscreen()}function t(){let o=document.querySelector(".screenshot_popup_modal_footer"),n=o.querySelector(".next"),s=n.offsetWidth;n.style.display==="none"&&(n.style.display="",s=n.offsetWidth,n.style.display="none"),G.beforeEnd(o,`<div class="btnv6_blue_hoverfade btn_medium es_screenshot_fullscreen_toggle" style="right: calc(${s}px + 0.5em)"><i></i></div>`);let i=o.querySelector(".es_screenshot_fullscreen_toggle");i.addEventListener("click",e);let a=o.parentNode.querySelector(".screenshot_popup_modal_title > a");G.beforeEnd(o,`<div class="btnv6_blue_hoverfade btn_medium es_screenshot_open_btn" style="right: calc(${s+i.offsetWidth}px + 1em)"><i></i></div>`),o.querySelector(".es_screenshot_open_btn").addEventListener("click",()=>{window.open(a.href,"_blank")})}new MutationObserver(o=>{for(let{addedNodes:n}of o)for(let s of n)if(s.classList.contains("screenshot_popup_modal")){t();break}}).observe(document.body,{childList:!0})}};var Zo=class extends P{checkPrerequisites(){return this._yourTags=document.querySelectorAll(".app_tag.user_defined"),this._yourTags.length>0}apply(){let e=nt.getArrayVariable(/\[{"tagid".+}\],\s*(\[{"tagid".+}\])/);if(!e)return;let t=new Set;for(let o of e)o.is_reported&&t.add(o.name);if(t.size!==0){for(let o of this._yourTags)t.has(o.textContent.trim())&&o.remove();le.insertScript("scriptlets/Store/App/triggerResize.js")}}};function $p(r){let e,t,o,n,s,i=r[0]&&qp(r),a=r[1]&&zp(r),l=r[2]&&Jp(r);return{c(){e=h("div"),i&&i.c(),t=D(),a&&a.c(),o=D(),l&&l.c(),n=D(),s=h("br"),m(e,"class","details_block")},m(c,p){w(c,e,p),i&&i.m(e,null),f(e,t),a&&a.m(e,null),f(e,o),l&&l.m(e,null),w(c,n,p),w(c,s,p)},p(c,p){c[0]?i?i.p(c,p):(i=qp(c),i.c(),i.m(e,t)):i&&(i.d(1),i=null),c[1]?a?a.p(c,p):(a=zp(c),a.c(),a.m(e,o)):a&&(a.d(1),a=null),c[2]?l?l.p(c,p):(l=Jp(c),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},d(c){c&&(x(e),x(n),x(s)),i&&i.d(),a&&a.d(),l&&l.d()}}}function qp(r){let e,t,o=r[4](r[0])+"",n,s;return{c(){e=h("b"),e.textContent=`${v(Dl)}:`,t=h("span"),n=T(o),s=h("br"),m(e,"class","svelte-1w0n5k8"),m(t,"class","svelte-1w0n5k8")},m(i,a){w(i,e,a),w(i,t,a),f(t,n),w(i,s,a)},p(i,a){a&1&&o!==(o=i[4](i[0])+"")&&H(n,o)},d(i){i&&(x(e),x(t),x(s))}}}function zp(r){let e,t,o=r[4](r[1])+"",n,s;return{c(){e=h("b"),e.textContent=`${v(Nl)}:`,t=h("span"),n=T(o),s=h("br"),m(e,"class","svelte-1w0n5k8"),m(t,"class","svelte-1w0n5k8")},m(i,a){w(i,e,a),w(i,t,a),f(t,n),w(i,s,a)},p(i,a){a&2&&o!==(o=i[4](i[1])+"")&&H(n,o)},d(i){i&&(x(e),x(t),x(s))}}}function Jp(r){let e,t,o=r[4](r[2])+"",n,s;return{c(){e=h("b"),e.textContent=`${v(Fl)}:`,t=h("span"),n=T(o),s=h("br"),m(e,"class","svelte-1w0n5k8"),m(t,"class","svelte-1w0n5k8")},m(i,a){w(i,e,a),w(i,t,a),f(t,n),w(i,s,a)},p(i,a){a&4&&o!==(o=i[4](i[2])+"")&&H(n,o)},d(i){i&&(x(e),x(t),x(s))}}}function d_(r){let e,t,o,n,s,i,a,l=v(Xa)+"",c,p,u,_,g=(r[0]||r[1]||r[2])&&$p(r);return{c(){e=h("div"),e.textContent=`${v(Ll)}`,t=D(),o=h("div"),n=h("div"),s=h("div"),g&&g.c(),i=D(),a=h("a"),c=T(l),m(e,"class","block responsive_apppage_details_right heading"),m(a,"class","linkbar es_external_icon"),m(a,"href",r[3]),m(s,"class","block_content_inner"),m(n,"class","block_content"),m(o,"class","block underlined_links es_hltb svelte-1w0n5k8")},m(d,k){w(d,e,k),w(d,t,k),w(d,o,k),f(o,n),f(n,s),g&&g.m(s,null),f(s,i),f(s,a),f(a,c),u||(_=Ce(p=Se.call(null,a)),u=!0)},p(d,[k]){d[0]||d[1]||d[2]?g?g.p(d,k):(g=$p(d),g.c(),g.m(s,i)):g&&(g.d(1),g=null),k&8&&m(a,"href",d[3])},i:B,o:B,d(d){d&&(x(e),x(t),x(o)),g&&g.d(),u=!1,_()}}}function f_(r,e,t){function o(l){return v(ha,{hours:(l/60).toFixed(1).toString()})}let{story:n}=e,{extras:s}=e,{complete:i}=e,{url:a}=e;return r.$$set=l=>{"story"in l&&t(0,n=l.story),"extras"in l&&t(1,s=l.extras),"complete"in l&&t(2,i=l.complete),"url"in l&&t(3,a=l.url)},[n,s,i,a,o]}var js=class extends ${constructor(e){super(),z(this,e,f_,d_,q,{story:0,extras:1,complete:2,url:3})}},Op=js;var jo=class extends P{constructor(){super(...arguments);this.hltb=null}async checkPrerequisites(){if(!b.showhltb||this.context.isDlcLike||this.context.isVideoOrHardware)return!1;let t=await this.context.data;return!t||!t.hltb?!1:(this.hltb=t.hltb,!0)}apply(){if(!this.hltb)return;let t=document.querySelector("div.game_details").nextElementSibling;new Op({target:t.parentElement,anchor:t,props:{story:this.hltb.story,extras:this.hltb.extras,complete:this.hltb.complete,url:this.hltb.url}})}};var Vo=class extends P{constructor(){super(...arguments);this._review=null}async checkPrerequisites(){if(!b.showmcus||!document.querySelector("#game_area_metascore"))return!1;let t=await this.context.data;return!t||!t.reviews||!t.reviews.metauser?!1:(this._review=t.reviews.metauser,!0)}apply(){if(!this._review)return;let t=this._review.score;if(t===null)return;let o;t>=75?o="high":t>=50?o="medium":o="low",G.afterEnd("#game_area_metascore",`<div id="game_area_userscore">
                <div class="score ${o}">${t}</div>
                <div class="logo"></div>
                <div class="wordmark">
                    <div class="metacritic">${v(hl)}</div>
                </div>
            </div>`)}};function g_(r){let e,t,o,n;return{c(){e=h("div"),t=h("div"),o=h("span"),o.textContent=`${v(dc)}`,m(o,"class","finish_queue_text"),m(t,"class","next_in_queue_content"),m(e,"id","es_new_queue"),m(e,"class","btn_next_in_queue btn_next_in_queue_trigger svelte-kgvvsx"),m(e,"data-tooltip-text",n=v(fc))},m(s,i){w(s,e,i),f(e,t),f(t,o)},p:B,i:B,o:B,d(s){s&&x(e)}}}function h_(r){return me(()=>{let e=document.querySelector("#nextInDiscoveryQueue");e&&(e.style.display="flex",e.style.gap="1px",e.style.width="auto"),le.insertScript("scriptlets/Store/App/newQueue.js")}),[]}var Vs=class extends ${constructor(e){super(),z(this,e,h_,g_,q,{})}},Gp=Vs;var Ko=class extends P{checkPrerequisites(){return document.querySelector(".finish_queue_text")!==null}apply(){let e=document.querySelector(".btn_next_in_queue");e&&new Gp({target:e.parentElement,anchor:e})}};var Yo=class extends P{constructor(){super(...arguments);this._review=null}async checkPrerequisites(){if(!b.showoc)return!1;let t=await this.context.data;return!t||!t.reviews||!t.reviews.opencritic?!1:(this._review=t.reviews.opencritic,!0)}apply(){if(!this._review)return;let t=this._review,o=ge.getURL("img/opencritic.png"),n=t.verdict??"NA",s=document.querySelector("#game_area_metascore");s?s=s.parentNode:s=document.querySelector(".game_details"),G.afterEnd(s,`<div class="block responsive_apppage_reviewblock">
                <div id="game_area_opencritic">
                    <div class="score ${n.toLowerCase()}">${t.score?t.score:"--"}</div>
                    <div class="logo"><img src="${o}"></div>
                    <div class="wordmark">
                        <div class="metacritic">OpenCritic</div>
                        <div id="game_area_metalink">${n} - <a href="${t.url}?utm_source=enhanced-steam-itad&utm_medium=average" target="_blank">${v(Ca)}</a>
                            <img src="//store.cloudflare.steamstatic.com/public/images/ico/iconExternalLink.gif" border="0" align="bottom">
                        </div>
                    </div>
                </div>
                <div style="clear: both;"></div>
            </div>`)}};var Xo=class extends P{checkPrerequisites(){return this.context.user.isSignedIn&&document.querySelector(".game_area_play_stats .already_owned_actions")!==null}apply(){let e=document.querySelector(".game_area_play_stats .already_owned_actions"),t=this.context.appid,o=e.querySelector("a[href^='https://store.steampowered.com/about/']"),n=b.installsteam;n==="hide"?o.remove():n==="replace"&&(o.querySelector("span").textContent=v(fo),o.href=`steam://store/${t}`),b.showviewinlibrary&&G.afterBegin(e,`<div class="game_area_already_owned_btn">
                    <a class="btnv6_lightblue_blue btnv6_border_2px btn_medium" href="steam://nav/games/details/${t}">
                        <span>${v(ea)}</span>
                    </a>
                </div>`),G.afterEnd(e,`<div class="game_area_already_owned_btn">
                <a class="btnv6_lightblue_blue btnv6_border_2px btn_medium" href="//help.steampowered.com/wizard/HelpWithGame/?appid=${t}">
                    <span>${v(cr)}</span>
                </a>
            </div>`)}};function b_(r){let e;return{c(){e=h("i"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512" class="svelte-1kun4wk"><path d="M144 144l0 48 160 0 0-48c0-44.2-35.8-80-80-80s-80 35.8-80 80zM80 192l0-48C80 64.5 144.5 0 224 0s144 64.5 144 144l0 48 16 0c35.3 0 64 28.7 64 64l0 192c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 256c0-35.3 28.7-64 64-64l16 0z"></path></svg>',m(e,"class","svelte-1kun4wk")},m(t,o){w(t,e,o)},p:B,i:B,o:B,d(t){t&&x(e)}}}var Ks=class extends ${constructor(e){super(),z(this,e,null,b_,q,{})}},Hp=Ks;function x_(r){let e;return{c(){e=h("i"),e.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svelte-1kun4wk"><path d="M336 352c97.2 0 176-78.8 176-176S433.2 0 336 0S160 78.8 160 176c0 18.7 2.9 36.8 8.3 53.7L7 391c-4.5 4.5-7 10.6-7 17l0 80c0 13.3 10.7 24 24 24l80 0c13.3 0 24-10.7 24-24l0-40 40 0c13.3 0 24-10.7 24-24l0-40 40 0c6.4 0 12.5-2.5 17-7l33.3-33.3c16.9 5.4 35 8.3 53.7 8.3zM376 96a40 40 0 1 1 0 80 40 40 0 1 1 0-80z"></path></svg>',m(e,"class","svelte-1kun4wk")},m(t,o){w(t,e,o)},p:B,i:B,o:B,d(t){t&&x(e)}}}var Ys=class extends ${constructor(e){super(),z(this,e,null,x_,q,{})}},Zp=Ys;function jp(r,e,t){let o=r.slice();return o[2]=e[t],o}function Vp(r,e,t){let o=r.slice();return o[5]=e[t],o}function v_(r){let e,t;return e=new Zp({}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function w_(r){let e,t;return e=new Hp({}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function Kp(r){let e=r[2].shop+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p(o,n){n&2&&e!==(e=o[2].shop+"")&&H(t,e)},d(o){o&&x(t)}}}function Yp(r){let e,t=r[5]+"",o;return{c(){e=h("span"),o=T(t),m(e,"class","tag svelte-1evt7bg")},m(n,s){w(n,e,s),f(e,o)},p(n,s){s&2&&t!==(t=n[5]+"")&&H(o,t)},d(n){n&&x(e)}}}function Xp(r){let e,t=r[2].note+"",o;return{c(){e=h("div"),o=T(t),m(e,"class","note svelte-1evt7bg")},m(n,s){w(n,e,s),f(e,o)},p(n,s){s&2&&t!==(t=n[2].note+"")&&H(o,t)},d(n){n&&x(e)}}}function eu(r){let e,t,o,n,s,i,a,l,c,p=r[2].redeemed?"redeemed":"redeemable",u,_,g,d,k,S,U=[w_,v_],N=[];function E(R,K){return R[2].redeemed?0:1}o=E(r,-1),n=N[o]=U[o](r);let Q=r[2].shop&&Kp(r),L=_e(r[2].tags??[]),F=[];for(let R=0;R<L.length;R+=1)F[R]=Yp(Vp(r,L,R));let A=r[2].note&&Xp(r);return{c(){e=h("div"),t=h("div"),n.c(),s=D(),i=h("div"),a=h("div"),Q&&Q.c(),l=D(),c=h("div"),u=T(p),_=D(),g=h("div");for(let R=0;R<F.length;R+=1)F[R].c();d=D(),A&&A.c(),k=D(),m(t,"class","icon svelte-1evt7bg"),m(c,"class","label svelte-1evt7bg"),m(i,"class","shop svelte-1evt7bg"),m(e,"class","copy svelte-1evt7bg")},m(R,K){w(R,e,K),f(e,t),N[o].m(t,null),f(e,s),f(e,i),f(i,a),Q&&Q.m(a,null),f(i,l),f(i,c),f(c,u),f(e,_),f(e,g);for(let se=0;se<F.length;se+=1)F[se]&&F[se].m(g,null);f(g,d),A&&A.m(g,null),f(e,k),S=!0},p(R,K){let se=o;if(o=E(R,K),o!==se&&(ce(),I(N[se],1,1,()=>{N[se]=null}),pe(),n=N[o],n||(n=N[o]=U[o](R),n.c()),C(n,1),n.m(t,null)),R[2].shop?Q?Q.p(R,K):(Q=Kp(R),Q.c(),Q.m(a,null)):Q&&(Q.d(1),Q=null),(!S||K&2)&&p!==(p=R[2].redeemed?"redeemed":"redeemable")&&H(u,p),K&2){L=_e(R[2].tags??[]);let J;for(J=0;J<L.length;J+=1){let fe=Vp(R,L,J);F[J]?F[J].p(fe,K):(F[J]=Yp(fe),F[J].c(),F[J].m(g,d))}for(;J<F.length;J+=1)F[J].d(1);F.length=L.length}R[2].note?A?A.p(R,K):(A=Xp(R),A.c(),A.m(g,null)):A&&(A.d(1),A=null)},i(R){S||(C(n),S=!0)},o(R){I(n),S=!1},d(R){R&&x(e),N[o].d(),Q&&Q.d(),qe(F,R),A&&A.d()}}}function y_(r){let e,t,o,n,s=v(Hr,{gametitle:r[0]})+"",i,a,l,c=_e(r[1]),p=[];for(let _=0;_<c.length;_+=1)p[_]=eu(jp(r,c,_));let u=_=>I(p[_],1,1,()=>{p[_]=null});return{c(){e=h("div"),t=h("div"),t.textContent=`${v(sc).toUpperCase()}\xA0\xA0`,o=D(),n=h("div"),i=T(s),a=D();for(let _=0;_<p.length;_+=1)p[_].c();m(t,"class","ds_owned_flag ds_flag svelte-1evt7bg"),m(n,"class","already_in_library svelte-1evt7bg"),m(e,"class","game_area_already_owned page_content svelte-1evt7bg")},m(_,g){w(_,e,g),f(e,t),f(e,o),f(e,n),f(n,i),f(n,a);for(let d=0;d<p.length;d+=1)p[d]&&p[d].m(n,null);l=!0},p(_,[g]){if((!l||g&1)&&s!==(s=v(Hr,{gametitle:_[0]})+"")&&H(i,s),g&2){c=_e(_[1]);let d;for(d=0;d<c.length;d+=1){let k=jp(_,c,d);p[d]?(p[d].p(k,g),C(p[d],1)):(p[d]=eu(k),p[d].c(),C(p[d],1),p[d].m(n,null))}for(ce(),d=c.length;d<p.length;d+=1)u(d);pe()}},i(_){if(!l){for(let g=0;g<c.length;g+=1)C(p[g]);l=!0}},o(_){p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)I(p[g]);l=!1},d(_){_&&x(e),qe(p,_)}}}function Q_(r,e,t){let{appName:o}=e,{copies:n}=e;return r.$$set=s=>{"appName"in s&&t(0,o=s.appName),"copies"in s&&t(1,n=s.copies)},[o,n]}var Xs=class extends ${constructor(e){super(),z(this,e,Q_,y_,q,{appName:0,copies:1})}},tu=Xs;var en=class extends P{async checkPrerequisites(){return(!this.context.isOwned||!b.collection_banner_notowned)&&await de.isConnected()}async apply(){let e=await de.getFromCollection(this.context.storeid);if(e===null)return;let t=document.querySelector(".queue_overflow_ctn");new tu({target:t.parentElement,anchor:t.nextElementSibling,props:{appName:this.context.appName,copies:e}})}};var tn=class extends P{checkPrerequisites(){return b.show_package_info}apply(){let e=[".bundle_hidden_by_preferences",".game_purchase_sub_dropdown",".dynamic_bundle_description"].join(",");for(let t of document.querySelectorAll(`.game_area_purchase_game_wrapper:not(${e})`)){if(t.querySelector(".btn_packageinfo"))return;let o=t.querySelector("input[name=subid]");o&&G.afterBegin(t.querySelector(".game_purchase_action"),`<div class="game_purchase_action_bg">
                    <div class="btn_addtocart btn_packageinfo">
                        <a class="btn_blue_steamui btn_medium" href="//store.steampowered.com/sub/${o.value}/">
                            <span>${v(Ua)}</span>
                        </a>
                    </div>
                </div>`)}}};var on=class extends P{apply(){le.insertScript("scriptlets/Store/App/patchHighlightPlayer.js")}};function S_(r){let e,t,o,n,s,i,a,l=r[3].format(r[0])+"",c,p,u,_,g,d=r[3].format(r[1])+"",k,S,U,N,E,Q=r[3].format(r[2])+"",L;return{c(){e=h("div"),e.textContent=`${v(Ql)}`,t=D(),o=h("div"),n=h("div"),s=h("div"),i=h("span"),i.textContent=`${v(Sl)}`,a=D(),c=T(l),p=D(),u=h("div"),_=h("span"),_.textContent=`${v(kl)}`,g=D(),k=T(d),S=D(),U=h("div"),N=h("span"),N.textContent=`${v(yl)}`,E=D(),L=T(Q),m(e,"class","block responsive_apppage_details_right heading"),m(i,"class","svelte-1s4xf7p"),m(s,"class","as_stat svelte-1s4xf7p"),m(_,"class","svelte-1s4xf7p"),m(u,"class","as_stat svelte-1s4xf7p"),m(N,"class","svelte-1s4xf7p"),m(U,"class","as_stat svelte-1s4xf7p"),m(n,"class","block_content_inner as_players svelte-1s4xf7p"),m(o,"class","block responsive_apppage_details_right")},m(F,A){w(F,e,A),w(F,t,A),w(F,o,A),f(o,n),f(n,s),f(s,i),f(s,a),f(s,c),f(n,p),f(n,u),f(u,_),f(u,g),f(u,k),f(n,S),f(n,U),f(U,N),f(U,E),f(U,L)},p(F,[A]){A&1&&l!==(l=F[3].format(F[0])+"")&&H(c,l),A&2&&d!==(d=F[3].format(F[1])+"")&&H(k,d),A&4&&Q!==(Q=F[3].format(F[2])+"")&&H(L,Q)},i:B,o:B,d(F){F&&(x(e),x(t),x(o))}}}function k_(r,e,t){let{recent:o}=e,{peakToday:n}=e,{peakAll:s}=e,i=new Intl.NumberFormat(document.documentElement.lang||navigator.language);return r.$$set=a=>{"recent"in a&&t(0,o=a.recent),"peakToday"in a&&t(1,n=a.peakToday),"peakAll"in a&&t(2,s=a.peakAll)},[o,n,s,i]}var ei=class extends ${constructor(e){super(),z(this,e,k_,S_,q,{recent:0,peakToday:1,peakAll:2})}},ou=ei;var nn=class extends P{async checkPrerequisites(){if(this.context.isDlcLike||this.context.isVideoOrHardware||!b.show_players_info)return!1;let e=await this.context.data;return!e||!e.players?!1:(this._data=e.players,!0)}apply(){let e=document.querySelector(".rightcol.game_meta_data");if(!e)throw new Error("Node not found");new ou({target:e,anchor:e.firstElementChild??void 0,props:{recent:Number(this._data.recent),peakToday:Number(this._data.peak_today),peakAll:Number(this._data.peak_all)}})}};var Rt=class{static escapeRegExp(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}static clearSpecialSymbols(e){return e.replace(/[\u00AE\u00A9\u2122]/g,"")}static levenshtein(e,t){let o=e.length,n=t.length;if(o===0)return n;if(n===0)return o;let s,i,a,l,c,p,u,_,g,d,k;for(o>n&&(s=e,e=t,t=s),p=new Int8Array(o+1),i=0;i<=o;i++)p[i]=i;for(i=1;i<=n;i++){for(l=i,k=t[i-1],a=1;a<=o;a++)k===e[a-1]?c=p[a-1]:(u=l+1,_=p[a]+1,g=u-(u-_&_-u>>7),d=p[a-1]+1,c=g-(g-d&d-g>>7)),p[a-1]=l,l=c;p[o]=l}return p[o]}};var rn=class extends P{constructor(){super(...arguments);this._node=null}checkPrerequisites(){return this.context.user.isSignedIn&&b.purchase_dates&&(this._node=document.querySelector(".game_area_already_owned .already_in_library")),this._node!==null}async apply(){let t=this.context.language?.name;if(!t){console.warn("Unknown language");return}let o=Rt.clearSpecialSymbols(this.context.appName.replace(/:/g,"").trim()),n=await De.getPurchaseDate(o,t);if(!n){console.warn("Failed to retrieve purchase date");return}this._node.textContent+=` ${v(Ka,{date:n})}`}};var sn=class extends P{checkPrerequisites(){return b.removebroadcasts&&document.querySelector("[data-featuretarget=broadcast-embed]")!==null}apply(){document.querySelector("[data-featuretarget=broadcast-embed]")?.remove(),le.insertScript("scriptlets/Store/App/stopBroadcast.js")}};var an=class extends P{checkPrerequisites(){return this._screenshots=document.querySelectorAll(".highlight_screenshot"),this._screenshots.length>1}apply(){let e=new Set;for(let t of this._screenshots){let o=CSS.escape(t.id);e.has(o)?(t.remove(),document.querySelectorAll(`#${o.replace("highlight_","thumb_")}`)[1].remove()):e.add(o)}}};var he=class{static{this.id=0}static dispatchEvent(e,t,o=[],n=void 0){le.insertScript("scriptlets/event.js",{handler:e,detail:{action:t,params:o,id:n}})}static call(e,t,o=[]){this.dispatchEvent(e,t,o)}static get(e,t,o=[]){return new Promise(n=>{let s=`as_msg_${this.id++}`;document.addEventListener(s,i=>n(i.detail),{once:!0}),this.dispatchEvent(e,t,o,s)})}};var ke=class{static global(e){return he.get("as_SteamFacade","global",[e])}static globalExists(e){return he.get("as_SteamFacade","globalExists",[e])}static globalSet(e,t){he.call("as_SteamFacade","globalSet",[e,t])}static showDialog(e,t,o){he.call("as_SteamFacade","showDialog",[e,t,o])}static showConfirmDialog(e,t,o={}){return he.get("as_SteamFacade","showConfirmDialog",[e,t,o.okButton??null,o.cancelButton??null,o.secondaryActionButton??null,o.explicitConfirm??!1,o.explicitDismissal??!1])}static showAlertDialog(e,t,o){return he.get("as_SteamFacade","showAlertDialog",[e,t,o])}static showBlockingWaitDialog(e,t){return he.get("as_SteamFacade","showBlockingWaitDialog",[e,t])}static dismissActiveModal(e){he.call("as_SteamFacade","dismissActiveModal",[e])}static showMenu(e,t,o,n,s){he.call("as_SteamFacade","showMenu",[e,t,o,n,s])}static hideMenu(e,t){he.call("as_SteamFacade","hideMenu",[e,t])}static changeLanguage(e,t){he.call("as_SteamFacade","changeLanguage",[e,t])}static collapseLongStrings(e){he.call("as_SteamFacade","collapseLongStrings",[e])}static removeFromWishlist(e,t,o,n,s,i){he.call("as_SteamFacade","removeFromWishlist",[e,t,o,n,s,i])}static addToWishlist(e,t,o,n,s,i){he.call("as_SteamFacade","addToWishlist",[e,t,o,n,s,i])}static bindAutoFlyoutEvents(){he.call("as_SteamFacade","bindAutoFlyoutEvents")}static vTooltip(e,t=!1){he.call("as_SteamFacade","vTooltip",[e,t])}static calculateFeeAmount(e,t){return he.get("as_SteamFacade","calculateFeeAmount",[e,t])}static vCurrencyFormat(e,t){return he.get("as_SteamFacade","vCurrencyFormat",[e,t])}static openFriendChatInWebChat(e,t){he.call("as_SteamFacade","openFriendChatInWebChat",[e,t])}static submitGuide(){he.call("as_SteamFacade","submitGuide")}};var ln=class extends P{apply(){let e=[...document.querySelectorAll("#genresAndManufacturer > .dev_row:first-of-type > a")],t=document.getElementById("developers_list")?.parentElement;t&&e.push(...t.querySelectorAll("a"));let o=[...document.querySelectorAll("#genresAndManufacturer > .dev_row:nth-of-type(2) > a")],n=t?.nextElementSibling;n&&o.push(...n.querySelectorAll("a"));let s=document.querySelector(".details_block > .dev_row:nth-of-type(3) > a"),i=s?[s]:[];for(let a of[...e,...o,...i]){let l=new URL(a.href);if(l.pathname.startsWith("/search/")||l.hostname!==location.hostname)continue;let c;if(e.includes(a))c="developer";else if(o.includes(a))c="publisher";else if(s===a)c="franchise";else continue;a.href=`https://store.steampowered.com/search/?${c}=${encodeURIComponent(a.textContent)}`,G.afterEnd(a,` <span class="as-homepage">(<a href="${l.href}">${v(El)}</a>)</span>`)}for(let a of document.querySelectorAll(".dev_row > .more_btn"))a.remove();ke.collapseLongStrings(".dev_row .summary.column")}};function N_(r){let e,t,o,n,s,i,a,l;return{c(){e=h("button"),t=h("span"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" class="svelte-993gdg"><path d="M342.6 534.6C330.1 547.1 309.8 547.1 297.3 534.6L137.3 374.6C124.8 362.1 124.8 341.8 137.3 329.3C149.8 316.8 170.1 316.8 182.6 329.3L320 466.7L457.4 329.4C469.9 316.9 490.2 316.9 502.7 329.4C515.2 341.9 515.2 362.2 502.7 374.7L342.7 534.7zM502.6 182.6L342.6 342.6C330.1 355.1 309.8 355.1 297.3 342.6L137.3 182.6C124.8 170.1 124.8 149.8 137.3 137.3C149.8 124.8 170.1 124.8 182.6 137.3L320 274.7L457.4 137.4C469.9 124.9 490.2 124.9 502.7 137.4C515.2 149.9 515.2 170.2 502.7 182.7z"></path></svg>',n=D(),s=h("span"),s.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" class="svelte-993gdg"><path d="M342.6 105.4C330.1 92.9 309.8 92.9 297.3 105.4L137.3 265.4C124.8 277.9 124.8 298.2 137.3 310.7C149.8 323.2 170.1 323.2 182.6 310.7L320 173.3L457.4 310.6C469.9 323.1 490.2 323.1 502.7 310.6C515.2 298.1 515.2 277.8 502.7 265.3L342.7 105.3zM502.6 457.4L342.6 297.4C330.1 284.9 309.8 284.9 297.3 297.4L137.3 457.4C124.8 469.9 124.8 490.2 137.3 502.7C149.8 515.2 170.1 515.2 182.6 502.7L320 365.3L457.4 502.6C469.9 515.1 490.2 515.1 502.7 502.6C515.2 490.1 515.2 469.8 502.7 457.3z"></path></svg>',m(t,"data-tooltip-text",o=v(es)),m(t,"class","svelte-993gdg"),j(t,"inactive",r[0]),m(s,"data-tooltip-text",i=v(ts)),m(s,"class","svelte-993gdg"),j(s,"inactive",!r[0]),m(e,"class","btnv6_lightblue_blue btn_medium es_review_toggle svelte-993gdg")},m(c,p){w(c,e,p),f(e,t),f(e,n),f(e,s),a||(l=ne(e,"click",r[1]),a=!0)},p(c,[p]){p&1&&j(t,"inactive",c[0]),p&1&&j(s,"inactive",!c[0])},i:B,o:B,d(c){c&&x(e),a=!1,l()}}}function F_(r,e,t){let{reviewSection:o}=e,n=!0;async function s(i){i?(t(0,n=!n),ve.set("show_review_section",n)):t(0,n=await ve.get("show_review_section")??!0),t(2,o.style.maxHeight=n?"":"0",o)}return me(()=>{s()}),r.$$set=i=>{"reviewSection"in i&&t(2,o=i.reviewSection)},[n,s,o]}var ti=class extends ${constructor(e){super(),z(this,e,F_,N_,q,{reviewSection:2})}},nu=ti;var cn=class extends P{constructor(){super(...arguments);this.node=null}checkPrerequisites(){return this.node=document.getElementById("review_create"),this.node!==null}apply(){let t=this.node.querySelector("h2");if(!t)throw new Error("Node not found");let o=document.createElement("div");o.classList.add("es_review_section"),o.append(...this.node.querySelectorAll("p, .avatar_block, .content")),t.after(o),new nu({target:t,props:{reviewSection:o}})}};var pn=class extends P{checkPrerequisites(){return!document.querySelector("#noReviewsWriteOne")}async apply(){document.addEventListener("as_filtersChanged",async()=>{let e=document.querySelector("input[name=review_context]:checked")?.id,t=document.querySelector("input[name=review_language]:checked")?.id,o=document.querySelector("#app_reviews_playtime_range_min")?.value,n=document.querySelector("#app_reviews_playtime_range_max")?.value,s=await ve.get("review_filters")??{};e&&(s.context=e),t&&(s.language=t),o&&(s.minPlaytime=o),n&&(s.maxPlaytime=n),ve.set("review_filters",s)}),le.insertScript("scriptlets/Store/App/saveReviewFilters.js",await ve.get("review_filters")??{})}};var wt=class{static getCoupon(e){return O.send("inventory.coupon",{appid:e})}static async getCouponsAppids(e){return new Set(await O.send("inventory.getCouponAppids",{appids:e}))}static async getGiftsAppids(e){return new Set(await O.send("inventory.getGiftsAppids",{appids:e}))}static async getPassesAppids(e){return new Set(await O.send("inventory.getPassesAppids",{appids:e}))}static hasItem(e){return O.send("inventory.hasItem",{hashes:e})}};var un=class extends P{checkPrerequisites(){return b.show_coupon}async apply(){let e=await wt.getCoupon(this.context.appid);if(!e)return;let t=e.valid&&e.valid.replace(/\[date](.+)\[\/date]/,(p,u)=>new Date(u*1e3).toLocaleString());G.beforeBegin("#game_area_purchase",`<div class="early_access_header es_coupon_info">
                <div class="heading">
                    <h1 class="inset">${v(ol)}</h1>
                    <h2 class="inset">${v(aa)}</h2>
                    <p>${v(Fa,{linkdesc:`<a href="https://support.steampowered.com/kb_article.php?ref=4210-YIPC-0275">${v(Na)}</a>`})}</p>
                </div>
                <div class="devnotes">
                    <div style="display:flex;padding-top:10px">
                        <img src="//community.cloudflare.steamstatic.com/economy/image/${e.image_url}" style="width:96px;height:64px;">
                        <div style="display:flex;flex-direction:column;margin-left:10px">
                            <h1 style="margin-top:2px">${e.title}</h1>
                            <div>${e.discount_note||""}</div>
                            <div style="color:#a75124">${t}</div>
                        </div>
                    </div>
                </div>
            </div>`);let o=document.querySelector(".game_area_purchase_game_wrapper .game_purchase_action");if(!o||o.querySelector(".game_purchase_discount")&&e.discount_doesnt_stack)return;let n=o.querySelector("[data-price-final]");if(!n)return;let i=10**we.getCurrencyInfo(we.storeCurrency).format.places,a=Number(n.dataset.priceFinal)/100,l=Math.floor(a*(e.discount/100)*i)/i,c=a-l;G.replace(n,`<div class="discount_block game_purchase_discount">
                <div class="discount_pct">-${e.discount}%</div>
                <div class="discount_prices">
                    <div class="discount_original_price">${new Ie(a)}</div>
                    <div class="discount_final_price">${new Ie(c)}</div>
                </div>
            </div>`)}};var mn=class extends P{constructor(){super(...arguments);this._moreLikeThis=null}checkPrerequisites(){return this._moreLikeThis=document.querySelector("#recommended_block"),this._moreLikeThis!==null}async apply(){if(!this._moreLikeThis)return;G.afterEnd(this._moreLikeThis.querySelector(".block_header"),`<div class="es_tabs">
                <div class="home_tabs_row">
                    <div id="es_tab_steamsimilar" class="es_tab home_tab active">
                        <div class="tab_content">Steam</div>
                    </div>
                    <div id="es_tab_steampeek" class="es_tab home_tab">
                        <div class="tab_content">SteamPeek</div>
                    </div>
                </div>
            </div>`);let t=this._moreLikeThis.querySelector("#es_tab_steamsimilar"),o=this._moreLikeThis.querySelector("#es_tab_steampeek"),n=this._moreLikeThis.querySelector("#recommended_block_content");t.addEventListener("click",()=>{o.classList.remove("active"),t.classList.add("active"),n.classList.remove("es_sp_active"),n.classList.add("es_steam_active"),ve.set("steampeek",!1),this._adjustScroller()});let s=!1;o.addEventListener("click",async()=>{if(o.classList.add("active"),t.classList.remove("active"),n.classList.add("es_sp_active"),n.classList.remove("es_steam_active"),ve.set("steampeek",!0),!s){s=!0;for(let l of n.querySelectorAll(":scope > a"))l.classList.add("es_steam_similar");let i=await Oe.fetchSteamPeek(this.context.appid);if(!i)return;let a=n.querySelector(":scope > :last-child");for(let{title:l,appid:c}of i)G.beforeBegin(a,`<a class="small_cap es_sp_similar" data-ds-appid="${c}" href="https://store.steampowered.com/app/${c}/">
                            <img src="//cdn.cloudflare.steamstatic.com/steam/apps/${c}/capsule_184x69.jpg" class="small_cap_img">
                            <h4>${l}</h4>
                        </a>`);le.insertScript("scriptlets/Store/App/SteamPeek/decorateItems.js",{appids:i.map(({appid:l})=>l)}),this.context.decorateStoreCapsules(n.querySelectorAll("a.es_sp_similar")),G.beforeBegin(a,`<a class="small_cap es_sp_similar" href="http://steampeek.hu/?appid=${this.context.appid}" target="_blank">
                        <div class="es_sp_similar__link">${v(Xi)}</div>
                    </a>`)}this._adjustScroller()}),await ve.get("steampeek")&&o.click()}_adjustScroller(){le.insertScript("scriptlets/Store/App/SteamPeek/adjustScroller.js")}};var _n=class extends P{constructor(){super(...arguments);this._supportInfo=null}async checkPrerequisites(){if(!b.showsupportinfo)return!1;let t=await ve.get("support_info")??null;(!t||!t.expiry||t.expiry<Date.now())&&(t={data:{},expiry:Date.now()+31*86400*1e3});let o=Ue.fromElement(document.querySelector(".glance_details a"))||this.context.appid;if(this._supportInfo=t.data[o],!this._supportInfo){let n=await De.fetchAppDetails(o,"support_info");if(!n)return console.warn("Failed to retrieve support info"),!1;this._supportInfo=n.support_info,t.data[o]=this._supportInfo,ve.set("support_info",t)}return!!(this._supportInfo.url||this._supportInfo.email)}apply(){let{url:t,email:o}=this._supportInfo,n=[];if(t&&(t=G.formatUrl(t),n.push(`<a href="${t}">${v(pr)}</a>`)),o){o=o.replace("\uFF20","@");let i=/(?:(?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*)|(?:".+"))@(?:(?:\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(?:(?:[a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))/g,a=[...o.matchAll(i)];if(a.length>0){let l=a.join(";");n.push(`<a href="mailto:${l}">${v(oa)}</a>`)}}let s=`https://help.steampowered.com/wizard/HelpWithGameTechnicalIssue?appid=${this.context.appid}`;n.push(`<a href="${s}">${v(cr)}</a>`),G.beforeEnd(".glance_ctn_responsive_left",`<div class="release_date" style="padding-bottom: 0;">
                <div class="subtitle column">${v(ta)}:</div>
                <div class="summary column">${n.join(", ")}</div>
            </div>`)}};var Nt=class extends Error{constructor(e,t=void 0){super(t),this.name="OutOfCapacityError",this.ratio=e}};var dn=class{constructor(e=!1,t){this.closeToFull=e,this.utilization=t}};var fn=class{async getNotesMap(){return new Map(Object.entries(await ct.get("user_notes")??{}).map(([e,t])=>[Number(e),t]))}async get(...e){let t=new Map(e.map(n=>[n,null])),o=await ct.get("user_notes");if(o)for(let[n,s]of Object.entries(o)){let i=Number(n);t.has(i)&&t.set(i,s)}return t}async set(e,t){let o=await this.getNotesMap();o.set(e,t);let n=Object.fromEntries(o.entries()),s=this.getNotesSize(n)/ct.QUOTA_BYTES_PER_ITEM;if(s>1)throw new Nt(s,"Can't set this user note, out of capacity");return await ct.set("user_notes",n),new dn(s>.85,s)}async delete(e){let t=await this.getNotesMap();return t.delete(e),t.size>0?ct.set("user_notes",Object.fromEntries(t.entries())):ct.remove("user_notes")}async export(){let e=await this.getNotesMap();return Object.fromEntries(e.entries())}async import(e){let t=this.getNotesSize(e)/ct.QUOTA_BYTES_PER_ITEM;if(t>1)throw new Nt(t,"Import to synced storage failed, too much data for this adapter");return ct.set("user_notes",e)}clear(){return ct.remove("user_notes")}getNotesSize(e){return 10+JSON.stringify(e).length}};var gn=class{async get(...e){let t=await O.send("notes.get",{appids:e});return new Map(Object.entries(t).map(([o,n])=>[Number(o),n??null]))}async set(e,t){return await O.send("notes.set",{appid:e,note:t}),null}delete(e){return O.send("notes.delete",{appid:e})}export(){return O.send("notes.getall")}import(e){return O.send("notes.setall",{notes:e})}clear(){return O.send("notes.clear")}};function oi(r){throw new Error}var so=class{static createAdapter(e){switch(e){case"synced_storage":return new fn;case"idb":return new gn;default:oi(e)}}static getAdapter(){return this.adapter===void 0&&(this.adapter=this.createAdapter(b.user_notes_adapter)),this.adapter}static async changeAdapter(e){let t=this.getAdapter();if(e===b.user_notes_adapter)return t;let o=this.createAdapter(e);return await o.import(await t.export()),await t.clear(),b.user_notes_adapter=e,this.adapter=o,this.adapter}};function D_(r){let e,t,o,n;return{c(){e=h("div"),t=h("textarea"),m(t,"rows","6"),m(t,"cols","12"),m(e,"class","newmodal_prompt_with_textarea gray_bevel fullwidth")},m(s,i){w(s,e,i),f(e,t),r[3](t),Xt(t,r[0]),o||(n=[ne(t,"input",r[4]),ne(t,"change",r[2])],o=!0)},p(s,[i]){i&1&&Xt(t,s[0])},i:B,o:B,d(s){s&&x(e),r[3](null),o=!1,be(n)}}}function C_(r,e,t){let{note:o}=e,n;me(()=>{n.focus(),n.setSelectionRange(0,n.textLength),n.addEventListener("keydown",l=>{l.key==="Enter"&&!l.shiftKey&&(n.dispatchEvent(new Event("change")),document.querySelector(".newmodal_buttons > .btn_medium")?.click())})});function s(l){eo.call(this,r,l)}function i(l){Ae[l?"unshift":"push"](()=>{n=l,t(1,n)})}function a(){o=this.value,t(0,o)}return r.$$set=l=>{"note"in l&&t(0,o=l.note)},[o,n,s,i,a]}var ni=class extends ${constructor(e){super(),z(this,e,C_,D_,q,{note:0})}get note(){return this.$$.ctx[0]}set note(e){this.$$set({note:e}),it()}},ru=ni;var su=0;async function iu(r){++su;let e=`as_modal-${su}`,t,o=new MutationObserver(()=>{let s=document.querySelector("#"+e);s&&(t=r.modalFn(s),o.disconnect())});o.observe(document.body,{childList:!0});let n=await ke.showConfirmDialog(r.title,`<div id="${e}"></div>`,r.options);return t?.$destroy(),n}function Ft(r,{delay:e=0,duration:t=400,easing:o=Mt}={}){let n=+getComputedStyle(r).opacity;return{delay:e,duration:t,easing:o,css:s=>`opacity: ${s*n}`}}function E_(r){let e,t,o,n,s,i=r[2].default,a=pt(i,r,r[1],null);return{c(){e=h("button"),t=h("span"),a&&a.c(),m(t,"class","svelte-10tux87"),m(e,"type","button"),m(e,"class","svelte-10tux87"),j(e,"primary",r[0]==="primary"),j(e,"secondary",r[0]==="secondary"),j(e,"cancel",r[0]==="cancel")},m(l,c){w(l,e,c),f(e,t),a&&a.m(t,null),o=!0,n||(s=ne(e,"click",r[3]),n=!0)},p(l,[c]){a&&a.p&&(!o||c&2)&&mt(a,i,l,l[1],o?ut(i,l[1],c,null):_t(l[1]),null),(!o||c&1)&&j(e,"primary",l[0]==="primary"),(!o||c&1)&&j(e,"secondary",l[0]==="secondary"),(!o||c&1)&&j(e,"cancel",l[0]==="cancel")},i(l){o||(C(a,l),o=!0)},o(l){I(a,l),o=!1},d(l){l&&x(e),a&&a.d(l),n=!1,s()}}}function B_(r,e,t){let{$$slots:o={},$$scope:n}=e,{type:s}=e;function i(a){eo.call(this,r,a)}return r.$$set=a=>{"type"in a&&t(0,s=a.type),"$$scope"in a&&t(1,n=a.$$scope)},[s,n,o,i]}var ri=class extends ${constructor(e){super(),z(this,e,B_,E_,q,{type:0})}},Cr=ri;function au(r){let e,t,o;return{c(){e=h("button"),m(e,"type","button"),m(e,"class","svelte-dqqe7p")},m(n,s){w(n,e,s),t||(o=ne(e,"click",r[6]),t=!0)},p:B,d(n){n&&x(e),t=!1,o()}}}function U_(r){let e,t;return{c(){e=new st(!1),t=ue(),e.a=t},m(o,n){e.m(r[1],o,n),w(o,t,n)},p(o,n){n&2&&e.p(o[1])},d(o){o&&(x(t),e.d())}}}function lu(r){let e,t,o,n,s=r[3]?.primary&&cu(r),i=r[3]?.secondary&&pu(r),a=r[3]?.cancel&&uu(r);return{c(){e=h("div"),s&&s.c(),t=D(),i&&i.c(),o=D(),a&&a.c(),m(e,"class","buttons svelte-dqqe7p")},m(l,c){w(l,e,c),s&&s.m(e,null),f(e,t),i&&i.m(e,null),f(e,o),a&&a.m(e,null),n=!0},p(l,c){l[3]?.primary?s?(s.p(l,c),c&8&&C(s,1)):(s=cu(l),s.c(),C(s,1),s.m(e,t)):s&&(ce(),I(s,1,1,()=>{s=null}),pe()),l[3]?.secondary?i?(i.p(l,c),c&8&&C(i,1)):(i=pu(l),i.c(),C(i,1),i.m(e,o)):i&&(ce(),I(i,1,1,()=>{i=null}),pe()),l[3]?.cancel?a?(a.p(l,c),c&8&&C(a,1)):(a=uu(l),a.c(),C(a,1),a.m(e,null)):a&&(ce(),I(a,1,1,()=>{a=null}),pe())},i(l){n||(C(s),C(i),C(a),n=!0)},o(l){I(s),I(i),I(a),n=!1},d(l){l&&x(e),s&&s.d(),i&&i.d(),a&&a.d()}}}function cu(r){let e,t;return e=new Cr({props:{type:"primary",$$slots:{default:[A_]},$$scope:{ctx:r}}}),e.$on("click",r[7]),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&1032&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function A_(r){let e=r[3].primary+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p(o,n){n&8&&e!==(e=o[3].primary+"")&&H(t,e)},d(o){o&&x(t)}}}function pu(r){let e,t;return e=new Cr({props:{type:"secondary",$$slots:{default:[I_]},$$scope:{ctx:r}}}),e.$on("click",r[8]),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&1032&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function I_(r){let e=r[3].secondary+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p(o,n){n&8&&e!==(e=o[3].secondary+"")&&H(t,e)},d(o){o&&x(t)}}}function uu(r){let e,t;return e=new Cr({props:{type:"cancel",$$slots:{default:[T_]},$$scope:{ctx:r}}}),e.$on("click",r[9]),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&1032&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function T_(r){let e=r[3].cancel+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p(o,n){n&8&&e!==(e=o[3].cancel+"")&&H(t,e)},d(o){o&&x(t)}}}function M_(r){let e,t,o,n,s,i,a,l,c,p,u,_,g,d,k,S,U=r[2]&&au(r),N=r[5].default,E=pt(N,r,r[10],null),Q=E||U_(r),L=r[3]&&(r[3]?.primary||r[3]?.secondary||r[3]?.cancel)&&lu(r);return{c(){e=h("div"),t=h("div"),n=D(),s=h("div"),i=h("div"),a=D(),l=h("div"),c=h("div"),U&&U.c(),p=D(),u=h("div"),_=T(r[0]),g=D(),d=h("div"),Q&&Q.c(),k=D(),L&&L.c(),m(t,"class","bg svelte-dqqe7p"),m(i,"class","top-bar svelte-dqqe7p"),m(u,"class","title svelte-dqqe7p"),m(c,"class","header svelte-dqqe7p"),m(d,"class","content svelte-dqqe7p"),m(s,"class","modal svelte-dqqe7p"),m(e,"class","container svelte-dqqe7p")},m(F,A){w(F,e,A),f(e,t),f(e,n),f(e,s),f(s,i),f(s,a),f(s,l),f(l,c),U&&U.m(c,null),f(c,p),f(c,u),f(u,_),f(s,g),f(s,d),Q&&Q.m(d,null),f(d,k),L&&L.m(d,null),S=!0},p(F,[A]){F[2]?U?U.p(F,A):(U=au(F),U.c(),U.m(c,p)):U&&(U.d(1),U=null),(!S||A&1)&&H(_,F[0]),E?E.p&&(!S||A&1024)&&mt(E,N,F,F[10],S?ut(N,F[10],A,null):_t(F[10]),null):Q&&Q.p&&(!S||A&2)&&Q.p(F,S?A:-1),F[3]&&(F[3]?.primary||F[3]?.secondary||F[3]?.cancel)?L?(L.p(F,A),A&8&&C(L,1)):(L=lu(F),L.c(),C(L,1),L.m(d,null)):L&&(ce(),I(L,1,1,()=>{L=null}),pe())},i(F){S||(F&&(o||Ye(()=>{o=tp(t,Ft,{duration:200}),o.start()})),C(Q,F),C(L),S=!0)},o(F){I(Q,F),I(L),S=!1},d(F){F&&x(e),U&&U.d(),Q&&Q.d(F),L&&L.d()}}}function P_(r,e,t){let{$$slots:o={},$$scope:n}=e,s=Je(),{title:i}=e,{body:a=""}=e,{showClose:l=!1}=e,{buttons:c=void 0}=e,p=()=>s("button","CANCEL"),u=()=>s("button","OK"),_=()=>s("button","SECONDARY"),g=()=>s("button","CANCEL");return r.$$set=d=>{"title"in d&&t(0,i=d.title),"body"in d&&t(1,a=d.body),"showClose"in d&&t(2,l=d.showClose),"buttons"in d&&t(3,c=d.buttons),"$$scope"in d&&t(10,n=d.$$scope)},[i,a,l,c,s,o,p,u,_,g,n]}var si=class extends ${constructor(e){super(),z(this,e,P_,M_,q,{title:0,body:1,showClose:2,buttons:3})}},Dt=si;function R_(r){let e,t,o,n,s,i,a=v(Cl)+"",l,c,p;return{c(){e=h("div"),t=h("textarea"),o=D(),n=h("label"),s=h("input"),i=D(),l=T(a),m(t,"class","svelte-hi2i5r"),m(e,"class","svelte-hi2i5r"),m(s,"type","checkbox"),m(n,"class","svelte-hi2i5r")},m(u,_){w(u,e,_),f(e,t),r[7](t),Xt(t,r[0]),w(u,o,_),w(u,n,_),f(n,s),s.checked=r[2].user_notes_simple,f(n,i),f(n,l),c||(p=[ne(t,"input",r[8]),ne(t,"focus",r[5]),ne(t,"blur",r[6]),ne(s,"change",r[9])],c=!0)},p(u,_){_&1&&Xt(t,u[0]),s.checked=u[2].user_notes_simple},d(u){u&&(x(e),x(o),x(n)),r[7](null),c=!1,be(p)}}}function W_(r){let e,t;return e=new Dt({props:{title:v(xo,{gamename:r[1]}),buttons:{primary:v(ur),cancel:v(Vt)},$$slots:{default:[R_]},$$scope:{ctx:r}}}),e.$on("button",r[4]),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,[n]){let s={};n&2&&(s.title=v(xo,{gamename:o[1]})),n&8201&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function $_(r,e,t){let o=Je(),{appName:n}=e,{note:s}=e,i;async function a(k){k.detail==="OK"?o("save",s):o("cancel")}function l(k){k.code==="Escape"&&o("cancel")}function c(k){if(k.code==="Enter")if(b.user_notes_simple)if(k.preventDefault(),k.shiftKey){let S=i.selectionEnd;t(0,s=s.substring(0,S)+`
`+s.substring(S)),ks().then(()=>{t(3,i.selectionEnd=S+1,i)})}else o("save",s);else k.shiftKey&&(k.preventDefault(),o("save",s))}function p(){i.addEventListener("keypress",c)}function u(){i.removeEventListener("keypress",c)}me(()=>(i.focus(),document.addEventListener("keyup",l),()=>{document.removeEventListener("keyup",l)}));function _(k){Ae[k?"unshift":"push"](()=>{i=k,t(3,i)})}function g(){s=this.value,t(0,s)}function d(){b.user_notes_simple=this.checked,t(2,b)}return r.$$set=k=>{"appName"in k&&t(1,n=k.appName),"note"in k&&t(0,s=k.note)},[s,n,b,i,a,p,u,_,g,d]}var ai=class extends ${constructor(e){super(),z(this,e,$_,W_,q,{appName:1,note:0})}},mu=ai;var Wt=class{constructor(e,t="",o={primary:v(mr),cancel:v(Vt)}){this.title=e;this.body=t;this.buttons=o}show(){return new Promise(e=>{let t=new Dt({target:document.body,props:{title:this.title,body:this.body,buttons:this.buttons}});t.$on("button",o=>{e(o.detail),t.$destroy()})})}};var hn=class{constructor(){this.cache=new Map;this.adapter=so.getAdapter()}async get(...e){let t=new Map,o=[];for(let n of e)this.cache.has(n)?t.set(n,this.cache.get(n)):o.push(n);if(o.length>0){let n=await this.adapter.get(...o);for(let[s,i]of n)t.set(s,i),this.cache.set(s,i)}return t}export(){return this.adapter.export()}async set(e,t){let o;try{if(o=await this.adapter.set(e,t),this.cache.set(e,t),b.itad_sync_notes&&await de.isConnected()){let n=await de.pushNote(e,t);if(n.errors.length!=0){let[,s,i]=n.errors[0];await ke.showAlertDialog(v(_c),v(s,i))}}}catch(n){if(n instanceof Nt)return await this.showOutOfCapacityDialog(!0,n.ratio)?this.set(e,t):!1;throw n}return o!==null&&o.closeToFull&&await this.showOutOfCapacityDialog(!1,o.utilization),!0}async delete(e){await this.adapter.delete(e),this.cache.delete(e),b.itad_sync_notes&&await de.isConnected()&&await de.deleteNote(e)}async showModalDialog(e,t,o,n){let s,i=(await this.get(t))?.get(t)??"",a=i,l=await iu({title:v(xo,{gamename:e}),options:{okButton:v(ur),explicitDismissal:!0},modalFn:c=>(s=new ru({target:c,props:{note:a}}),s.$on("change",()=>{a=s.note}),s)});if(a=a.trim().replace(/\s\s+/g," "),l==="OK"&&a!==i){if(a==="")this.delete(t),o.textContent=v(bo);else{if(!await this.set(t,a))return;o.textContent=`"${a}"`}n(o,a!=="")}}async showModalDialog2(e,t){let o=(await this.get(t))?.get(t)??"";return new Promise(n=>{let s=new mu({target:document.body,props:{appName:e,note:o}});s.$on("save",i=>{let a=i.detail.trim();a===""&&(a=null),a?this.set(t,a):this.delete(t),n(a),s.$destroy()}),s.$on("cancel",()=>{n(o),s.$destroy()})})}async showOutOfCapacityDialog(e,t){let o=`${v(e?ac:cc,{perc:(t*100).toFixed(0)})}
            <br>
            ${v(pc)}`;return await new Wt(v(e?ic:lc),o,{primary:v(mc),cancel:v(uc)}).show()==="OK"?(this.adapter=await so.changeAdapter("idb"),!0):!1}};function q_(r){let e,t,o=r[1].default,n=pt(o,r,r[0],null);return{c(){e=h("i"),n&&n.c(),m(e,"class","svelte-i9d72u")},m(s,i){w(s,e,i),n&&n.m(e,null),t=!0},p(s,[i]){n&&n.p&&(!t||i&1)&&mt(n,o,s,s[0],t?ut(o,s[0],i,null):_t(s[0]),null)},i(s){t||(C(n,s),t=!0)},o(s){I(n,s),t=!1},d(s){s&&x(e),n&&n.d(s)}}}function z_(r,e,t){let{$$slots:o={},$$scope:n}=e;return r.$$set=s=>{"$$scope"in s&&t(0,n=s.$$scope)},[n,o]}var li=class extends ${constructor(e){super(),z(this,e,z_,q_,q,{})}},_u=li;function J_(r){let e,t;return{c(){e=Qr("svg"),t=Qr("path"),m(t,"d","M576 304C576 436.5 461.4 544 320 544C282.9 544 247.7 536.6 215.9 523.3L97.5 574.1C88.1 578.1 77.3 575.8 70.4 568.3C63.5 560.8 62 549.8 66.8 540.8L115.6 448.6C83.2 408.3 64 358.3 64 304C64 171.5 178.6 64 320 64C461.4 64 576 171.5 576 304z"),m(e,"xmlns","http://www.w3.org/2000/svg"),m(e,"viewBox","0 0 640 640")},m(o,n){w(o,e,n),f(e,t)},p:B,d(o){o&&x(e)}}}function O_(r){let e,t;return e=new _u({props:{$$slots:{default:[J_]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,[n]){let s={};n&1&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}var ci=class extends ${constructor(e){super(),z(this,e,null,O_,q,{})}},du=ci;function fu(r){let e,t=r[2](r[0])+"";return{c(){e=h("span"),m(e,"class","note svelte-177e6mx")},m(o,n){w(o,e,n),e.innerHTML=t},p(o,n){n&1&&t!==(t=o[2](o[0])+"")&&(e.innerHTML=t)},d(o){o&&x(e)}}}function G_(r){let e,t,o,n,s=v(r[0]?ls:bo)+"",i,a,l,c,p;o=new du({});let u=r[0]&&fu(r);return{c(){e=h("div"),t=h("span"),ee(o.$$.fragment),n=D(),i=T(s),a=D(),u&&u.c(),m(t,"class","label svelte-177e6mx"),m(e,"class","container svelte-177e6mx")},m(_,g){w(_,e,g),f(e,t),Y(o,t,null),f(t,n),f(t,i),f(e,a),u&&u.m(e,null),l=!0,c||(p=ne(t,"click",r[1]),c=!0)},p(_,[g]){(!l||g&1)&&s!==(s=v(_[0]?ls:bo)+"")&&H(i,s),_[0]?u?u.p(_,g):(u=fu(_),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(_){l||(C(o.$$.fragment,_),l=!0)},o(_){I(o.$$.fragment,_),l=!1},d(_){_&&x(e),X(o),u&&u.d(),c=!1,p()}}}function H_(r,e,t){let{notes:o}=e,{appName:n}=e,{appid:s}=e,i=null;async function a(){let c=await o.showModalDialog2(n,s);c===""&&(c=null),t(0,i=c)}me(()=>{o.get(s).then(c=>t(0,i=c.get(s)??null))});function l(c){return bt.sanitize(c,{ALLOWED_TAGS:[]}).replaceAll(/(https?:\/\/\S+)/g,"<a href='$1' target='_blank' rel='noopener'>$1</a>")}return r.$$set=c=>{"notes"in c&&t(3,o=c.notes),"appName"in c&&t(4,n=c.appName),"appid"in c&&t(5,s=c.appid)},[i,a,l,o,n,s]}var pi=class extends ${constructor(e){super(),z(this,e,H_,G_,q,{notes:3,appName:4,appid:5})}},gu=pi;var bn=class extends P{checkPrerequisites(){return this.context.user.isSignedIn&&b.user_notes_app}async apply(){let e=document.querySelector("#queueCtn");if(!e)throw new Error("Node not found");new gu({target:e,props:{notes:new hn,appid:this.context.appid,appName:this.context.appName}})}};var xn=class extends P{constructor(){super(...arguments);this._levelMap={A:["gold",Zl],B:["silver",jl],C:["limited",Vl],Incomplete:["incomplete",Gl],Unsupported:["unsupported",Hl]};this._wsgf=null}async checkPrerequisites(){if(!b.showwsgf||this.context.isDlcLike||this.context.isVideoOrHardware)return!1;let t=await this.context.data;return!t||!t.wsgf?!1:(this._wsgf=t.wsgf,!0)}_getType(t,o,n){let s="",i="",[a,l]=this._levelMap[t]??[void 0,void 0];return a&&(s=ge.getURL(`img/wsgf/${o}-${a}.png`),i=v(l,{type:n})),[s,i]}apply(){if(!this._wsgf)return;let{url:t,wide:o,multi_monitor:n,"4k":s,ultrawide:i}=this._wsgf,[a,l]=this._getType(o,"ws","Widescreen"),[c,p]=this._getType(n,"mm","Multi-Monitor"),[u,_]=this._getType(i,"uw","Ultra-Widescreen"),[g,d]=this._getType(s,"4k","4k UHD");G.afterEnd("div.game_details",`<div class="block responsive_apppage_details_right heading">${v(Kl)}</div>
            <div class="block underlined_links es_wsgf">
                <div class="block_content">
                    <div class="block_content_inner">
                        <div class="details_block">
                            ${o?`<img src="${G.escape(a)}" title="${G.escape(l)}" alt="">`:""}
                            ${n?`<img src="${G.escape(c)}" title="${G.escape(p)}" alt="">`:""}
                            ${i?`<img src="${G.escape(u)}" title="${G.escape(_)}" alt="">`:""}
                            ${s?`<img src="${G.escape(g)}" title="${G.escape(d)}" alt="">`:""}
                        </div>
                        <br>
                        <a class="linkbar es_external_icon" target="_blank" href="${G.escape(t)}">${v(Ga)}</a>
                    </div>
                </div>
            </div>`)}};function Z_(r){let e;return{c(){e=h("i"),m(e,"class","ico16 svelte-1cf0mrd")},m(t,o){w(t,e,o)},p:B,d(t){t&&x(e)}}}function j_(r){let e;return{c(){e=h("i"),m(e,"class","ico16 svelte-1cf0mrd"),ze(e,"background","url("+r[2]+")"),ze(e,"background-size","contain")},m(t,o){w(t,e,o)},p(t,o){o&4&&ze(e,"background","url("+t[2]+")")},d(t){t&&x(e)}}}function V_(r){let e,t,o,n,s,i,a,l;function c(d,k){return d[2]?j_:Z_}let p=c(r,-1),u=p(r),_=r[5].default,g=pt(_,r,r[4],null);return{c(){e=h("a"),t=h("span"),u.c(),o=D(),g&&g.c(),m(e,"class",n="btnv6_blue_hoverfade btn_medium "+r[1]+" svelte-1cf0mrd"),m(e,"href",r[0]),j(e,"es_community_btn",r[3]),j(e,"es_app_btn",!r[3])},m(d,k){w(d,e,k),f(e,t),u.m(t,null),f(t,o),g&&g.m(t,null),i=!0,a||(l=Ce(s=Se.call(null,e)),a=!0)},p(d,[k]){p===(p=c(d,k))&&u?u.p(d,k):(u.d(1),u=p(d),u&&(u.c(),u.m(t,o))),g&&g.p&&(!i||k&16)&&mt(g,_,d,d[4],i?ut(_,d[4],k,null):_t(d[4]),null),(!i||k&2&&n!==(n="btnv6_blue_hoverfade btn_medium "+d[1]+" svelte-1cf0mrd"))&&m(e,"class",n),(!i||k&1)&&m(e,"href",d[0]),(!i||k&10)&&j(e,"es_community_btn",d[3]),(!i||k&10)&&j(e,"es_app_btn",!d[3])},i(d){i||(C(g,d),i=!0)},o(d){I(g,d),i=!1},d(d){d&&x(e),u.d(),g&&g.d(d),a=!1,l()}}}function K_(r,e,t){let{$$slots:o={},$$scope:n}=e,{href:s}=e,{icon:i=""}=e,{iconUrl:a=null}=e,{isCommunity:l=!1}=e;return r.$$set=c=>{"href"in c&&t(0,s=c.href),"icon"in c&&t(1,i=c.icon),"iconUrl"in c&&t(2,a=c.iconUrl),"isCommunity"in c&&t(3,l=c.isCommunity),"$$scope"in c&&t(4,n=c.$$scope)},[s,i,a,l,n,o]}var ui=class extends ${constructor(e){super(),z(this,e,K_,V_,q,{href:0,icon:1,iconUrl:2,isCommunity:3})}},Ve=ui;function Y_(r){let e,t;return e=new Ve({props:{href:"https://isthereanydeal.com/steam/"+r[0]+"/"+r[1]+"/",icon:"itad_ico",isCommunity:r[2],$$slots:{default:[X_]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&3&&(s.href="https://isthereanydeal.com/steam/"+o[0]+"/"+o[1]+"/"),n&4&&(s.isCommunity=o[2]),n&12&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function X_(r){let e=(r[2]?"ITAD":v(He,{website:"IsThereAnyDeal"}))+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p(o,n){n&4&&e!==(e=(o[2]?"ITAD":v(He,{website:"IsThereAnyDeal"}))+"")&&H(t,e)},d(o){o&&x(t)}}}function ed(r){let e,t;return e=new Ve({props:{href:"https://steamdb.info/"+r[0]+"/"+r[1]+"/",icon:"steamdb_ico",isCommunity:r[2],$$slots:{default:[td]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&3&&(s.href="https://steamdb.info/"+o[0]+"/"+o[1]+"/"),n&4&&(s.isCommunity=o[2]),n&12&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function td(r){let e=(r[2]?"SteamDB":v(He,{website:"SteamDB"}))+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p(o,n){n&4&&e!==(e=(o[2]?"SteamDB":v(He,{website:"SteamDB"}))+"")&&H(t,e)},d(o){o&&x(t)}}}function od(r){let e,t;return e=new Ve({props:{href:"https://barter.vg/steam/"+r[0]+"/"+r[1]+"/",icon:"bartervg_ico",isCommunity:r[2],$$slots:{default:[nd]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&3&&(s.href="https://barter.vg/steam/"+o[0]+"/"+o[1]+"/"),n&4&&(s.isCommunity=o[2]),n&12&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function nd(r){let e=(r[2]?"Barter.vg":v(He,{website:"Barter.vg"}))+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p(o,n){n&4&&e!==(e=(o[2]?"Barter.vg":v(He,{website:"Barter.vg"}))+"")&&H(t,e)},d(o){o&&x(t)}}}function rd(r){let e,t,o,n,s=b.showitadlinks&&Y_(r),i=b.showsteamdb&&ed(r),a=b.showbartervg&&od(r);return{c(){s&&s.c(),e=D(),i&&i.c(),t=D(),a&&a.c(),o=ue()},m(l,c){s&&s.m(l,c),w(l,e,c),i&&i.m(l,c),w(l,t,c),a&&a.m(l,c),w(l,o,c),n=!0},p(l,[c]){b.showitadlinks&&s.p(l,c),b.showsteamdb&&i.p(l,c),b.showbartervg&&a.p(l,c)},i(l){n||(C(s),C(i),C(a),n=!0)},o(l){I(s),I(i),I(a),n=!1},d(l){l&&(x(e),x(t),x(o)),s&&s.d(l),i&&i.d(l),a&&a.d(l)}}}function sd(r,e,t){let{type:o}=e,{gameid:n}=e,{isCommunity:s=!1}=e;return r.$$set=i=>{"type"in i&&t(0,o=i.type),"gameid"in i&&t(1,n=i.gameid),"isCommunity"in i&&t(2,s=i.isCommunity)},[o,n,s]}var mi=class extends ${constructor(e){super(),z(this,e,sd,rd,q,{type:0,gameid:1,isCommunity:2})}},hu=mi;var vn=class{static escapeUserUrl(e,t){/^[^/]+\/\//.test(e)||(e=`https://${e}`);for(let[o,n]of Object.entries(t))e=e.replace(`[${o}]`,encodeURIComponent(n));return URL.parse(e)?.toString()??null}};function bu(r,e,t){let o=r.slice();return o[3]=e[t],o}function xu(r){let e=r.slice(),t=vn.escapeUserUrl(e[3].url,{NAME:e[2],ID:String(e[0])});return e[6]=t,e}function id(r){let e,t;return e=new Ve({props:{href:"https://www.steamcardexchange.net/index.php?gamepage-appid-"+r[1]+"/",icon:"cardexchange_btn",$$slots:{default:[ad]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&2&&(s.href="https://www.steamcardexchange.net/index.php?gamepage-appid-"+o[1]+"/"),n&128&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function ad(r){let e=v(He,{website:"Steam Card Exchange"})+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p:B,d(o){o&&x(t)}}}function ld(r){let e,t;return e=new Ve({props:{href:"https://www.protondb.com/app/"+r[0]+"/",icon:"protondb_btn",$$slots:{default:[cd]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&1&&(s.href="https://www.protondb.com/app/"+o[0]+"/"),n&128&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function cd(r){let e=v(He,{website:"ProtonDB"})+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p:B,d(o){o&&x(t)}}}function pd(r){let e,t;return e=new Ve({props:{href:"https://completionist.me/steam/app/"+r[0]+"/",icon:"completionistme_btn",$$slots:{default:[ud]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&1&&(s.href="https://completionist.me/steam/app/"+o[0]+"/"),n&128&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function ud(r){let e=v(He,{website:"Completionist.me"})+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p:B,d(o){o&&x(t)}}}function md(r){let e,t;return e=new Ve({props:{href:"https://pcgamingwiki.com/api/appid.php?appid="+r[0],icon:"pcgw_btn",$$slots:{default:[_d]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&1&&(s.href="https://pcgamingwiki.com/api/appid.php?appid="+o[0]),n&128&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function _d(r){let e=v(cl,{pcgw:"PCGamingWiki"})+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p:B,d(o){o&&x(t)}}}function vu(r){let e,t,o,n,s,i=b.showtwitch&&dd(r),a=b.showyoutube&&gd(r),l=b.showyoutubegameplay&&bd(r),c=b.showyoutubereviews&&vd(r);return{c(){i&&i.c(),e=D(),a&&a.c(),t=D(),l&&l.c(),o=D(),c&&c.c(),n=ue()},m(p,u){i&&i.m(p,u),w(p,e,u),a&&a.m(p,u),w(p,t,u),l&&l.m(p,u),w(p,o,u),c&&c.m(p,u),w(p,n,u),s=!0},p(p,u){b.showtwitch&&i.p(p,u),b.showyoutube&&a.p(p,u),b.showyoutubegameplay&&l.p(p,u),b.showyoutubereviews&&c.p(p,u)},i(p){s||(C(i),C(a),C(l),C(c),s=!0)},o(p){I(i),I(a),I(l),I(c),s=!1},d(p){p&&(x(e),x(t),x(o),x(n)),i&&i.d(p),a&&a.d(p),l&&l.d(p),c&&c.d(p)}}}function dd(r){let e,t;return e=new Ve({props:{href:"https://www.twitch.tv/directory/game/"+encodeURIComponent(r[2]),icon:"twitch_btn",$$slots:{default:[fd]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&4&&(s.href="https://www.twitch.tv/directory/game/"+encodeURIComponent(o[2])),n&128&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function fd(r){let e=v(He,{website:"Twitch"})+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p:B,d(o){o&&x(t)}}}function gd(r){let e,t;return e=new Ve({props:{href:"https://www.youtube.com/results?search_query="+encodeURIComponent(r[2]),icon:"as_youtube_btn",$$slots:{default:[hd]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&4&&(s.href="https://www.youtube.com/results?search_query="+encodeURIComponent(o[2])),n&128&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function hd(r){let e=v(He,{website:"YouTube"})+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p:B,d(o){o&&x(t)}}}function bd(r){let e,t;return e=new Ve({props:{href:"https://www.youtube.com/results?search_query="+encodeURIComponent(`${r[2]} "PC" Gameplay`),icon:"as_youtube_btn",$$slots:{default:[xd]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&4&&(s.href="https://www.youtube.com/results?search_query="+encodeURIComponent(`${o[2]} "PC" Gameplay`)),n&128&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function xd(r){let e=v(Ea)+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p:B,d(o){o&&x(t)}}}function vd(r){let e,t;return e=new Ve({props:{href:"https://www.youtube.com/results?search_query="+encodeURIComponent(`${r[2]} "PC" Review`),icon:"as_youtube_btn",$$slots:{default:[wd]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&4&&(s.href="https://www.youtube.com/results?search_query="+encodeURIComponent(`${o[2]} "PC" Review`)),n&128&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function wd(r){let e=v(Ba)+"",t;return{c(){t=T(e)},m(o,n){w(o,t,n)},p:B,d(o){o&&x(t)}}}function yd(r){let e,t,o=r[6]&&wu(r);return{c(){o&&o.c(),e=ue()},m(n,s){o&&o.m(n,s),w(n,e,s),t=!0},p(n,s){n[6]?o?(o.p(n,s),s&5&&C(o,1)):(o=wu(n),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(ce(),I(o,1,1,()=>{o=null}),pe())},i(n){t||(C(o),t=!0)},o(n){I(o),t=!1},d(n){n&&x(e),o&&o.d(n)}}}function wu(r){let e,t;return e=new Ve({props:{href:r[6],iconUrl:r[3].icon?G.formatUrl(r[3].icon):null,$$slots:{default:[Qd]},$$scope:{ctx:r}}}),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&5&&(s.href=o[6]),n&128&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function Qd(r){let e=v(He,{website:r[3].name})+"",t,o;return{c(){t=T(e),o=D()},m(n,s){w(n,t,s),w(n,o,s)},p:B,d(n){n&&(x(t),x(o))}}}function yu(r){let e,t,o=r[3].enabled&&yd(xu(r));return{c(){o&&o.c(),e=ue()},m(n,s){o&&o.m(n,s),w(n,e,s),t=!0},p(n,s){n[3].enabled&&o.p(xu(n),s)},i(n){t||(C(o),t=!0)},o(n){I(o),t=!1},d(n){n&&x(e),o&&o.d(n)}}}function Sd(r){let e,t,o,n,s,i,a,l,c;e=new hu({props:{type:"app",gameid:r[0]}});let p=b.showsteamcardexchange&&id(r),u=b.showprotondb&&ld(r),_=b.showcompletionistme&&pd(r),g=b.showpcgw&&md(r),d=r[2]&&vu(r),k=_e(b.app_custom_link),S=[];for(let N=0;N<k.length;N+=1)S[N]=yu(bu(r,k,N));let U=N=>I(S[N],1,1,()=>{S[N]=null});return{c(){ee(e.$$.fragment),t=D(),p&&p.c(),o=D(),u&&u.c(),n=D(),_&&_.c(),s=D(),g&&g.c(),i=D(),d&&d.c(),a=D();for(let N=0;N<S.length;N+=1)S[N].c();l=ue()},m(N,E){Y(e,N,E),w(N,t,E),p&&p.m(N,E),w(N,o,E),u&&u.m(N,E),w(N,n,E),_&&_.m(N,E),w(N,s,E),g&&g.m(N,E),w(N,i,E),d&&d.m(N,E),w(N,a,E);for(let Q=0;Q<S.length;Q+=1)S[Q]&&S[Q].m(N,E);w(N,l,E),c=!0},p(N,[E]){let Q={};if(E&1&&(Q.gameid=N[0]),e.$set(Q),b.showsteamcardexchange&&p.p(N,E),b.showprotondb&&u.p(N,E),b.showcompletionistme&&_.p(N,E),b.showpcgw&&g.p(N,E),N[2]?d?(d.p(N,E),E&4&&C(d,1)):(d=vu(N),d.c(),C(d,1),d.m(a.parentNode,a)):d&&(ce(),I(d,1,1,()=>{d=null}),pe()),E&5){k=_e(b.app_custom_link);let L;for(L=0;L<k.length;L+=1){let F=bu(N,k,L);S[L]?(S[L].p(F,E),C(S[L],1)):(S[L]=yu(F),S[L].c(),C(S[L],1),S[L].m(l.parentNode,l))}for(ce(),L=k.length;L<S.length;L+=1)U(L);pe()}},i(N){if(!c){C(e.$$.fragment,N),C(p),C(u),C(_),C(g),C(d);for(let E=0;E<k.length;E+=1)C(S[E]);c=!0}},o(N){I(e.$$.fragment,N),I(p),I(u),I(_),I(g),I(d),S=S.filter(Boolean);for(let E=0;E<S.length;E+=1)I(S[E]);c=!1},d(N){N&&(x(t),x(o),x(n),x(s),x(i),x(a),x(l)),X(e,N),p&&p.d(N),u&&u.d(N),_&&_.d(N),g&&g.d(N),d&&d.d(N),qe(S,N)}}}function kd(r,e,t){let{appid:o}=e,{communityAppid:n}=e,{appName:s=""}=e;return r.$$set=i=>{"appid"in i&&t(0,o=i.appid),"communityAppid"in i&&t(1,n=i.communityAppid),"appName"in i&&t(2,s=i.appName)},[o,n,s]}var _i=class extends ${constructor(e){super(),z(this,e,kd,Sd,q,{appid:0,communityAppid:1,appName:2})}},Er=_i;var wn=class extends P{apply(){let e=document.querySelector("#shareEmbedRow");if(!e)throw new Error("Node not found");let t=document.querySelector(".es_side_details_wrap");t?t.insertAdjacentElement("afterend",e):document.querySelector("div.rightcol.game_meta_data").insertAdjacentElement("afterbegin",e),new Er({target:e,anchor:e.firstElementChild,props:{appid:this.context.appid,communityAppid:this.context.communityAppid,appName:Rt.clearSpecialSymbols(this.context.appName)}})}};var yn=class extends P{apply(){if(G.beforeBegin("h2.pageheader",`<div class="es_apphub_OtherSiteInfo">
                <a class="btnv6_blue_hoverfade btn_medium" href="//steamcommunity.com/app/${this.context.appid}/">
                    <span>${v(fa)}</span>
                </a>
            </div>`),!this.hasExtraLinksEnabled())return;let e=document.createElement("div");e.classList.add("es_extralinks_ctn"),document.querySelector("#error_box").insertAdjacentElement("afterend",e),new Er({target:e,props:{appid:this.context.appid,communityAppid:this.context.appid}})}hasExtraLinksEnabled(){return b.showitadlinks||b.showsteamdb||b.showbartervg||b.showsteamcardexchange||b.showprotondb||b.showcompletionistme||b.showpcgw||b.app_custom_link.some(e=>e.enabled)}};var Xe=class{static{this.registered=!1}static register(){this.registered||(le.insertScript("scriptlets/DynamicStoreScriptlet.js"),this.registered=!0)}static onReady(){return this.readyPromise||(this.readyPromise=new Promise(e=>{this.register(),window.addEventListener("DSReady",()=>e(),{once:!0}),he.call("as_DynamicStore","onReady")})),this.readyPromise}static invalidateCacheHandler(){this.register(),window.addEventListener("DSInvalidateCache",()=>this.clear()),he.call("as_DynamicStore","invalidateCache")}static clear(){return De.clearDynamicStore()}static async getAppsStatus(e){let t=await De.getDynamicStoreStatus(e);return{ignored:new Set(t.ignored),ignoredOwned:new Set(t.ignoredOwned),owned:new Set(t.owned),wishlisted:new Set(t.wishlisted),followed:new Set(t.followed)}}static async getAppStatus(e){let t=await De.getDynamicStoreStatus([e]);return{ignored:t.ignored.length>0,ignoredOwned:t.ignoredOwned.length>0,owned:t.owned.length>0,wishlisted:t.wishlisted.length>0,followed:t.followed.length>0}}static getRandomApp(){return De.getDynamicStoreRandomApp()}};var io=class extends ht{static fromUrl(e){let t=e.match(/(?:store\.steampowered|steamcommunity)\.com\/sub\/(\d+)\/?/);return t&&t[1]!==void 0?Number(t[1]):null}static fromElement(e){if(!e)return null;let t=e.dataset.dsPackageid;if(t)return Number(t);let o=e.getAttribute("href");return o?this.fromUrl(o):null}constructor(e){super("sub",e)}};var ao=class extends ht{static fromUrl(e){let t=e.match(/(?:store\.steampowered|steamcommunity)\.com\/bundle\/(\d+)\/?/);return t&&t[1]!==void 0?Number(t[1]):null}static fromElement(e){if(!e)return null;let t=e.dataset.dsBundleid;if(t)return Number(t);let o=e.getAttribute("href");return o?this.fromUrl(o):null}constructor(e){super("bundle",e)}};var Qu=(o=>(o[o.OK=0]="OK",o[o.Loading=1]="Loading",o[o.Error=2]="Error",o))(Qu||{}),et=Qu;function Ld(r){let e;return{c(){e=h("span"),m(e,"class","svelte-1h9tyup"),j(e,"is-loading",r[0]===et.Loading),j(e,"is-error",r[0]===et.Error)},m(t,o){w(t,e,o)},p(t,[o]){o&1&&j(e,"is-loading",t[0]===et.Loading),o&1&&j(e,"is-error",t[0]===et.Error)},i:B,o:B,d(t){t&&x(e)}}}function Nd(r,e,t){let{status:o=et.OK}=e;return r.$$set=n=>{"status"in n&&t(0,o=n.status)},[o]}var di=class extends ${constructor(e){super(),z(this,e,Nd,Ld,q,{status:0})}},Br=di;function Su(r){let e,t,o,n,s,i=[Dd,Fd],a=[];function l(c,p){return c[0]===et.Loading?0:1}return t=l(r,-1),o=a[t]=i[t](r),{c(){e=h("div"),o.c()},m(c,p){w(c,e,p),a[t].m(e,null),s=!0},p(c,p){let u=t;t=l(c,p),t===u?a[t].p(c,p):(ce(),I(a[u],1,1,()=>{a[u]=null}),pe(),o=a[t],o?o.p(c,p):(o=a[t]=i[t](c),o.c()),C(o,1),o.m(e,null))},i(c){s||(C(o),c&&Ye(()=>{s&&(n||(n=no(e,Ft,{duration:200},!0)),n.run(1))}),s=!0)},o(c){I(o),c&&(n||(n=no(e,Ft,{duration:200},!1)),n.run(0)),s=!1},d(c){c&&x(e),a[t].d(),c&&n&&n.end()}}}function Fd(r){let e,t,o;return{c(){e=h("button"),e.textContent=`${v(tc)}`,m(e,"type","button"),m(e,"class","asi__sync-now svelte-1yrw4ok")},m(n,s){w(n,e,s),t||(o=ne(e,"click",r[5]),t=!0)},p:B,i:B,o:B,d(n){n&&x(e),t=!1,o()}}}function Dd(r){let e,t,o,n=v(_a)+"",s,i;return t=new Br({props:{status:et.Loading}}),{c(){e=h("span"),ee(t.$$.fragment),o=D(),s=T(n)},m(a,l){w(a,e,l),Y(t,e,null),f(e,o),f(e,s),i=!0},p:B,i(a){i||(C(t.$$.fragment,a),i=!0)},o(a){I(t.$$.fragment,a),i=!1},d(a){a&&x(e),X(t)}}}function Cd(r){let e,t,o,n,s,i,a=(r[3]?new Date(r[3]*1e3).toLocaleString():v(go))+"",l,c,p,u,_,g=(r[4]?new Date(r[4]*1e3).toLocaleString():v(go))+"",d,k,S,U=r[1]&&r[2]&&Su(r);return{c(){e=h("div"),t=h("div"),t.textContent=`${v(Yl)}`,o=D(),n=h("div"),s=h("div"),s.textContent=`${v(Xl)}`,i=D(),l=T(a),c=D(),p=h("div"),u=h("div"),u.textContent=`${v(ec)}`,_=D(),d=T(g),k=D(),U&&U.c(),m(t,"class","asi-head svelte-1yrw4ok"),m(s,"class","asi-label svelte-1yrw4ok"),m(n,"class","asi-status svelte-1yrw4ok"),m(u,"class","asi-label svelte-1yrw4ok"),m(p,"class","asi-status svelte-1yrw4ok"),m(e,"class","asi-container svelte-1yrw4ok")},m(N,E){w(N,e,E),f(e,t),f(e,o),f(e,n),f(n,s),f(n,i),f(n,l),f(e,c),f(e,p),f(p,u),f(p,_),f(p,d),f(e,k),U&&U.m(e,null),S=!0},p(N,[E]){(!S||E&8)&&a!==(a=(N[3]?new Date(N[3]*1e3).toLocaleString():v(go))+"")&&H(l,a),(!S||E&16)&&g!==(g=(N[4]?new Date(N[4]*1e3).toLocaleString():v(go))+"")&&H(d,g),N[1]&&N[2]?U?(U.p(N,E),E&6&&C(U,1)):(U=Su(N),U.c(),C(U,1),U.m(e,null)):U&&(ce(),I(U,1,1,()=>{U=null}),pe())},i(N){S||(C(U),S=!0)},o(N){I(U),S=!1},d(N){N&&x(e),U&&U.d()}}}function Ed(r,e,t){let o=Je(),{isConnected:n}=e,{enableSync:s}=e,{status:i=et.OK}=e,a=null,l=null;async function c(){let u=await de.getLastImport();t(3,a=u.from),t(4,l=u.to)}async function p(){t(0,i=et.Loading);try{await de.sync(!0),t(0,i=et.OK),await c(),o("syncEvent")}catch(u){t(0,i=et.Error),console.group("ITAD sync"),console.error("Failed to sync with ITAD"),console.error(u),console.groupEnd()}}return r.$$set=u=>{"isConnected"in u&&t(1,n=u.isConnected),"enableSync"in u&&t(2,s=u.enableSync),"status"in u&&t(0,i=u.status)},[i,n,s,a,l,p,c]}var fi=class extends ${constructor(e){super(),z(this,e,Ed,Cd,q,{isConnected:1,enableSync:2,status:0,updateLastImport:6})}get updateLastImport(){return this.$$.ctx[6]}},ku=fi;function Bd(r){let e,t,o,n,s,i,a,l,c,p,u,_,g;s=new Br({props:{status:r[1]}});function d(S){r[3](S)}let k={isConnected:!0,enableSync:b.itad_sync_library||b.itad_sync_wishlist};return r[1]!==void 0&&(k.status=r[1]),c=new ku({props:k}),Ae.push(()=>rp(c,"status",d)),r[4](c),{c(){e=h("div"),t=h("img"),n=D(),ee(s.$$.fragment),i=D(),a=h("div"),l=h("div"),ee(c.$$.fragment),m(t,"class","asi__logo svelte-169w6z4"),$e(t.src,o=r[2])||m(t,"src",o),m(t,"alt","ITAD logo"),m(l,"class","asi__content svelte-169w6z4"),m(a,"class","asi__hover svelte-169w6z4"),m(e,"class","asi svelte-169w6z4")},m(S,U){w(S,e,U),f(e,t),f(e,n),Y(s,e,null),f(e,i),f(e,a),f(a,l),Y(c,l,null),u=!0,_||(g=ne(e,"mouseenter",r[5]),_=!0)},p(S,[U]){let N={};U&2&&(N.status=S[1]),s.$set(N);let E={};!p&&U&2&&(p=!0,E.status=S[1],Kc(()=>p=!1)),c.$set(E)},i(S){u||(C(s.$$.fragment,S),C(c.$$.fragment,S),u=!0)},o(S){I(s.$$.fragment,S),I(c.$$.fragment,S),u=!1},d(S){S&&x(e),X(s),r[4](null),X(c),_=!1,g()}}}function Ud(r,e,t){let o=ge.getURL("img/itad.png"),n,s;function i(c){s=c,t(1,s)}function a(c){Ae[c?"unshift":"push"](()=>{n=c,t(0,n)})}return[n,s,o,i,a,()=>n.updateLastImport()]}var gi=class extends ${constructor(e){super(),z(this,e,Ud,Bd,q,{})}},Lu=gi;var Ct=class{static async init(e){if(!await de.isConnected())return;e.isSignedIn&&await de.sync();let t=document.querySelector(".as-menu");t&&new Lu({target:t.parentElement,anchor:t})}static async getInCollection(e){let t=new Set;if(await de.isConnected()){let o=await de.inCollection(e);for(let[n,s]of Object.entries(o))s&&t.add(n)}return t}static async getInWaitlist(e){let t=new Set;if(await de.isConnected()){let o=await de.inWaitlist(e);for(let[n,s]of Object.entries(o))s&&t.add(n)}return t}};var yt=class{static{this._highlightCssLoaded=!1}static{this._tagCssLoaded=!1}static{this._selector=[".tab_item",".newonsteam_headercap",".comingsoon_headercap",".store_capsule",".dailydeal_ctn",".special.special_img_ctn",".special > .special_img_ctn",".store_main_capsule",".home_marketing_message[data-ds-appid]",".home_area_spotlight",".curator_giant_capsule",".home_content_item",".home_content.single > .gamelink",".highlighted_app_header","body.dlc_curator #curator_avatar_image",".curator_featured .capsule",".recommendation",".search_result_row",".small_cap",".game_area_dlc_row",".browse_tag_game",".recommendation_highlight > .header_image",".similar_grid_item",".friend_game_block > .game_capsule",".friendactivity_tab_row",".recommendation_app",".recommendation_carousel_item",".app_header",".friendplaytime_appheader"].join(",")}static highlightTitle(e){let t=document.querySelector(".apphub_AppName");return t?(t.dataset.dsAppid=String(e),this.highlightAndTag([t])):Promise.resolve()}static async highlightAndTag(e=void 0,t={}){let o={owned:b.highlight_owned||b.tag_owned,wishlisted:b.highlight_wishlist||b.tag_wishlist,followed:b.highlight_followed||b.tag_followed,ignored:b.highlight_notinterested||b.tag_notinterested,ignoredOwned:b.highlight_ignored_owned||b.tag_ignored_owned,collected:b.highlight_collection||b.tag_collection,waitlisted:b.highlight_waitlist||b.tag_waitlist,gift:b.highlight_inv_gift||b.tag_inv_gift,guestPass:b.highlight_inv_guestpass||b.tag_inv_guestpass,coupon:b.highlight_coupon||b.tag_coupon};for(let[S,U]of Object.entries(t))o[S]&&=U;if(!Object.values(o).some(S=>S))return;let n=e??document.querySelectorAll(this._selector);if(n.length===0)return;let s=[],i=new Map;for(let S of n){if(S.classList.contains("es_highlight_checked"))continue;S.classList.add("es_highlight_checked");let U=S.querySelector("a"),N=null,E=Ue.fromElement(S)??Ue.fromElement(U);if(E)N=`app/${E}`,s.push(E);else{let Q=io.fromElement(S)??io.fromElement(U);if(Q)N=`sub/${Q}`;else{let L=ao.fromElement(S)??ao.fromElement(U);L&&(N=`bundle/${L}`)}}N?i.has(N)?i.get(N).push(S):i.set(N,[S]):console.warn("FHighlightsTags: Couldn't find storeId for node %o",S)}let a=Array.from(i.keys());if(a.length===0)return;let c=o.owned||o.wishlisted||o.followed||o.ignored||o.ignoredOwned?await Xe.getAppsStatus(a):{ignored:new Set,ignoredOwned:new Set,owned:new Set,wishlisted:new Set,followed:new Set},[p,u]=await Promise.all([o.collected?Ct.getInCollection(a):Promise.resolve(new Set),o.waitlisted?Ct.getInWaitlist(a):Promise.resolve(new Set)]),[_,g,d]=await Promise.all([o.gift?wt.getGiftsAppids(s):Promise.resolve(new Set),o.guestPass?wt.getPassesAppids(s):Promise.resolve(new Set),o.coupon?wt.getCouponsAppids(s):Promise.resolve(new Set)]),k={owned:[],wishlist:[],followed:[],ignored:[],ignoredOwned:[],collection:[],waitlist:[],gifts:[],passes:[],coupons:[]};for(let[S,U]of i)o.owned&&c.owned.has(S)&&k.owned.push(...U),o.wishlisted&&c.wishlisted.has(S)&&k.wishlist.push(...U),o.followed&&c.followed.has(S)&&k.followed.push(...U),o.ignored&&c.ignored.has(S)&&k.ignored.push(...U),o.ignoredOwned&&c.ignoredOwned.has(S)&&k.ignoredOwned.push(...U),p.has(S)&&k.collection.push(...U),u.has(S)&&k.waitlist.push(...U),_.has(S)&&k.gifts.push(...U),g.has(S)&&k.passes.push(...U),d.has(S)&&k.coupons.push(...U);this.highlightOwned(k.owned),this.highlightWishlist(k.wishlist),this.highlightFollowed(k.followed),this.highlightIgnored(k.ignored),this.highlightIgnoredOwnedElsewhere(k.ignoredOwned),this.highlightCollection(k.collection),this.highlightWaitlist(k.waitlist),this.highlightInvGift(k.gifts),this.highlightInvGuestpass(k.passes),this.highlightInvCoupon(k.coupons)}static _addTag(e,t){let o={owned:$l,wishlist:Tl,followed:Ml,coupon:Pl,inv_gift:Rl,inv_guestpass:Wl,notinterested:ql,ignored_owned:zl,waitlist:Ol,collection:Jl}[t]??Yi;if(!this._tagCssLoaded){this._tagCssLoaded=!0;let s=[],i={owned:b.tag_owned_color,wishlist:b.tag_wishlist_color,followed:b.tag_followed_color,coupon:b.tag_coupon_color,inv_gift:b.tag_inv_gift_color,inv_guestpass:b.tag_inv_guestpass_color,notinterested:b.tag_notinterested_color,ignored_owned:b.tag_ignored_owned_color,waitlist:b.tag_waitlist_color,collection:b.tag_collection_color};for(let[a,l]of Object.entries(i))s.push(`.es_tag_${a} { background-color: ${l}; }`);le.insertCSS(s.join(`
`))}let n=e.querySelector(".es_tags");n||(n=document.createElement("div"),n.classList.add("es_tags"),b.tag_short&&n.classList.add("es_tags_short"),e.classList.contains("tab_item")?e.querySelector(".tab_item_details").prepend(n):e.classList.contains("store_main_capsule")?e.querySelector(".platforms").prepend(n):e.classList.contains("newonsteam_headercap")||e.classList.contains("comingsoon_headercap")?e.querySelector(".discount_block").before(n):e.classList.contains("search_result_row")?e.querySelector(".search_name > div").prepend(n):e.classList.contains("browse_tag_game")?e.querySelector(".browse_tag_game_price").after(n):e.classList.contains("game_area_dlc_row")?(e.querySelector(".discount_block")||e.querySelector(".game_area_dlc_price")).prepend(n):e.classList.contains("wishlist_row")?e.querySelector(".addedon").prepend(n):e.classList.contains("match_app")?e.querySelector(".match_subtitle").prepend(n):e.classList.contains("header_image")?e.parentNode.querySelector(".highlight_description").prepend(n):e.classList.contains("similar_grid_item")?e.querySelector(".regular_price, .discount_block").append(n):e.classList.contains("recommendation_carousel_item")?e.querySelector(".buttons").before(n):e.classList.contains("friendplaytime_game")&&e.querySelector(".friendplaytime_buttons").before(n)),G.beforeEnd(n,`<span class="es_tag_${t}">${v(o)}</span>`)}static _highlightNode(e,t){if(b.highlight_excludef2p){let n=e.querySelector("[data-ds-tagids]")??e.closest("[data-ds-tagids]");if(n&&JSON.parse(n.dataset.dsTagids).includes(113)||(n=e.querySelector(".discount_final_price, .regular_price, .search_price, .game_area_dlc_price, .browse_tag_game_price"),n&&/\bFree\b/.test(n.textContent??"")))return}if(!this._highlightCssLoaded){this._highlightCssLoaded=!0;let n=[],s={ignored_owned:b.highlight_ignored_owned_color,notinterested:b.highlight_notinterested_color,waitlist:b.highlight_waitlist_color,wishlist:b.highlight_wishlist_color,followed:b.highlight_followed_color,collection:b.highlight_collection_color,owned:b.highlight_owned_color,coupon:b.highlight_coupon_color,inv_guestpass:b.highlight_inv_guestpass_color,inv_gift:b.highlight_inv_gift_color};for(let[i,a]of Object.entries(s))n.push(`.es_highlighted_${i} {
                        background: ${a} linear-gradient(135deg, rgba(0, 0, 0, 0.70) 10%, rgba(0, 0, 0, 0) 100%) !important;
                    }
                    .curator_giant_capsule.es_highlighted_${i},
                    .blotter_userstatus_game.es_highlighted_${i},
                    #curator_avatar_image.es_highlighted_${i} .curator_avatar,
                    .app_header.es_highlighted_${i} {
                        outline: solid ${a};
                    }
                    .apphub_AppName.es_highlighted_${i} {
                        background: none !important; color: ${a};
                    }`);le.insertCSS(n.join(`
`))}let o=e;e.classList.contains("item")?o=e.querySelector(".info"):e.classList.contains("home_area_spotlight")?o=e.querySelector(".spotlight_content"):e.classList.contains("special_img_ctn")&&e.parentElement?.classList.contains("special")?o=e.parentElement:e.classList.contains("store_capsule")?e.parentElement?.classList.contains("steam_curator_recommendation")&&e.parentElement?.classList.contains("big")?o=e.nextElementSibling:e.parentNode?.parentElement?.classList.contains("curations")&&(o=e.parentElement):(e.classList.contains("blotter_userstats_game")||e.classList.contains("gamelink")||e.classList.contains("recommendation_app")||e.classList.contains("header_image")||e.classList.contains("game_capsule")||e.classList.contains("highlighted_app_header")||e.classList.contains("friendplaytime_appheader"))&&(o=e.parentNode),o?.classList.add("es_highlighted",`es_highlighted_${t}`),e.querySelectorAll(".ds_flag").forEach(n=>n.remove()),e.querySelectorAll(".ds_flagged").forEach(n=>n.classList.remove("ds_flagged")),e.classList.remove("ds_flagged")}static _highlightItems(e,t,o,n){for(let s of e){if(n)try{this._highlightNode(s,t)}catch(i){console.error("Failed to highlight node",i)}if(o)try{this._addTag(s,t)}catch(i){console.error("Failed to tag node",i)}}}static highlightOwned(e){this._highlightItems(e,"owned",b.tag_owned,b.highlight_owned)}static highlightWishlist(e){this._highlightItems(e,"wishlist",b.tag_wishlist,b.highlight_wishlist)}static highlightFollowed(e){this._highlightItems(e,"followed",b.tag_followed,b.highlight_followed)}static highlightInvCoupon(e){this._highlightItems(e,"coupon",b.tag_coupon,b.highlight_coupon)}static highlightInvGift(e){this._highlightItems(e,"inv_gift",b.tag_inv_gift,b.highlight_inv_gift)}static highlightInvGuestpass(e){this._highlightItems(e,"inv_guestpass",b.tag_inv_guestpass,b.highlight_inv_guestpass)}static highlightIgnored(e){this._highlightItems(e,"notinterested",b.tag_notinterested,b.highlight_notinterested)}static highlightIgnoredOwnedElsewhere(e){this._highlightItems(e,"ignored_owned",b.tag_ignored_owned,b.highlight_ignored_owned)}static highlightCollection(e){this._highlightItems(e,"collection",b.tag_collection,b.highlight_collection)}static highlightWaitlist(e){this._highlightItems(e,"waitlist",b.tag_waitlist,b.highlight_waitlist)}};var Qn=class extends P{async apply(){await Xe.onReady(),await yt.highlightAndTag()}};var Sn=class extends P{checkPrerequisites(){return b.show_alternative_linux_icon}apply(){let e=ge.getURL("img/alternative_linux_icon.png"),t="";t+=`
            span[title*='Linux'] svg {
              visibility:hidden
            }
            span[title*='Linux']:has(svg) {
              background-image: url(${e});
              background-repeat: no-repeat;
              background-position: center;
            }
        `,t+=`
            span.platform_img.linux {
              background-image: url(${e}) !important;
            }
        `,this.context.type===je.STORE_FRONT&&(t+=`
              .tab_item.focus .tab_item_details span.platform_img.linux {
                filter: brightness(0%);
              }
            `),le.insertCSS(t)}};var kn=class extends P{checkPrerequisites(){return b.skip_got_steam}apply(){le.insertScript("scriptlets/Store/Common/skipGotSteamDialog.js")}};var Ln=class extends P{checkPrerequisites(){return b.horizontalscrolling}apply(){for(let e of document.querySelectorAll(".slider_ctn:not(.spotlight)"))this._initHorizontalScroll(e.parentNode.querySelector("#highlight_strip, .store_horizontal_autoslider_ctn"),e.querySelector(".slider_left"),e.querySelector(".slider_right"))}_initHorizontalScroll(e,t,o){let n=0;e.addEventListener("wheel",s=>{if(s.preventDefault(),s.stopPropagation(),Date.now()-n<200)return;n=Date.now(),s.deltaY>0?o.click():t.click()})}};var Nn=class extends P{checkPrerequisites(){return b.hidetmsymbols}apply(){let e="title, .apphub_AppName, .breadcrumbs, h1, h4";this.context.type===je.STORE_DEFAULT?e+=".game_area_already_owned, .details_block, .game_description_snippet, .game_area_description p, .glance_details, .game_area_dlc_bubble game_area_bubble, .package_contents, .game_area_dlc_name, .tab_desc, .tab_item_name":e+=".game_suggestion, .appHubShortcut_Title, .apphub_CardContentNewsTitle, .apphub_CardTextContent, .apphub_CardContentAppName, .apphub_AppName";function t(s){!s||!s.innerHTML||G.inner(s,s.innerHTML.replace(/[\u00AE\u00A9\u2122]/g,""))}for(let s of document.querySelectorAll(e))t(s);let o=new MutationObserver(s=>{s.forEach(i=>{i.addedNodes.forEach(a=>{t(a)})})}),n=document.querySelectorAll("#game_select_suggestions,#search_suggestion_contents,.tab_content_ctn");for(let s of n)o.observe(s,{childList:!0,subtree:!0})}};var Fn=class extends P{checkPrerequisites(){return b.disablelinkfilter}apply(){document.addEventListener("click",e=>{if(!e.target)return;let t=e.target;if(t.tagName!=="A")return;let o=t.href;if(!/\/linkfilter\//.test(o))return;let n=new URL(o).searchParams,s=n.get("u")??n.get("url");s&&(s.includes("%E2%99%A5")||(e.preventDefault(),window.location.href=s))})}};var Dn=class extends P{apply(){let e=["input#market_sell_dialog_accept_ssa","input#market_buyorder_dialog_accept_ssa","input#accept_ssa"].join(",");for(let t of document.querySelectorAll(e))t.checked=b.keepssachecked,t.addEventListener("click",()=>{b.keepssachecked=t.checked})}};var Cn=class extends P{checkPrerequisites(){return b.community_default_tab!==""}apply(){let e=b.community_default_tab,t=document.querySelectorAll("a[href^='https://steamcommunity.com/app/']");for(let o of t)o.classList.contains("apphub_sectionTab")||/^\/app\/[0-9]+\/?$/.test(o.pathname)&&(o.pathname.endsWith("/")||(o.pathname+="/"),o.pathname+=`${e}/`)}};var En=class{constructor(e,t,o){this.language=null;this.featureMap=new Map;this.promiseMap=new Map;this.dependencies=new Map;this.stats={completed:0,failed:0,dependency:0};this.language=e.language,this.user=e.user,this.type=t;for(let n of o){let s=new n(this);this.featureMap.set(s.constructor,s)}}static async create(e){return null}dependency(e,...t){this.dependencies.set(e,new Map(t))}async applyFeatures(){let e=[...this.featureMap.values()].map(t=>this.getFeaturePromise(t));await Promise.allSettled(e),console.log("Feature loading complete, %i successfully loaded, %i failed to load, %i didn't load due to dependency errors",this.stats.completed,this.stats.failed,this.stats.dependency)}getFeaturePromise(e){let t=e.constructor,o=this.promiseMap.get(t);return o||(o=this.applyInternal(e),this.promiseMap.set(t,o)),o}async applyInternal(e){let t=e.constructor,o=this.dependencies.get(t);if(o)try{let s=[];for(let[i,a]of o)s.push((async()=>{let l=this.featureMap.get(i);if(!l)throw new Po.FeatureDependencyError("Dependency feature not found",i.name);let c=await this.getFeaturePromise(l);return a||c})());if(!(await Promise.all(s)).every(i=>i))return!1}catch{console.warn("Not applying feature %s due to an error in the dependency chain",t.name),++this.stats.dependency}let n=!!await e.checkPrerequisites();if(n)try{await e.apply(),++this.stats.completed}catch(s){let i=t.name;throw console.group(i),console.error("Error while applying feature %s",i),console.error(s),console.groupEnd(),++this.stats.failed,new Po.FeatureDependencyError("Failed to apply",i)}return n}};function Ad(r){let e,t,o,n,s;return{c(){e=h("span"),t=h("span"),o=h("img"),m(o,"title",n=v(gl)),$e(o.src,s=r[0])||m(o,"src",s),m(o,"alt","Early Access banner"),m(o,"class","svelte-52sejw"),m(t,"class","es_overlay svelte-52sejw"),m(e,"class","es_overlay_container svelte-52sejw")},m(i,a){w(i,e,a),f(e,t),f(t,o),r[3](e)},p(i,[a]){a&1&&!$e(o.src,s=i[0])&&m(o,"src",s)},i:B,o:B,d(i){i&&x(e),r[3](null)}}}function Id(r,e,t){let{imageUrl:o}=e,{imgHeader:n}=e,s;me(()=>{s.append(n)});function i(a){Ae[a?"unshift":"push"](()=>{s=a,t(1,s)})}return r.$$set=a=>{"imageUrl"in a&&t(0,o=a.imageUrl),"imgHeader"in a&&t(2,n=a.imgHeader)},[o,s,n,i]}var hi=class extends ${constructor(e){super(),z(this,e,Id,Ad,q,{imageUrl:0,imgHeader:2})}},Nu=hi;var $t=class{static{this.storeSelectors=[".tab_item",".newonsteam_headercap",".comingsoon_headercap",".store_capsule",".dailydeal_ctn",".special.special_img_ctn",".home_area_spotlight",".curator_giant_capsule",".home_content_item",".home_content.single > .gamelink",".highlighted_app_header","body.dlc_curator #curator_avatar_image",".curator_featured .capsule",".search_result_row",".small_cap",".browse_tag_game_cap",".recommendation_highlight > .header_image",".similar_grid_item",".friend_game_block > .game_capsule",".friendactivity_tab_row",".recommendation_app",".recommendation_carousel_item",".app_header",".friendplaytime_appheader"]}static{this.communitySelectors=[".gameLogo",".blotter_gamepurchase_logo",".gameLogoHolder_default",".game_capsule_ctn"]}static{this.selector=(window.location.hostname==="store.steampowered.com"?this.storeSelectors:this.communitySelectors).join(",")}static async show(e,t){if(!b.show_early_access||!e)return;let o=t??document.querySelectorAll(this.selector);if(o.length===0)return;let n="img/overlay/early_access_banner_english.png";e.isOneOf("brazilian","french","italian","japanese","koreana","polish","portuguese","russian","schinese","spanish","latam","tchinese","thai")&&(n=`img/overlay/early_access_banner_${e.name}.png`);let s=ge.getURL(n);for(let i of await this.getEaNodes(o)){if(i.querySelector(".es_overlay_container")!==null)continue;i.classList.add("es_early_access");let a=i.querySelector("img");a&&new Nu({target:a.parentElement,anchor:a,props:{imageUrl:s,imgHeader:a}})}}static async getEaNodes(e){let t=new Map;for(let n of e){if(n.classList.contains("es_ea_checked")||(n.classList.add("es_ea_checked"),n.classList.contains("store_capsule")&&n.querySelector(".capsule[id^=broadcast]")!==null))continue;let s=Ue.fromElement(n)||Ue.fromElement(n.querySelector("a"))||Ue.fromElement(n.querySelector("img"));if(s){let i=t.get(s)??[];i.push(n),t.set(s,i)}}if(t.size===0)return[];let o=await Oe.isEarlyAccess([...t.keys()]);return Array.from(t).flatMap(([n,s])=>o[n]?s:[])}};var Bn=class extends P{async apply(){await $t.show(this.context.language)}};var Un=class extends En{constructor(e,t,o=[]){o.push(Bn,Nn,Fn,Dn,Cn),super(e,t,o)}};var An=class extends Un{constructor(e,t=je.STORE_DEFAULT,o=[]){o.push(Qn,Sn,kn,Ln),super(e,t,o),this._observeChanges()}getAllSubids(){let e=[];for(let t of document.querySelectorAll("input[name=subid]"))t.value&&e.push(t.value);return e}_observeChanges(){let e=document.querySelector("#search_suggestion_contents");e&&new MutationObserver(s=>{let i=Array.from(s[0].addedNodes).filter(a=>a.classList.contains("match_app"));this.decorateStoreCapsules(i)}).observe(e,{childList:!0});let t=document.querySelector(".tab_content_ctn");if(t){new MutationObserver(s=>{for(let i of s){let a=i.addedNodes;if(a.length>1){let l=Array.from(a).filter(c=>c instanceof Element&&c.classList.contains("tab_item"));this.decorateStoreCapsules(l)}}}).observe(t,{childList:!0,subtree:!0});return}let o=document.querySelector("#friendactivity_tabarea");if(o){new MutationObserver(s=>{for(let i of s){let a=i.addedNodes;if(a.length>1){let l=Array.from(a).filter(c=>c instanceof Element&&c.querySelector(".friendactivity_game_link")!==null);this.decorateStoreCapsules(l)}}}).observe(o,{childList:!0,subtree:!0});return}let n=document.querySelector(["#tag_browse_games_ctn","#RecommendationsRows","#CuratorsRows"].join(","));n&&new MutationObserver(s=>{for(let{addedNodes:i}of s)if(i.length>0&&i[0]instanceof Element){let a=i[0].querySelectorAll(".browse_tag_game, .store_capsule, .recommendation");this.decorateStoreCapsules(a)}}).observe(n,{childList:!0,subtree:!0})}decorateStoreCapsules(e){yt.highlightAndTag(e),$t.show(this.language,e)}};var In=class extends P{async checkPrerequisites(){return b.add_to_waitlist&&document.querySelector("#add_to_wishlist_area")!==null&&await de.isConnected()}async apply(){let e=document.querySelector(".queue_actions_ctn");if(!e)return;let t=this.context.appid,o=this.context.storeid,n=document.querySelector("img[src$='/ico_demo.gif']")!==null;if(n){let Q=document.querySelector("a[href^='https://steamcommunity.com/app/']");Q&&(t=Ue.fromUrl(Q.href),o=`app/${t}`)}let s=e.querySelector("#add_to_wishlist_area"),i=e.querySelector("#add_to_wishlist_area_success");for(let Q of i.querySelectorAll(":scope > div"))Q.remove();G.beforeBegin(s,`<div style="position: relative;display: inline-flex;gap: 1px;">
                <div class="queue_control_button as_btn_wishlist"></div>
            </div>`);let a=e.querySelector(".as_btn_wishlist");a.append(s,i),G.afterEnd(a,`<div class="queue_control_button queue_btn_menu as_btn_wishlist_menu">
                <div class="queue_menu_arrow btn_medium">
                    <span><img src="//store.cloudflare.steamstatic.com/public/images/v6/btn_arrow_down_padded.png"></span>
                </div>
                <div class="queue_menu_flyout">
                    <div class="queue_menu_flyout_content">
                        <div class="queue_menu_option" id="queue_menu_option_on_wishlist">
                            <div>
                                <img class="queue_ignore_menu_option_image selected" src="//store.cloudflare.steamstatic.com/public/images/v6/ico/ico_selected_bright.png">
                                <img class="queue_ignore_menu_option_image unselected" src="//store.cloudflare.steamstatic.com/public/images/v6/ico/ico_unselected_bright.png">
                            </div>
                            <div class="queue_menu_option_label">
                                <div class="option_title">${v(il)} (${v(La)})</div>
                                <div class="option_subtitle">${n?v(xa):v(ba)}</div>
                            </div>
                        </div>
                        <div class="queue_menu_option" id="queue_menu_option_on_waitlist">
                            <div>
                                <img class="queue_ignore_menu_option_image selected" src="//store.cloudflare.steamstatic.com/public/images/v6/ico/ico_selected_bright.png">
                                <img class="queue_ignore_menu_option_image unselected" src="//store.cloudflare.steamstatic.com/public/images/v6/ico/ico_unselected_bright.png">
                            </div>
                            <div class="queue_menu_option_label">
                                <div class="option_title">Waitlist</div>
                                <div class="option_subtitle">${n?v(wa):v(va)}</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>`);let l=i.querySelector("a"),c=s.querySelector("a"),p=l.querySelector("img");p.classList.add("es-in-wl"),G.beforeBegin(p,`<img class="es-remove-wl" src="${ge.getURL("img/remove.png")}">
            <img class="es-loading-wl" src="//community.cloudflare.steamstatic.com/public/images/login/throbber.gif">`),G.afterBegin(c.querySelector("span"),'<img class="es-loading-wl" src="//community.cloudflare.steamstatic.com/public/images/login/throbber.gif"> '),le.insertScript("scriptlets/Store/App/wishlistHandlers.js");let u=s.style.display==="none",_=(await de.inWaitlist([o]))[o]??!1,g=e.querySelector(".as_btn_wishlist_menu"),d=g.querySelector(".queue_menu_arrow"),k=e.querySelector("#queue_menu_option_on_wishlist"),S=e.querySelector("#queue_menu_option_on_waitlist"),U=i.querySelector("span").lastChild.textContent,N=i.querySelector("a").dataset.tooltipText;function E(){e.classList.remove("loading");let Q=u||_;d.classList.toggle("queue_btn_active",Q),g.classList.toggle("on_wishlist",u),g.classList.toggle("on_waitlist",_),s.style.display=Q?"none":"",i.style.display=Q?"":"none";let L,F;u&&!_?(L=U,F=N):!u&&_?(L=v(al),F=n?v(Qa):v(ya)):u&&_?(L=v(ll),F=n?v(ka):v(Sa)):F=N,L&&(i.querySelector("span").lastChild.textContent=` ${L}`),l.dataset.tooltipText=F,ke.vTooltip("#add_to_wishlist_area_success > a")}E(),c.addEventListener("click",async()=>{e.classList.contains("loading")||(e.classList.add("loading"),await new Promise(Q=>{document.addEventListener("addRemoveWishlist",L=>{L.detail?(u=!u,E()):e.classList.remove("loading"),Q()},{once:!0})}))}),l.addEventListener("click",async Q=>{u||Q.preventDefault(),!e.classList.contains("loading")&&(e.classList.add("loading"),u&&await new Promise(L=>{document.addEventListener("addRemoveWishlist",F=>{F.detail&&(u=!u),L()},{once:!0})}),_&&(await de.removeFromWaitlist(t),_=!_),E())}),k.addEventListener("click",async()=>{e.classList.contains("loading")||(e.classList.add("loading"),await new Promise(Q=>{document.addEventListener("addRemoveWishlist",L=>{L.detail?(u=!u,E()):e.classList.remove("loading"),Q()},{once:!0}),u?ke.removeFromWishlist(t,"add_to_wishlist_area_success","add_to_wishlist_area","add_to_wishlist_area_fail"):ke.addToWishlist(t,"add_to_wishlist_area","add_to_wishlist_area_success","add_to_wishlist_area_fail")}))}),S.addEventListener("click",async()=>{e.classList.contains("loading")||(e.classList.add("loading"),_?await de.removeFromWaitlist(t):await de.addToWaitlist(t),_=!_,E())})}};var Tn=class extends P{async apply(){await Xe.onReady(),await yt.highlightTitle(this.context.appid)}};var Mn=class extends P{checkPrerequisites(){return b.prevent_video_pause}apply(){le.insertScript("scriptlets/Store/App/preventVideoPauseScriptlet.js")}};var Pn=class extends P{checkPrerequisites(){return b.tabtitle_appname_first}apply(){let e=this.context.appName;document.title.startsWith(e)||(document.title=e+" - "+document.title)}};var Rn=class extends P{checkPrerequisites(){return b.horizontalscrolling}apply(){let e=document.querySelector(".highlight_ctn");if(!e){console.error("Couldn't find highlights");return}let t=this.#e(e);if(t)this.#t(t);else{let o=new MutationObserver(()=>{let n=this.#e(e);n&&(this.#t(n),o.disconnect())});o.observe(e,{childList:!0,subtree:!0})}}#e(e){return e.querySelector("._21pEuTVe17EOUzkHK8ZGnJ")}#t(e){let t=0;e.addEventListener("wheel",o=>{if(o.preventDefault(),o.stopPropagation(),Date.now()-t<200)return;t=Date.now();let n=e.querySelector(".deMuRscIE7upszCfACmbK._3VIimult0z05qCgQN1CfPg");if(n){let i=o.deltaY>0?n.nextElementSibling:n.previousElementSibling;i&&i.click()}})}};var Wn=class extends An{constructor(t){let o=document.getElementById("error_box")!==null;super(t,je.APP,o?[yn]:[ln,bn,In,Ko,Ho,un,Mo,Oo,Io,Vo,Yo,en,rn,mn,xn,jo,wn,Go,tn,nn,Ao,Jo,qo,$o,Ro,cn,Xo,_n,sn,Mn,zo,pn,Zo,on,an,Tn,Pn,Rn]);this.communityAppid=0;this.appName="";this.metalink=null;this.hasAchievements=!1;this.isOwned=!1;this.isOwnedAndPlayed=!1;this.isDlc=!1;this.isDlcLike=!1;this.isVideoOrHardware=!1;this.data=Promise.resolve(null);if(this.appid=Ue.fromUrl(window.location.host+window.location.pathname),this.storeid=`app/${this.appid}`,o)return;this.communityAppid=Ue.fromCDNUrl(document.querySelector(".apphub_AppIcon img")?.src??"")??this.appid,this.appName=document.querySelector(".apphub_AppName")?.textContent??"",this.metalink=document.querySelector("#game_area_metalink a")?.href??null,this.hasAchievements=document.querySelector(".communitylink_achievement_images")!==null,this.isOwned=document.querySelector(".game_area_already_owned")!==null,this.isOwnedAndPlayed=this.isOwned&&document.querySelector("#my_activity")!==null,this.isDlc=document.querySelector(".game_area_dlc_bubble")!==null,this.isDlcLike=this.isDlc||document.querySelector(".game_area_soundtrack_bubble")!==null;let n=new URLSearchParams(document.querySelector(".breadcrumbs a")?.search).get("category1");this.isVideoOrHardware=n==="992"||n==="993"||!document.querySelector(".sys_req"),this.data=Oe.getStorePageData(this.appid).catch(s=>(console.error(s),null))}};var Fu=!1;async function Du(){if(Fu)return;Fu=!0,await It.init();let r=b.openinnewtab,e={ALLOWED_URI_REGEXP:/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp|chrome-extension|moz-extension|steam):|[^a-z]|[a-z+.-]+(?:[^a-z+.\-:]|$))/i};r&&(e.ADD_ATTR=["target"],bt.addHook("uponSanitizeAttribute",(t,o)=>{o.attrName==="target"&&(o.attrValue==="_blank"?t.setAttribute("rel","noreferrer noopener"):o.keepAttr=!1)})),bt.setConfig(e)}var $n={ApiServerHost:"https://api.augmentedsteam.com",PublicHost:"https://augmentedsteam.com",ITADApiServerHost:"https://api.isthereanydeal.com",ITADServer:"https://isthereanydeal.com",ITADClientId:"5fe78af07889f43a",ITADDiscord:"https://discord.gg/yn57q7f"};var qt=class{static{this.currentContext=0}static set CurrentContext(e){this.currentContext=e}static isBackgroundScript(){return this.currentContext===1}static isContentScript(){return this.currentContext===2}static isOptions(){return this.currentContext===3}};var qn=class{static load(){if(this.cache=new Map,!qt.isBackgroundScript()&&typeof document<"u")for(let[e,t]of document.cookie.split(";").map(o=>o.split("=",2)))e=e.trim(),this.cache.set(e,decodeURIComponent(t))}static get(e,t=null){return this.cache===null&&this.load(),this.cache.get(e.trim())??t}};var zn=class{constructor(e){this.config=e}createFromLegacy(){if(this.config.language)return new Ze(this.config.language);for(let t of document.querySelectorAll("script[src]")){let o=new URL(t.src).searchParams.get("l");if(o)return new Ze(o)}let e=qn.get("Steam_Language",null);return e?new Ze(e):null}createFromReact(){return this.config.language?new Ze(this.config.language):null}};var Jn=class{constructor(){this._signedIn=!1}set isSignedIn(e){this._signedIn=e}get isSignedIn(){return this._signedIn}set steamId(e){this._steamId=e}get steamId(){return this._steamId}set storeCountry(e){this._storeCountry=e}get storeCountry(){let e,t=new URLSearchParams(window.location.search);return t.has("cc")?e=t.get("cc"):e=this._storeCountry,e||(console.warn("Failed to detect store country, falling back to US"),e="US"),e}set profileUrl(e){this._profileUrl=e}get profileUrl(){return this._profileUrl}set profilePath(e){this._profilePath=e}get profilePath(){return this._profilePath}get sessionId(){return this._sessionId||(this._sessionId=nt.getStringVariable("g_sessionID")),this._sessionId}async getWebApiToken(){if(!this._webApiToken){let e=await vt.getJson(`${window.location.origin}/pointssummary/ajaxgetasyncconfig`);if(!e.success||!e.data?.webapi_token)throw new Error("Failed to get webapi token");this._webApiToken=e.data.webapi_token}return this._webApiToken}};var On=class{constructor(){this._signedIn=!1}get isSignedIn(){return!!this._steamId}set steamId(e){this._steamId=e}get steamId(){return this._steamId}set storeCountry(e){this._storeCountry=e}get storeCountry(){return this._storeCountry}get profileUrl(){return`https://steamcommunity.com${this.profilePath}`}get profilePath(){return`/profiles/${this.steamId}/`}get sessionId(){throw new Error("Not supported")}set webApiToken(e){this._webApiToken=e}async getWebApiToken(){return this._webApiToken}};var Gn=class{constructor(e){this.appConfig=e}async createFromLegacy(){let e=new Jn,t=document.querySelector("#global_actions > a.user_avatar");try{if(t){e.profileUrl=t.href,e.profilePath=t.pathname;let o=await dt.login(e.profilePath);e.isSignedIn=!0,e.steamId=o.steamId}else await dt.logout()}catch(o){console.log(o)}try{let o=await dt.getStoreCountry();if(o)return e.storeCountry=o,e;let n=null,s=document.querySelector("#webui_config, #application_config");if(s?n=s.dataset.config?JSON.parse(s.dataset.config).COUNTRY:null:window.location.hostname==="steamcommunity.com"?n=nt.getStringVariable("g_strCountryCode"):n=nt.getStringVariable(/GDynamicStore\.Init\(.+?,\s*'([A-Z]{2})'/),!n)throw new Error("Script with user store country not found");e.storeCountry=n,await dt.setStoreCountry(n)}catch(o){console.group("Store country detection"),console.warn("Failed to detect store country from page"),console.error(o),console.groupEnd()}return e}async createFromReact(){let e=new On;return this.appConfig.steamId&&this.appConfig.steamId!=="0"&&(e.steamId=this.appConfig.steamId),e.storeCountry=this.appConfig.countryCode,this.appConfig.webApiToken&&(e.webApiToken=this.appConfig.webApiToken),e}};var lo=class{constructor(e){this.language=e.language,this.countryCode=e.countryCode,this.webApiToken=e.webApiToken,this.steamId=e.steamId}};var Hn=class{createFromLegacy(){let e=document.querySelector("#application_config"),t={};if(e?.dataset.config){let o=JSON.parse(e.dataset.config);t.language=o.LANGUAGE,t.countryCode=o.COUNTRY}if(e?.dataset.store_user_config){let o=JSON.parse(e.dataset.store_user_config);t.webApiToken=o.webapi_token}return new lo(t)}async createFromReact(){let[e,t,o]=await Promise.all([ke.global("SSR.loaderData"),ke.global("Config"),ke.global("UserConfig")]),n={language:t.LANGUAGE,countryCode:t.COUNTRY};if(Array.isArray(e)&&e[0])for(let s of e)s=JSON.parse(s),s.strWebAPIToken&&(n.webApiToken=s.strWebAPIToken),s.storeBrowseContext&&s.steamid&&(n.steamId=s.steamid);return new lo(n)}};qt.CurrentContext=2;function Td(r){let e=r.reason;!e||!e.error||(r.preventDefault(),r.stopPropagation(),console.group("An error occurred in the background context."),console.error(e.stack),console.groupEnd())}window.addEventListener("unhandledrejection",Td);var Zn=class{constructor(e){this.contextClass=e}async run(){if(!this.check())return;let e,t;try{await It.init(),await Du()}catch(s){console.error(s)}try{let s=new Hn,i=await this.getAppConfig(s),a=new zn(i);e=await this.getLanguage(a);let l=new Gn(i);t=await this.getUser(l),await Promise.all([St.init(e),we.init()])}catch(s){console.group("Augmented Steam initialization"),console.error("Failed to initialize Augmented Steam"),console.error(s),console.groupEnd();return}console.log(`%c Augmented %cSteam v${Fe.version} %c ${$n.PublicHost}`,"background: #000000; color: #046eb2","background: #000000; color: #ffffff",""),await this.preApply(e,t);let o={language:e,user:t};await(await this.contextClass.create(o)??new this.contextClass(o)).applyFeatures()}};function Md(r){let e;return{c(){e=h("div"),e.textContent=`${v(Bl)}`,m(e,"class","warning svelte-qtap6w")},m(t,o){w(t,e,o)},p:B,d(t){t&&x(e)}}}function Pd(r){let e,t=v(as,{amount:r[1]})+"",o;return{c(){e=h("div"),o=T(t),m(e,"class","error svelte-qtap6w")},m(n,s){w(n,e,s),f(e,o)},p(n,s){s&2&&t!==(t=v(as,{amount:n[1]})+"")&&H(o,t)},d(n){n&&x(e)}}}function Rd(r){let e,t,o,n,s=`${r[3]?r[2]:18}px`,i,a;function l(u,_){if(u[5])return Pd;if(u[4])return Md}let c=l(r,-1),p=c&&c(r);return{c(){e=h("div"),t=h("div"),o=h("div"),n=h("div"),a=D(),p&&p.c(),m(n,"class","value svelte-qtap6w"),ze(n,"width",s),m(o,"class","bar svelte-qtap6w"),m(t,"class","progress svelte-qtap6w"),m(t,"title",i=v(r[3]?ss:is)),j(t,"is-complete",!r[3]),j(t,"is-warning",r[4]),j(t,"is-error",r[5]),m(e,"class","wrapper svelte-qtap6w"),j(e,"is-react",r[0]),j(e,"is-legacy",!r[0])},m(u,_){w(u,e,_),f(e,t),f(t,o),f(o,n),f(e,a),p&&p.m(e,null)},p(u,[_]){_&12&&s!==(s=`${u[3]?u[2]:18}px`)&&ze(n,"width",s),_&8&&i!==(i=v(u[3]?ss:is))&&m(t,"title",i),_&8&&j(t,"is-complete",!u[3]),_&16&&j(t,"is-warning",u[4]),_&32&&j(t,"is-error",u[5]),c===(c=l(u,_))&&p?p.p(u,_):(p&&p.d(1),p=c&&c(u),p&&(p.c(),p.m(e,null))),_&1&&j(e,"is-react",u[0]),_&1&&j(e,"is-legacy",!u[0])},i:B,o:B,d(u){u&&x(e),p&&p.d()}}}function Wd(r,e,t){let{react:o}=e,n=0,s=0,i=0,a=0,l=!1,c=!1,p=!1;return me(()=>{function u(){t(6,n+=1)}function _(){t(7,s+=1)}function g(d){t(1,i+=1),(d.detail.name??null)==="ServerOutageError"?t(4,c=!0):t(5,p=!0)}return document.addEventListener("asRequestStart",u),document.addEventListener("asRequestDone",_),document.addEventListener("asRequestError",g),()=>{document.removeEventListener("asRequestStart",u),document.removeEventListener("asRequestDone",_),document.removeEventListener("asRequestError",g)}}),r.$$set=u=>{"react"in u&&t(0,o=u.react)},r.$$.update=()=>{r.$$.dirty&194&&n>0&&(t(2,a=Math.min(100,100*(s/n))),t(3,l=s+i<n))},[o,i,a,l,c,p,n,s]}var bi=class extends ${constructor(e){super(),z(this,e,Wd,Rd,q,{react:0})}},Cu=bi;var jn=class{static globalHeader(){return document.querySelector(".eGsI8rO3zfU-.bp0Pu4TVwpI-,#StoreTemplate > header")}static globalActions(){return this.globalHeader()?.querySelector(".h3Jy-1Il1os-,nav + div")??null}};var Vn=class{static build(e,t){!b.show_progressbar||!t||new Cu({target:t.parentElement,anchor:t.nextElementSibling??void 0,props:{react:e}})}static buildLegacy(){this.build(!1,document.querySelector("#global_actions"))}static buildReact(){this.build(!0,jn.globalActions())}};var zt=class{static clearCache(){return O.send("cache.clear")}};var Kn=class{constructor(e,t=""){this.title=e;this.body=t}show(){return new Promise(e=>{let t=new Dt({target:document.body,props:{title:this.title,body:this.body,showClose:!0,buttons:{cancel:"OK"}}});t.$on("button",()=>{e(),t.$destroy()})})}};function Eu(r){let e,t,o,n,s,i,a,l,c,p,u,_,g,d,k,S,U,N,E,Q,L,F,A,R,K,se,J,fe,te,ye,re=r[0].isSignedIn&&Bu(r);return{c(){e=h("div"),t=h("div"),o=h("a"),o.textContent=`${v(ml)}`,s=D(),i=h("a"),i.textContent=`${v(pa)}`,a=D(),l=h("div"),c=h("a"),c.textContent=`${v(Da)}`,u=D(),_=h("a"),_.textContent=`${v(Oa)}`,d=D(),k=h("div"),S=h("a"),S.textContent=`${v(pr)}`,E=D(),Q=h("a"),Q.textContent="IsThereAnyDeal",F=D(),A=h("a"),A.textContent="Discord",se=D(),re&&re.c(),m(o,"target","_blank"),m(o,"href",n=ge.getURL("html/options.html")),m(o,"class","svelte-ozsup"),m(i,"href","#clear_cache"),m(i,"class","svelte-ozsup"),m(t,"class","group svelte-ozsup"),m(c,"href","https://github.com/IsThereAnyDeal/AugmentedSteam"),m(c,"class","svelte-ozsup"),m(_,"href","https://github.com/IsThereAnyDeal/AugmentedSteam/issues"),m(_,"class","svelte-ozsup"),m(l,"class","group svelte-ozsup"),m(S,"href",U=$n.PublicHost),m(S,"class","svelte-ozsup"),m(Q,"href","https://isthereanydeal.com/"),m(Q,"class","svelte-ozsup"),m(A,"href",R=$n.ITADDiscord),m(A,"class","svelte-ozsup"),m(k,"class","group svelte-ozsup"),m(e,"class","body svelte-ozsup")},m(oe,ae){w(oe,e,ae),f(e,t),f(t,o),f(t,s),f(t,i),f(e,a),f(e,l),f(l,c),f(l,u),f(l,_),f(e,d),f(e,k),f(k,S),f(k,E),f(k,Q),f(k,F),f(k,A),f(e,se),re&&re.m(e,null),fe=!0,te||(ye=[ne(i,"click",Sr(r[5])),Ce(p=Se.call(null,c)),Ce(g=Se.call(null,_)),Ce(N=Se.call(null,S)),Ce(L=Se.call(null,Q)),Ce(K=Se.call(null,A)),ne(e,"click",r[4])],te=!0)},p(oe,ae){oe[0].isSignedIn?re?re.p(oe,ae):(re=Bu(oe),re.c(),re.m(e,null)):re&&(re.d(1),re=null)},i(oe){fe||(oe&&Ye(()=>{fe&&(J||(J=no(e,Ft,{duration:100},!0)),J.run(1))}),fe=!0)},o(oe){oe&&(J||(J=no(e,Ft,{duration:100},!1)),J.run(0)),fe=!1},d(oe){oe&&x(e),re&&re.d(),oe&&J&&J.end(),te=!1,be(ye)}}}function Bu(r){let e,t,o,n;return{c(){e=h("div"),t=h("a"),t.textContent=`${v(nl)}`,m(t,"id","es_random_game"),m(t,"class","popup_menu_item svelte-ozsup"),m(e,"class","group svelte-ozsup")},m(s,i){w(s,e,i),f(e,t),o||(n=ne(t,"click",r[6]),o=!0)},p:B,d(s){s&&x(e),o=!1,n()}}}function $d(r){let e,t,o,n,s,i=r[1]&&Eu(r);return{c(){e=h("div"),t=h("button"),t.textContent="Augmented Steam",o=D(),i&&i.c(),m(t,"class","svelte-ozsup"),j(t,"is-open",r[1]),m(e,"class","as-menu svelte-ozsup")},m(a,l){w(a,e,l),f(e,t),f(e,o),i&&i.m(e,null),r[7](e),n||(s=ne(t,"click",r[3]),n=!0)},p(a,[l]){l&2&&j(t,"is-open",a[1]),a[1]?i?(i.p(a,l),l&2&&C(i,1)):(i=Eu(a),i.c(),C(i,1),i.m(e,null)):i&&(ce(),I(i,1,1,()=>{i=null}),pe())},i(a){C(i)},o(a){I(i)},d(a){a&&x(e),i&&i.d(),r[7](null),n=!1,s()}}}function qd(r,e,t){let{user:o}=e,n=!1,s;function i(g){let d=g.target;s.contains(d)||c()}function a(){n?c():l()}function l(){t(1,n=!0),document.addEventListener("click",i)}function c(){t(1,n=!1),document.removeEventListener("click",i)}async function p(){await zt.clearCache(),window.location.reload()}async function u(){for(let g=0;g<10;g++){let d=await Xe.getRandomApp();if(!d)break;let k=await De.fetchAppDetails(d);if(k){let S=k.fullgame?.appid??d,U=k.fullgame?.name??k.name,N=await new Wt(v(sl,{gamename:U}),`<img src="https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/${S}/header.jpg">`,{primary:v(mr),secondary:v(ja),cancel:v(Vt)}).show();N==="OK"?window.location.assign(`steam://run/${S}`):N==="SECONDARY"&&window.location.assign(`//store.steampowered.com/app/${S}`);return}}await new Kn(v(rl)).show()}me(()=>{});function _(g){Ae[g?"unshift":"push"](()=>{s=g,t(2,s)})}return r.$$set=g=>{"user"in g&&t(0,o=g.user)},[o,n,s,a,c,p,u,_]}var xi=class extends ${constructor(e){super(),z(this,e,qd,$d,q,{user:0})}},Uu=xi;function zd(r){let e,t,o,n,s,i,a,l,c,p,u,_=r[3].default,g=pt(_,r,r[2],null);return{c(){e=h("div"),t=h("div"),o=h("div"),g&&g.c(),n=D(),s=h("div"),i=h("button"),i.textContent=`${v(oc)}`,a=D(),l=h("button"),l.textContent=`${v(la)}`,m(i,"type","button"),m(i,"class","es_warn__btn svelte-13b6tmh"),m(l,"type","button"),m(l,"class","es_warn__btn svelte-13b6tmh"),m(s,"class","es_warn__control svelte-13b6tmh"),m(t,"class","es_warn__cnt svelte-13b6tmh"),m(e,"class","es_warn svelte-13b6tmh"),j(e,"is-react",r[0])},m(d,k){w(d,e,k),f(e,t),f(t,o),g&&g.m(o,null),f(t,n),f(t,s),f(s,i),f(s,a),f(s,l),c=!0,p||(u=[ne(i,"click",r[4]),ne(l,"click",r[5])],p=!0)},p(d,[k]){g&&g.p&&(!c||k&4)&&mt(g,_,d,d[2],c?ut(_,d[2],k,null):_t(d[2]),null),(!c||k&1)&&j(e,"is-react",d[0])},i(d){c||(C(g,d),c=!0)},o(d){I(g,d),c=!1},d(d){d&&x(e),g&&g.d(d),p=!1,be(u)}}}function Jd(r,e,t){let{$$slots:o={},$$scope:n}=e,{react:s}=e,i=Je(),a=()=>i("close"),l=()=>i("hide");return r.$$set=c=>{"react"in c&&t(0,s=c.react),"$$scope"in c&&t(2,n=c.$$scope)},[s,i,n,o,a,l]}var vi=class extends ${constructor(e){super(),z(this,e,Jd,zd,q,{react:0})}},Ur=vi;function Od(r){let e,t=v(Vr,{link:`<a href="https://${r[1]}/login/">${r[1]}</a>`})+"",o;return{c(){e=new st(!1),o=ue(),e.a=o},m(n,s){e.m(t,n,s),w(n,o,s)},p(n,s){s&2&&t!==(t=v(Vr,{link:`<a href="https://${n[1]}/login/">${n[1]}</a>`})+"")&&e.p(t)},d(n){n&&(x(o),e.d())}}}function Gd(r){let e,t;return e=new Ur({props:{react:r[0],$$slots:{default:[Od]},$$scope:{ctx:r}}}),e.$on("close",r[3]),e.$on("hide",r[5]),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,[n]){let s={};n&1&&(s.react=o[0]),n&66&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function Hd(r,e,t){let o=Je(),{react:n}=e,{page:s}=e,i;function a(){s==="store"?ve.set("hide_login_warn_store",!0):s==="community"&&ve.set("hide_login_warn_community",!0),o("close")}let l=()=>o("close");return r.$$set=c=>{"react"in c&&t(0,n=c.react),"page"in c&&t(4,s=c.page)},r.$$.update=()=>{if(r.$$.dirty&16)switch(s){case"store":t(1,i="store.steampowered.com");break;case"community":t(1,i="steamcommunity.com");break;default:throw new Error}},[n,i,o,a,s,l]}var wi=class extends ${constructor(e){super(),z(this,e,Hd,Gd,q,{react:0,page:4})}},Au=wi;function Iu(r){let e,t,o,n={ctx:r,current:null,token:null,hasCatch:!1,pending:Xd,then:jd,catch:Zd,value:12,blocks:[,,,]};return ro(t=r[1],n),{c(){e=ue(),n.block.c()},m(s,i){w(s,e,i),n.block.m(s,n.anchor=i),n.mount=()=>e.parentNode,n.anchor=e,o=!0},p(s,i){r=s,n.ctx=r,i&2&&t!==(t=r[1])&&ro(t,n)||Dr(n,r,i)},i(s){o||(C(n.block),o=!0)},o(s){for(let i=0;i<3;i+=1){let a=n.blocks[i];I(a)}o=!1},d(s){s&&x(e),n.block.d(s),n.token=null,n=null}}}function Zd(r){return{c:B,m:B,p:B,i:B,o:B,d:B}}function jd(r){let e,t;return e=new Ur({props:{react:r[0],$$slots:{default:[Yd]},$$scope:{ctx:r}}}),e.$on("close",r[4]),e.$on("hide",r[10]),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&1&&(s.react=o[0]),n&8195&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function Vd(r){let e,t=r[7](r[12])+"",o,n,s;return{c(){e=h("button"),o=T(t),m(e,"type","button"),m(e,"class","svelte-3rvsev")},m(i,a){w(i,e,a),f(e,o),n||(s=ne(e,"click",Sr(r[3])),n=!0)},p(i,a){a&2&&t!==(t=i[7](i[12])+"")&&H(o,t)},d(i){i&&x(e),n=!1,s()}}}function Kd(r){let e,t=r[7](r[12])+"",o,n,s;return{c(){e=h("button"),o=T(t),m(e,"type","button"),m(e,"class","svelte-3rvsev")},m(i,a){w(i,e,a),f(e,o),n||(s=ne(e,"click",r[5]),n=!0)},p(i,a){a&2&&t!==(t=i[7](i[12])+"")&&H(o,t)},d(i){i&&x(e),n=!1,s()}}}function Yd(r){let e=r[6](r[12])+"",t,o,n;function s(l,c){return l[0]?Kd:Vd}let i=s(r,-1),a=i(r);return{c(){t=T(e),o=D(),a.c(),n=ue()},m(l,c){w(l,t,c),w(l,o,c),a.m(l,c),w(l,n,c)},p(l,c){c&2&&e!==(e=l[6](l[12])+"")&&H(t,e),i===(i=s(l,c))&&a?a.p(l,c):(a.d(1),a=i(l),a&&(a.c(),a.m(n.parentNode,n)))},d(l){l&&(x(t),x(o),x(n)),a.d(l)}}}function Xd(r){return{c:B,m:B,p:B,i:B,o:B,d:B}}function ef(r){let e,t,o=r[1]&&Iu(r);return{c(){o&&o.c(),e=ue()},m(n,s){o&&o.m(n,s),w(n,e,s),t=!0},p(n,[s]){n[1]?o?(o.p(n,s),s&2&&C(o,1)):(o=Iu(n),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(ce(),I(o,1,1,()=>{o=null}),pe())},i(n){t||(C(o),t=!0)},o(n){I(o),t=!1},d(n){n&&x(e),o&&o.d(n)}}}function tf(r,e,t){let o=Je(),n,{react:s}=e,{currentLanguage:i}=e,{warningLanguage:a}=e;function l(){ke.changeLanguage(a.name,!0)}function c(){b.showlanguagewarning=!1,o("close")}async function p(){let d=new FormData;d.set("language",a.name),await fetch("https://store.steampowered.com/account/setlanguage/",{method:"POST",body:d}),window.location.href=`?l=${a.name}`}function u(d){return d.strings[Va].replace("__current__",d.strings[`options_lang_${i.name}`]??i.name)}function _(d){return d.strings[Ta].replace("__base__",d.strings[`options_lang_${a.name}`]??a.name)}me(()=>{t(1,n=St.load(a.code??"en"))});let g=()=>o("close");return r.$$set=d=>{"react"in d&&t(0,s=d.react),"currentLanguage"in d&&t(8,i=d.currentLanguage),"warningLanguage"in d&&t(9,a=d.warningLanguage)},[s,n,o,l,c,p,u,_,i,a,g]}var yi=class extends ${constructor(e){super(),z(this,e,tf,ef,q,{react:0,currentLanguage:8,warningLanguage:9})}},Tu=yi;function Mu(r){let e,t;return e=new Tu({props:{react:r[1],currentLanguage:r[0],warningLanguage:r[2]}}),e.$on("close",r[4]),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&2&&(s.react=o[1]),n&1&&(s.currentLanguage=o[0]),n&4&&(s.warningLanguage=o[2]),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function Pu(r){let e,t;return e=new Au({props:{react:r[1],page:r[3]}}),e.$on("close",r[5]),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&2&&(s.react=o[1]),n&8&&(s.page=o[3]),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function of(r){let e,t,o,n=r[2]&&Mu(r),s=r[3]&&Pu(r);return{c(){n&&n.c(),e=D(),s&&s.c(),t=ue()},m(i,a){n&&n.m(i,a),w(i,e,a),s&&s.m(i,a),w(i,t,a),o=!0},p(i,[a]){i[2]?n?(n.p(i,a),a&4&&C(n,1)):(n=Mu(i),n.c(),C(n,1),n.m(e.parentNode,e)):n&&(ce(),I(n,1,1,()=>{n=null}),pe()),i[3]?s?(s.p(i,a),a&8&&C(s,1)):(s=Pu(i),s.c(),C(s,1),s.m(t.parentNode,t)):s&&(ce(),I(s,1,1,()=>{s=null}),pe())},i(i){o||(C(n),C(s),o=!0)},o(i){I(n),I(s),o=!1},d(i){i&&(x(e),x(t)),n&&n.d(i),s&&s.d(i)}}}function nf(r,e,t){let{language:o}=e,{react:n}=e,s=null,i=null;me(()=>{if(document.addEventListener("asRequestError",async c=>{let{detail:p}=c,u=p.name??null,_=p.message??null;u==="LoginError"&&(_==="store"&&await ve.get("hide_login_warn_store")!==!0||_==="community"&&await ve.get("hide_login_warn_community")!==!0)&&t(3,i=_)}),b.showlanguagewarning){b.showlanguagewarninglanguage||(b.showlanguagewarninglanguage=o.name);let c=b.showlanguagewarninglanguage;o.name!==c&&t(2,s=new Ze(c))}});let a=()=>t(2,s=null),l=()=>t(3,i=null);return r.$$set=c=>{"language"in c&&t(0,o=c.language),"react"in c&&t(1,n=c.react)},[o,n,s,i,a,l]}var Qi=class extends ${constructor(e){super(),z(this,e,nf,of,q,{language:0,react:1})}},Si=Qi;function rf(r){let e,t,o;return{c(){e=h("button"),e.textContent="\u25B2",m(e,"class","svelte-1ehto62"),j(e,"is-visible",r[0])},m(n,s){w(n,e,s),t||(o=ne(e,"click",r[1]),t=!0)},p(n,[s]){s&1&&j(e,"is-visible",n[0])},i:B,o:B,d(n){n&&x(e),t=!1,o()}}}function sf(r,e,t){let{target:o}=e,n=!1;function s(){(o??window).scroll({top:0,left:0,behavior:"smooth"})}function i(){let a=o?o.scrollTop:window.scrollY;t(0,n=a>=400)}return me(()=>{(o??window).addEventListener("scroll",i)}),r.$$set=a=>{"target"in a&&t(2,o=a.target)},[n,s,o]}var ki=class extends ${constructor(e){super(),z(this,e,sf,rf,q,{target:2})}},Ru=ki;var Yn=class{constructor(e,t,o){this.language=e??new Ze("english"),this.user=t,this.react=o}addMenu(){let e=document.querySelector(this.react?"header nav + div":"#global_action_menu");new Uu({target:e,anchor:e.firstElementChild,props:{user:this.user}})}addBackToTop(){if(!b.show_backtotop)return;let e=this.react?document.querySelector("#StoreTemplate"):null;new Ru({target:document.body,props:{target:e??void 0}})}focusSearchBox(){let e=document.querySelector((this.react?["input.Focusable"]:["#store_nav_search_term","input.discussionSearchText","#workshopSearchText","#findItemsSearchBox","input#filter_control"]).join(","));if(!e)return;function t(o){return o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o instanceof HTMLElement&&o.isContentEditable}document.addEventListener("keydown",o=>{if(o.key!=="s"||o.ctrlKey||o.repeat)return;let n=document.activeElement;n&&t(n)||(n=n?.shadowRoot?.activeElement??null,!(n&&t(n))&&(o.preventDefault(),e.focus()))})}getWarningComponent(){if(!this.warningComponent){let e=document.querySelector("#global_header");this.warningComponent=new Si({target:e.parentElement,anchor:e.nextElementSibling})}return this.warningComponent}addWarnings(){let e,t;if(this.react)e=document.querySelector("header ~ section"),t=e.firstElementChild;else{let o=document.querySelector("#global_header");e=o.parentElement,t=o.nextElementSibling}new Si({target:e,anchor:t,props:{react:this.react,language:this.language}})}handleInstallSteamButton(){let e=b.installsteam;if(e==="show")return;let t=document.querySelector(this.react?"header nav ~ div a[href*='/about/']":"a.header_installsteam_btn");if(!t){console.error(`Couldn't find "Install Steam" button element.`);return}e==="hide"?t.remove():e==="replace"&&(this.react?(t.textContent=v(fo),t.classList.add("is-react")):t.querySelector("div").textContent=v(fo),t.href=`steam://openurl/${window.location.href}`,t.classList.add("es_steamclient_btn"))}addRedeemLink(){let e;if(e=document.querySelector(this.react?"header a[href*='/account/preferences/']":"#account_dropdown a[href*='/account/preferences/']"),!e){console.error("Didn't find node to copy for adding redeem link");return}let t=e.cloneNode(!0);t.href="https://store.steampowered.com/account/registerkey",t.textContent=v(ia),e.insertAdjacentElement("afterend",t)}async build(){let e=this.user.steamId??"0",t=await ve.get("cachedUser");t!==e&&(console.log(`Clear cache, old: ${t}, new: ${e}`),await zt.clearCache(),await ve.set("cachedUser",e)),this.addBackToTop(),this.focusSearchBox(),this.addMenu(),this.addWarnings(),this.handleInstallSteamButton(),this.user.isSignedIn&&(this.addRedeemLink(),Xe.invalidateCacheHandler())}};var Et=class r{constructor(e,t=0,o=0){console.assert([e,t,o].filter(Number.isInteger).length===3,`${e}.${t}.${o} must be integers`),this.major=e,this.minor=t,this.patch=o}static from(e){if(e instanceof r)return new r(e.major,e.minor,e.patch);if(typeof e=="string")return r.fromString(e);if(Array.isArray(e))return r.fromArray(e);throw new Error(`Could not construct a Version from ${e}`)}static fromArray(e){if(e.length===0)throw new Error;return new r(Number(e[0]),Number(e[1]??0),Number(e[2]??0))}static fromString(e){return r.fromArray(e.split("."))}static coerce(e){return e instanceof r?e:r.from(e)}toString(){return`${this.major}.${this.minor}.${this.patch}`}toArray(){return[this.major,this.minor,this.patch]}toJSON(){return this.toString()}isCurrent(){return this.isSameOrAfter(Fe.version)}isSame(e){let t=r.coerce(e);return this.major===t.major&&this.minor===t.minor&&this.patch===t.patch}isBefore(e){let t=r.coerce(e);return this.major<t.major?!0:this.major>t.major?!1:this.minor<t.minor?!0:this.minor>t.minor?!1:this.patch<t.patch}isSameOrBefore(e){return this.isSame(e)||this.isBefore(e)}isAfter(e){return r.coerce(e).isBefore(this)}isSameOrAfter(e){return r.coerce(e).isSameOrBefore(this)}};function Wu(r,e,t){let o=r.slice();return o[5]=e[t][0],o[6]=e[t][1],o}function $u(r){let e,t,o,n={ctx:r,current:null,token:null,hasCatch:!1,pending:pf,then:lf,catch:af,value:4,blocks:[,,,]};return ro(t=r[1],n),{c(){e=ue(),n.block.c()},m(s,i){w(s,e,i),n.block.m(s,n.anchor=i),n.mount=()=>e.parentNode,n.anchor=e,o=!0},p(s,i){r=s,n.ctx=r,i&2&&t!==(t=r[1])&&ro(t,n)||Dr(n,r,i)},i(s){o||(C(n.block),o=!0)},o(s){for(let i=0;i<3;i+=1){let a=n.blocks[i];I(a)}o=!1},d(s){s&&x(e),n.block.d(s),n.token=null,n=null}}}function af(r){return{c:B,m:B,p:B,i:B,o:B,d:B}}function lf(r){let e,t;return e=new Dt({props:{title:v(nc,{version:Fe.version}),showClose:!0,buttons:{cancel:"OK"},$$slots:{default:[cf]},$$scope:{ctx:r}}}),e.$on("button",r[3]),{c(){ee(e.$$.fragment)},m(o,n){Y(e,o,n),t=!0},p(o,n){let s={};n&515&&(s.$$scope={dirty:n,ctx:o}),e.$set(s)},i(o){t||(C(e.$$.fragment,o),t=!0)},o(o){I(e.$$.fragment,o),t=!1},d(o){X(e,o)}}}function qu(r){let e,t=r[5]+"",o,n,s,i=r[6]+"",a;return{c(){e=h("h3"),o=T(t),n=D(),s=new st(!1),a=ue(),s.a=a},m(l,c){w(l,e,c),f(e,o),w(l,n,c),s.m(i,l,c),w(l,a,c)},p(l,c){c&2&&t!==(t=l[5]+"")&&H(o,t),c&2&&i!==(i=l[6]+"")&&s.p(i)},d(l){l&&(x(e),x(n),x(a),s.d())}}}function cf(r){let e,t,o,n,s,i,a,l,c=v(rc)+"",p,u,_=_e(r[4]),g=[];for(let d=0;d<_.length;d+=1)g[d]=qu(Wu(r,_,d));return{c(){e=h("div"),t=h("img"),n=D(),s=h("div");for(let d=0;d<g.length;d+=1)g[d].c();i=D(),a=h("p"),l=h("a"),p=T(c),$e(t.src,o=ge.getURL("img/logo/as128.png"))||m(t,"src",o),m(t,"alt","Logo"),m(l,"href",u=`https://github.com/IsThereAnyDeal/AugmentedSteam/compare/v${r[0]}...v${Fe.version}`),m(l,"target","_blank"),m(e,"class","changelog svelte-1i0af4y")},m(d,k){w(d,e,k),f(e,t),f(e,n),f(e,s);for(let S=0;S<g.length;S+=1)g[S]&&g[S].m(s,null);f(s,i),f(s,a),f(a,l),f(l,p)},p(d,k){if(k&2){_=_e(d[4]);let S;for(S=0;S<_.length;S+=1){let U=Wu(d,_,S);g[S]?g[S].p(U,k):(g[S]=qu(U),g[S].c(),g[S].m(s,i))}for(;S<g.length;S+=1)g[S].d(1);g.length=_.length}k&1&&u!==(u=`https://github.com/IsThereAnyDeal/AugmentedSteam/compare/v${d[0]}...v${Fe.version}`)&&m(l,"href",u)},d(d){d&&x(e),qe(g,d)}}}function pf(r){return{c:B,m:B,p:B,i:B,o:B,d:B}}function uf(r){let e,t,o=r[1]&&$u(r);return{c(){o&&o.c(),e=ue()},m(n,s){o&&o.m(n,s),w(n,e,s),t=!0},p(n,[s]){n[1]?o?(o.p(n,s),s&2&&C(o,1)):(o=$u(n),o.c(),C(o,1),o.m(e.parentNode,e)):o&&(ce(),I(o,1,1,()=>{o=null}),pe())},i(n){t||(C(o),t=!0)},o(n){I(o),t=!1},d(n){n&&x(e),o&&o.d(n)}}}function mf(r,e,t){let o=Je(),{lastVersion:n}=e,s;me(()=>{t(1,s=(async()=>{let a=await ge.getJSON("changelog.json"),l=[];if(!a[Fe.version])throw new Error(`Can't find changelog for version ${Fe.version}`);l.push([Fe.version,a[Fe.version]]);for(let[c,p]of Object.entries(a)){let u=Et.fromString(c);if(u.isBefore(Fe.version)&&u.isAfter(n))l.push([c,p]);else if(u.isSameOrBefore(n))break}return l.reverse()})())});let i=()=>o("close");return r.$$set=a=>{"lastVersion"in a&&t(0,n=a.lastVersion)},[n,s,o,i]}var Li=class extends ${constructor(e){super(),z(this,e,mf,uf,q,{lastVersion:0})}},zu=Li;var Xn=class{static async checkVersion(){let e=Et.fromString(b.version);if(Et.fromString(Fe.version).isAfter(e)&&b.version_show){let o=new zu({target:document.body,props:{lastVersion:e}});o.$on("close",()=>o.$destroy())}b.version=Fe.version}};var er=class extends Zn{check(){return!!document.getElementById("global_header")}async getAppConfig(e){return e.createFromLegacy()}async getLanguage(e){return e.createFromLegacy()}getUser(e){return e.createFromLegacy()}async preApply(e,t){Vn.buildLegacy(),await new Yn(e,t,!1).build(),await Xn.checkVersion(),await Ct.init(t)}};var tr=class extends er{};new tr(Wn).run();})();
/*! Bundled license information:

dompurify/dist/purify.es.mjs:
  (*! @license DOMPurify 3.2.4 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.4/LICENSE *)
*/
//# sourceMappingURL=app.js.map
