<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>com.atlassian.jira</groupId>
    <artifactId>jira-distribution</artifactId>
    <version>10.1.1</version>
  </parent>
  <artifactId>jira-webapp-dist</artifactId>
  <name>Atlassian JIRA - zDistribution - Webapp Distribution</name>
  <packaging>war</packaging>
  <build>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-war-plugin</artifactId>
        <version>2.1</version>
          <configuration>
          <overlays>
            <overlay>
              <groupId>com.atlassian.jira</groupId>
              <artifactId>atlassian-jira-webapp</artifactId>
              <excludes>
                <exclude>images/raw/**</exclude>
                <!-- These are excluded at this point as they are runtime dependencies that should exist in the container's classpath -->
                <exclude>WEB-INF/lib/jakarta.transaction-api-*.jar</exclude>
                <exclude>WEB-INF/lib/ots-jts-*.jar</exclude>
                <exclude>WEB-INF/lib/jotm-*.jar</exclude>
                <exclude>WEB-INF/lib/objectweb-datasource*.jar</exclude>
                <exclude>WEB-INF/lib/jonas_timer*.jar</exclude>
                <exclude>WEB-INF/lib/carol-*.jar</exclude>
                <exclude>WEB-INF/lib/hsqldb-*.jar</exclude>
                <exclude>WEB-INF/lib/jndi-*.jar</exclude>
                <exclude>WEB-INF/lib/xapool-*.jar</exclude>
                <!-- These on the other hand are suspect. They are not included in the distribution artifacts, but  are specified as dependencies in the m1 project.xml -->
                <!-- <exclude>WEB-INF/lib/commons-dbcp-*.jar</exclude> -->
                <!-- <exclude>WEB-INF/lib/commons-pool-*.jar</exclude> -->
                <exclude>WEB-INF/lib/jndi-*.jar</exclude>
                <!-- Exclude log4j configuration only used in tests -->
                <exclude>WEB-INF/classes/log4j2dev.xml</exclude>
              </excludes>
            </overlay>
          </overlays>
        </configuration>
      </plugin>
        <plugin>
            <groupId>com.atlassian.maven.plugins</groupId>
            <artifactId>amps-maven-plugin</artifactId>
            <extensions>false</extensions>
            <executions>
                <execution>
                    <id>fe-sbom</id>
                    <goals>
                        <goal>verify-fe-manifest-associations</goal>
                    </goals>
                    <phase>verify</phase>
                    <configuration>
                        <inputEntrypoint>${project.build.directory}/${project.build.finalName}</inputEntrypoint>
                        <!-- we haven't finished all manifests yet, use warnings count as a measure of progress -->
                        <failOnExtraDeclarations>false</failOnExtraDeclarations>
                        <failOnUndeclaredFiles>false</failOnUndeclaredFiles>
                    </configuration>
                </execution>
                <execution>
                    <id>gen-fe-meta</id>
                    <goals>
                        <goal>report-fe-manifest-associations</goal>
                    </goals>
                    <phase>prepare-package</phase>
                    <configuration>
                        <feExternalDependenciesDeclarations>
                            <declaration>
                                <manuallyVerifiedNonAtlassianArtifactPath>
                                    WEB-INF/lib/rhino-1.7.14.jar
                                </manuallyVerifiedNonAtlassianArtifactPath>
                                <manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                                    org/mozilla/javascript/tools/debugger/test.js
                                </manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                            </declaration>
                            <declaration>
                                <manuallyVerifiedNonAtlassianArtifactPath>
                                    WEB-INF/lib/glue-5.0b2.jar
                                </manuallyVerifiedNonAtlassianArtifactPath>
                                <manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                                    console/Dispatcher.js
                                </manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                            </declaration>
                            <declaration>
                                <manuallyVerifiedNonAtlassianArtifactPath>
                                    WEB-INF/lib/closure-compiler-unshaded-v20181008.jar
                                </manuallyVerifiedNonAtlassianArtifactPath>
                                <manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                                    com/google/javascript/jscomp/build_resources.js,
                                    com/google/javascript/jscomp/js/base.js,
                                    com/google/javascript/jscomp/js/build_polyfill_table.js,
                                    com/google/javascript/jscomp/js/es6/array.js,
                                    com/google/javascript/jscomp/js/es6/array/copywithin.js,
                                    com/google/javascript/jscomp/js/es6/array/entries.js,
                                    com/google/javascript/jscomp/js/es6/array/fill.js,
                                    com/google/javascript/jscomp/js/es6/array/find.js,
                                    com/google/javascript/jscomp/js/es6/array/findindex.js,
                                    com/google/javascript/jscomp/js/es6/array/from.js,
                                    com/google/javascript/jscomp/js/es6/array/includes.js,
                                    com/google/javascript/jscomp/js/es6/array/keys.js,
                                    com/google/javascript/jscomp/js/es6/array/of.js,
                                    com/google/javascript/jscomp/js/es6/array/values.js,
                                    com/google/javascript/jscomp/js/es6/async_generator_wrapper.js,
                                    com/google/javascript/jscomp/js/es6/conformance.js,
                                    com/google/javascript/jscomp/js/es6/execute_async_generator.js,
                                    com/google/javascript/jscomp/js/es6/generator_engine.js,
                                    com/google/javascript/jscomp/js/es6/map.js,
                                    com/google/javascript/jscomp/js/es6/math.js,
                                    com/google/javascript/jscomp/js/es6/math/acosh.js,
                                    com/google/javascript/jscomp/js/es6/math/asinh.js,
                                    com/google/javascript/jscomp/js/es6/math/atanh.js,
                                    com/google/javascript/jscomp/js/es6/math/cbrt.js,
                                    com/google/javascript/jscomp/js/es6/math/clz32.js,
                                    com/google/javascript/jscomp/js/es6/math/cosh.js,
                                    com/google/javascript/jscomp/js/es6/math/expm1.js,
                                    com/google/javascript/jscomp/js/es6/math/hypot.js,
                                    com/google/javascript/jscomp/js/es6/math/imul.js,
                                    com/google/javascript/jscomp/js/es6/math/log10.js,
                                    com/google/javascript/jscomp/js/es6/math/log1p.js,
                                    com/google/javascript/jscomp/js/es6/math/log2.js,
                                    com/google/javascript/jscomp/js/es6/math/sign.js,
                                    com/google/javascript/jscomp/js/es6/math/sinh.js,
                                    com/google/javascript/jscomp/js/es6/math/tanh.js,
                                    com/google/javascript/jscomp/js/es6/math/trunc.js,
                                    com/google/javascript/jscomp/js/es6/modules/runtime.js,
                                    com/google/javascript/jscomp/js/es6/nopolyfill.js,
                                    com/google/javascript/jscomp/js/es6/number.js,
                                    com/google/javascript/jscomp/js/es6/number/constants.js,
                                    com/google/javascript/jscomp/js/es6/number/isfinite.js,
                                    com/google/javascript/jscomp/js/es6/number/isinteger.js,
                                    com/google/javascript/jscomp/js/es6/number/isnan.js,
                                    com/google/javascript/jscomp/js/es6/number/issafeinteger.js,
                                    com/google/javascript/jscomp/js/es6/number/parsefloat.js,
                                    com/google/javascript/jscomp/js/es6/number/parseint.js,
                                    com/google/javascript/jscomp/js/es6/object.js,
                                    com/google/javascript/jscomp/js/es6/object/assign.js,
                                    com/google/javascript/jscomp/js/es6/object/entries.js,
                                    com/google/javascript/jscomp/js/es6/object/getownpropertydescriptors.js,
                                    com/google/javascript/jscomp/js/es6/object/getownpropertysymbols.js,
                                    com/google/javascript/jscomp/js/es6/object/is.js,
                                    com/google/javascript/jscomp/js/es6/object/setprototypeof.js,
                                    com/google/javascript/jscomp/js/es6/object/values.js,
                                    com/google/javascript/jscomp/js/es6/promise.js,
                                    com/google/javascript/jscomp/js/es6/promise/finally.js,
                                    com/google/javascript/jscomp/js/es6/promise/promise.js,
                                    com/google/javascript/jscomp/js/es6/reflect.js,
                                    com/google/javascript/jscomp/js/es6/reflect/apply.js,
                                    com/google/javascript/jscomp/js/es6/reflect/construct.js,
                                    com/google/javascript/jscomp/js/es6/reflect/defineproperty.js,
                                    com/google/javascript/jscomp/js/es6/reflect/deleteproperty.js,
                                    com/google/javascript/jscomp/js/es6/reflect/get.js,
                                    com/google/javascript/jscomp/js/es6/reflect/getownpropertydescriptor.js,
                                    com/google/javascript/jscomp/js/es6/reflect/getprototypeof.js,
                                    com/google/javascript/jscomp/js/es6/reflect/has.js,
                                    com/google/javascript/jscomp/js/es6/reflect/isextensible.js,
                                    com/google/javascript/jscomp/js/es6/reflect/ownkeys.js,
                                    com/google/javascript/jscomp/js/es6/reflect/preventextensions.js,
                                    com/google/javascript/jscomp/js/es6/reflect/set.js,
                                    com/google/javascript/jscomp/js/es6/reflect/setprototypeof.js,
                                    com/google/javascript/jscomp/js/es6/set.js,
                                    com/google/javascript/jscomp/js/es6/string.js,
                                    com/google/javascript/jscomp/js/es6/string/codepointat.js,
                                    com/google/javascript/jscomp/js/es6/string/endswith.js,
                                    com/google/javascript/jscomp/js/es6/string/fromcodepoint.js,
                                    com/google/javascript/jscomp/js/es6/string/includes.js,
                                    com/google/javascript/jscomp/js/es6/string/padend.js,
                                    com/google/javascript/jscomp/js/es6/string/padstart.js,
                                    com/google/javascript/jscomp/js/es6/string/repeat.js,
                                    com/google/javascript/jscomp/js/es6/string/startswith.js,
                                    com/google/javascript/jscomp/js/es6/symbol.js,
                                    com/google/javascript/jscomp/js/es6/util/arrayfromiterable.js,
                                    com/google/javascript/jscomp/js/es6/util/arrayfromiterator.js,
                                    com/google/javascript/jscomp/js/es6/util/arrayiterator.js,
                                    com/google/javascript/jscomp/js/es6/util/assign.js,
                                    com/google/javascript/jscomp/js/es6/util/construct.js,
                                    com/google/javascript/jscomp/js/es6/util/inherits.js,
                                    com/google/javascript/jscomp/js/es6/util/iteratorfromarray.js,
                                    com/google/javascript/jscomp/js/es6/util/makeasynciterator.js,
                                    com/google/javascript/jscomp/js/es6/util/makeiterator.js,
                                    com/google/javascript/jscomp/js/es6/util/setprototypeof.js,
                                    com/google/javascript/jscomp/js/es6/weakmap.js,
                                    com/google/javascript/jscomp/js/es6/weakset.js,
                                    com/google/javascript/jscomp/js/es6_dart_runtime.js,
                                    com/google/javascript/jscomp/js/es6_runtime.js,
                                    com/google/javascript/jscomp/js/modules.js,
                                    com/google/javascript/jscomp/js/runtime_type_check.js,
                                    com/google/javascript/jscomp/js/util/checkstringargs.js,
                                    com/google/javascript/jscomp/js/util/defineproperty.js,
                                    com/google/javascript/jscomp/js/util/defines.js,
                                    com/google/javascript/jscomp/js/util/finddescriptor.js,
                                    com/google/javascript/jscomp/js/util/findinternal.js,
                                    com/google/javascript/jscomp/js/util/global.js,
                                    com/google/javascript/jscomp/js/util/objectcreate.js,
                                    com/google/javascript/jscomp/js/util/owns.js,
                                    com/google/javascript/jscomp/js/util/polyfill.js,
                                    com/google/javascript/jscomp/js/util/reflectobject.js,
                                    com/google/javascript/jscomp/js/util/stringpadding.js,
                                    com/google/javascript/refactoring/examples/refasterjs/array_indexof_to_includes.js,
                                    com/google/javascript/refactoring/examples/refasterjs/array_prototype_slice_to_array_from.js,
                                    com/google/javascript/refactoring/examples/refasterjs/chai_expect_to_assert.js,
                                    com/google/javascript/refactoring/examples/refasterjs/fix_throw_error.js,
                                    com/google/javascript/refactoring/examples/refasterjs/navigational_xss_sinks.js,
                                    com/google/javascript/refactoring/examples/refasterjs/set_anchor_href.js,
                                    com/google/javascript/refactoring/examples/refasterjs/set_element_href.js,
                                    com/google/javascript/refactoring/examples/refasterjs/set_location_href.js,
                                    com/google/javascript/refactoring/examples/refasterjs/set_window_location.js,
                                    com/google/javascript/refactoring/examples/refasterjs/string_indexof_to_includes.js,
                                    com/google/javascript/refactoring/examples/refasterjs/window_open.js,
                                    com/google/javascript/refactoring/examples/refasterjs/window_open_nonconst_name.js
                                </manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                            </declaration>
                            <declaration>
                                <manuallyVerifiedNonAtlassianArtifactPath>
                                    WEB-INF/lib/closure-compiler-externs-v20181008.jar/externs.zip
                                </manuallyVerifiedNonAtlassianArtifactPath>
                                <manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                                    es3.js,
                                    es5.js,
                                    es6.js,
                                    es6_collections.js
                                </manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                            </declaration>
                            <declaration>
                                <manuallyVerifiedNonAtlassianArtifactPath>
                                    WEB-INF/lib/closure-compiler-unshaded-v20181008.jar/externs.zip
                                </manuallyVerifiedNonAtlassianArtifactPath>
                                <manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                                    es3.js,
                                    es5.js,
                                    es6.js,
                                    es6_collections.js
                                </manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                            </declaration>
                            <declaration>
                                <manuallyVerifiedNonAtlassianArtifactPath>
                                    WEB-INF/lib/closure-compiler-externs-v20181008.jar/externs.zip/browser
                                </manuallyVerifiedNonAtlassianArtifactPath>
                                <manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                                    deprecated.js,
                                    es6_proxy.js,
                                    fetchapi.js,
                                    fido.js,
                                    fileapi.js,
                                    flash.js,
                                    gecko_css.js,
                                    gecko_dom.js,
                                    gecko_event.js,
                                    gecko_xml.js,
                                    google_legacy.js,
                                    html5.js,
                                    ie_css.js,
                                    ie_dom.js,
                                    ie_event.js,
                                    ie_vml.js,
                                    intersection_observer.js,
                                    intl.js,
                                    iphone.js,
                                    mediakeys.js,
                                    mediasource.js,
                                    page_visibility.js,
                                    streamsapi.js,
                                    url.js,
                                    v8.js,
                                    w3c_abort.js,
                                    w3c_anim_timing.js,
                                    w3c_audio.js,
                                    w3c_batterystatus.js,
                                    w3c_clipboardevent.js,
                                    w3c_composition_event.js,
                                    w3c_css.js,
                                    w3c_css3d.js,
                                    w3c_device_sensor_event.js,
                                    w3c_dom1.js,
                                    w3c_dom2.js,
                                    w3c_dom3.js,
                                    w3c_dom4.js,
                                    w3c_elementtraversal.js,
                                    w3c_event.js,
                                    w3c_event3.js,
                                    w3c_eventsource.js,
                                    w3c_gamepad.js,
                                    w3c_geolocation.js,
                                    w3c_indexeddb.js,
                                    w3c_midi.js,
                                    w3c_navigation_timing.js,
                                    w3c_netinfo.js,
                                    w3c_permissions.js,
                                    w3c_pointer_events.js,
                                    w3c_pointerlock.js,
                                    w3c_range.js,
                                    w3c_requestidlecallback.js,
                                    w3c_rtc.js,
                                    w3c_screen_orientation.js,
                                    w3c_selectors.js,
                                    w3c_serviceworker.js,
                                    w3c_speech.js,
                                    w3c_touch_event.js,
                                    w3c_vibration.js,
                                    w3c_webcrypto.js,
                                    w3c_xml.js,
                                    web_app_manifest.js,
                                    webgl.js,
                                    webgl2.js,
                                    webkit_css.js,
                                    webkit_dom.js,
                                    webkit_event.js,
                                    webkit_notifications.js,
                                    webkit_usercontent.js,
                                    webstorage.js,
                                    whatwg_encoding.js,
                                    window.js
                                </manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                            </declaration>
                            <declaration>
                                <manuallyVerifiedNonAtlassianArtifactPath>
                                    WEB-INF/lib/closure-compiler-unshaded-v20181008.jar/externs.zip/browser
                                </manuallyVerifiedNonAtlassianArtifactPath>
                                <manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                                    deprecated.js,
                                    es6_proxy.js,
                                    fetchapi.js,
                                    fido.js,
                                    fileapi.js,
                                    flash.js,
                                    gecko_css.js,
                                    gecko_dom.js,
                                    gecko_event.js,
                                    gecko_xml.js,
                                    google_legacy.js,
                                    html5.js,
                                    ie_css.js,
                                    ie_dom.js,
                                    ie_event.js,
                                    ie_vml.js,
                                    intersection_observer.js,
                                    intl.js,
                                    iphone.js,
                                    mediakeys.js,
                                    mediasource.js,
                                    page_visibility.js,
                                    streamsapi.js,
                                    url.js,
                                    v8.js,
                                    w3c_abort.js,
                                    w3c_anim_timing.js,
                                    w3c_audio.js,
                                    w3c_batterystatus.js,
                                    w3c_clipboardevent.js,
                                    w3c_composition_event.js,
                                    w3c_css.js,
                                    w3c_css3d.js,
                                    w3c_device_sensor_event.js,
                                    w3c_dom1.js,
                                    w3c_dom2.js,
                                    w3c_dom3.js,
                                    w3c_dom4.js,
                                    w3c_elementtraversal.js,
                                    w3c_event.js,
                                    w3c_event3.js,
                                    w3c_eventsource.js,
                                    w3c_gamepad.js,
                                    w3c_geolocation.js,
                                    w3c_indexeddb.js,
                                    w3c_midi.js,
                                    w3c_navigation_timing.js,
                                    w3c_netinfo.js,
                                    w3c_permissions.js,
                                    w3c_pointer_events.js,
                                    w3c_pointerlock.js,
                                    w3c_range.js,
                                    w3c_requestidlecallback.js,
                                    w3c_rtc.js,
                                    w3c_screen_orientation.js,
                                    w3c_selectors.js,
                                    w3c_serviceworker.js,
                                    w3c_speech.js,
                                    w3c_touch_event.js,
                                    w3c_vibration.js,
                                    w3c_webcrypto.js,
                                    w3c_xml.js,
                                    web_app_manifest.js,
                                    webgl.js,
                                    webgl2.js,
                                    webkit_css.js,
                                    webkit_dom.js,
                                    webkit_event.js,
                                    webkit_notifications.js,
                                    webkit_usercontent.js,
                                    webstorage.js,
                                    whatwg_encoding.js,
                                    window.js
                                </manuallyVerifiedEveryJsDoesntHaveExternalDependencies>
                            </declaration>
                        </feExternalDependenciesDeclarations>
                    </configuration>
                </execution>
            </executions>
        </plugin>
    </plugins>
  </build>
  <dependencies>
    <dependency>
      <groupId>com.atlassian.jira</groupId>
      <artifactId>atlassian-jira-webapp</artifactId>
      <version>${project.version}</version>
      <type>war</type>
      <scope>provided</scope>
    </dependency>
  </dependencies>
</project>
