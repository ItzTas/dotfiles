define("jira/util/assistive",["jira/util/navigator"],(function(t){"use strict";var e,n=50,i=t.isIE()?"innerText":"textContent",r=0;function a(t){setTimeout(t,n)}function u(t,e){if(" "===t.key||"Enter"===t.key){t.preventDefault();"function"==typeof e?e(t):t.target.click()}}return{wait:a,readText:function(t){if(!e){(e=document.createElement("div")).setAttribute("id","assistive-text");e.setAttribute("class","visually-hidden");e.setAttribute("aria-hidden","false");e.setAttribute("role","status");e.setAttribute("aria-live","assertive");e.setAttribute("aria-relevant","additions");document.body.appendChild(e)}e[i]=" ";a((function(){e[i]=t}))},createOrUpdateLabel:function(t,e){if(!e){e="label-".concat(r);r+=1}var n=document.getElementById(e);if(!n){(n=document.createElement("div")).setAttribute("id",e);n.setAttribute("class","visually-hidden");n.setAttribute("aria-hidden","false");document.body.appendChild(n)}n[i]=t;return e},handleSpaceEnter:u,handleClickSpaceEnter:function(t,e){"click"===t.type?e(t):u(t,e)},configureRovingTabindex:function(t,e){t.setAttribute("tabindex",0);var n='a[href], button:not([disabled]), input:not([disabled]), [tabindex]:not([tabindex="-1"])';e&&(n=e);var i=t.querySelectorAll(n);i.forEach((function(t){return t.setAttribute("tabindex",-1)}));var r=0;function a(t){if("ArrowLeft"===t.key||"ArrowRight"===t.key){t.preventDefault();t.stopPropagation();i[r].setAttribute("tabindex",-1);var e;e="ArrowLeft"===t.key?0===r?i.length-1:r-1:r===i.length-1?0:r+1;i[e].focus();r=e}}function u(){if((i=t.querySelectorAll(n)).length){i.forEach((function(t){return t.setAttribute("tabindex",-1)}));r>=i.length&&(r=i.length-1);i[r].focus()}}function o(e){t.setAttribute("tabindex",-1);e.target.setAttribute("tabindex",0)}function d(e){if(e.relatedTarget&&!Array.from(i).includes(e.relatedTarget)){i[r].setAttribute("tabindex",-1);t.setAttribute("tabindex",0)}}t.addEventListener("keydown",a);t.addEventListener("focus",u);t.addEventListener("focusin",o);t.addEventListener("focusout",d);return function(){t.removeAttribute("tabindex");i.forEach((function(t){return t.setAttribute("tabindex",0)}));t.removeEventListener("keydown",a);t.removeEventListener("focus",u);t.removeEventListener("focusin",o);t.removeEventListener("focusout",d)}}}}));