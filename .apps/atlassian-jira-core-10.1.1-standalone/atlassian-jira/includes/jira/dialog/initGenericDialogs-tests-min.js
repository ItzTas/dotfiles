AJS.test.require(["jira.webresources:jira-global"],(function(){"use strict";var i=require("jquery");module("jira/dialog/init-generic-dialogs",{setup:function(){this.ajax=sinon.spy(i,"ajax")},teardown:function(){i.ajax.restore();document.getElementById("#-dialog")&&AJS.dialog2("#-dialog").hide()}});test("Dialog shows after clicking a link",(function(){var e=i('<a class="trigger-dialog" href="#">Test</a>');i("#qunit-fixture").append(e);e.click();ok(this.ajax.calledOnce);e.remove()}));test("Dialog shows after clicking aui-dropdown",(function(){var e=i('<aui-item-link class="trigger-dialog" href="#">Test</aui-item-link>');i("#qunit-fixture").append(e);e.click();ok(this.ajax.calledOnce);e.remove()}));test("No dialog without trigger-dialog class",(function(){var e=i('<a href="http://test.com">Test</a>');i("#qunit-fixture").append(e);e.click();ok(this.ajax.notCalled);e.remove()}))}));