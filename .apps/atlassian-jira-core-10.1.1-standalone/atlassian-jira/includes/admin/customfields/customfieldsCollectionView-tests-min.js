AJS.test.require(["jira.webresources:viewcustomfields"],(function(){"use strict";var e=require("jira/customfields/customfieldCollectionView"),s=require("jira/analytics");module("CustomfieldsCollectionView",{setup:function(){this.sandbox=sinon.sandbox.create();this.sandbox.spy(s,"send")},teardown:function(){this.sandbox.restore()}});test("Sends analytics event",(function(){var n=(new e).sendSortingAnalyticsEvent;function t(e){delete e.time;return e}n("issues","ascending");deepEqual(t(s.send.lastCall.args[0]),{name:"administration.customfields.sorted",properties:{sortColumn:"issues",sortOrder:"ascending"}},"Sends strings");n(null,"");deepEqual(t(s.send.lastCall.args[0]),{name:"administration.customfields.sorted",properties:{sortColumn:"none",sortOrder:"none"}},"Handles falsy values")}))}));