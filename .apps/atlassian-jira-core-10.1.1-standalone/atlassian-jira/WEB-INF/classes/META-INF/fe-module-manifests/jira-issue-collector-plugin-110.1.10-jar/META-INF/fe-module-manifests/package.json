{
  "name": "@atlassian/dc.jira.jira-issue-collector",
  "author": "Atlassian",
  "private": true,
  "version": "110.1.2",
  "repository": {
    "type": "git",
    "url": "ssh://git@stash.atlassian.com:7997/jiraserver/jira-plugins-bundle.git",
    "directory": "jira-issue-collector/jira-issue-collector/"
  },
  "scripts": {
    "build": "npm run",
    "//delink-raphael-analytics": "npm creates a symlink, but we want patch-package to leave the src folder alone",
    "delink-raphael-analytics": "rm -rf node_modules/raphael-analytics && cp -r src/main/frontend/raphael-analytics/1.5.2 node_modules/raphael-analytics",
    "postinstall": "npm run delink-raphael-analytics && patch-package --error-on-fail --error-on-warn &&  copy-files-from-to"

  },
  "dependencies": {
    "jquery-sparkline": "file:src/main/frontend/jquery-sparkline/2.1.2",
    "raphael": "file:src/main/frontend/raphael/1.5.2",
    "raphael-analytics": "file:src/main/frontend/raphael-analytics/1.5.2"
  },
  "devDependencies": {
    "copy-files-from-to": "3.11.0",
    "patch-package": "8.0.0"
  },
  "copyFilesSettings": {
    "minifyJs": false,
    "whenFileExists": "overwrite"
  },
  "copyFiles": [
    {
      "from": "node_modules/raphael/src/raphael.js",
      "to": {
        "default": {
          "dest": "src/main/resources/js/web/activity-chart/raphael-1.5.2.js",
          "minifyJs": true
        }
      }
    },
    {
      "from": "node_modules/raphael-analytics/src/analytics.js",
      "to":  "src/main/resources/js/web/activity-chart/activity.js"
    },
    {
      "from": "node_modules/raphael-analytics/src/popup.js",
      "to":  "src/main/resources/js/web/activity-chart/popup.js"
    },
    {
      "from": "node_modules/jquery-sparkline/dist/jquery.sparkline.js",
      "to": "src/main/resources/js/jquery/sparkline/2.1.2/jquery.sparkline.js"
    }
  ]
}
